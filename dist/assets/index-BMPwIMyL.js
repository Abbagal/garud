(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function u2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Aw={exports:{}},fc={},Dw={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hs=Symbol.for("react.element"),c2=Symbol.for("react.portal"),f2=Symbol.for("react.fragment"),d2=Symbol.for("react.strict_mode"),h2=Symbol.for("react.profiler"),v2=Symbol.for("react.provider"),p2=Symbol.for("react.context"),g2=Symbol.for("react.forward_ref"),m2=Symbol.for("react.suspense"),y2=Symbol.for("react.memo"),w2=Symbol.for("react.lazy"),Og=Symbol.iterator;function x2(t){return t===null||typeof t!="object"?null:(t=Og&&t[Og]||t["@@iterator"],typeof t=="function"?t:null)}var Mw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rw=Object.assign,Iw={};function ho(t,e,r){this.props=t,this.context=e,this.refs=Iw,this.updater=r||Mw}ho.prototype.isReactComponent={};ho.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ho.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Nw(){}Nw.prototype=ho.prototype;function Gv(t,e,r){this.props=t,this.context=e,this.refs=Iw,this.updater=r||Mw}var qv=Gv.prototype=new Nw;qv.constructor=Gv;Rw(qv,ho.prototype);qv.isPureReactComponent=!0;var Fg=Array.isArray,Lw=Object.prototype.hasOwnProperty,Wv={current:null},Bw={key:!0,ref:!0,__self:!0,__source:!0};function Ow(t,e,r){var n,a={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Lw.call(e,n)&&!Bw.hasOwnProperty(n)&&(a[n]=e[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];a.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:Hs,type:t,key:i,ref:o,props:a,_owner:Wv.current}}function b2(t,e){return{$$typeof:Hs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $v(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hs}function E2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var zg=/\/+/g;function tf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?E2(""+t.key):e.toString(36)}function Wl(t,e,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Hs:case c2:o=!0}}if(o)return o=t,a=a(o),t=n===""?"."+tf(o,0):n,Fg(a)?(r="",t!=null&&(r=t.replace(zg,"$&/")+"/"),Wl(a,e,r,"",function(u){return u})):a!=null&&($v(a)&&(a=b2(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(zg,"$&/")+"/")+t)),e.push(a)),1;if(o=0,n=n===""?".":n+":",Fg(t))for(var s=0;s<t.length;s++){i=t[s];var l=n+tf(i,s);o+=Wl(i,e,r,l,a)}else if(l=x2(t),typeof l=="function")for(t=l.call(t),s=0;!(i=t.next()).done;)i=i.value,l=n+tf(i,s++),o+=Wl(i,e,r,l,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function fl(t,e,r){if(t==null)return t;var n=[],a=0;return Wl(t,n,"","",function(i){return e.call(r,i,a++)}),n}function S2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var or={current:null},$l={transition:null},C2={ReactCurrentDispatcher:or,ReactCurrentBatchConfig:$l,ReactCurrentOwner:Wv};function Fw(){throw Error("act(...) is not supported in production builds of React.")}Be.Children={map:fl,forEach:function(t,e,r){fl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return fl(t,function(){e++}),e},toArray:function(t){return fl(t,function(e){return e})||[]},only:function(t){if(!$v(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Be.Component=ho;Be.Fragment=f2;Be.Profiler=h2;Be.PureComponent=Gv;Be.StrictMode=d2;Be.Suspense=m2;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C2;Be.act=Fw;Be.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Rw({},t.props),a=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Wv.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)Lw.call(e,l)&&!Bw.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Hs,type:t.type,key:a,ref:i,props:n,_owner:o}};Be.createContext=function(t){return t={$$typeof:p2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:v2,_context:t},t.Consumer=t};Be.createElement=Ow;Be.createFactory=function(t){var e=Ow.bind(null,t);return e.type=t,e};Be.createRef=function(){return{current:null}};Be.forwardRef=function(t){return{$$typeof:g2,render:t}};Be.isValidElement=$v;Be.lazy=function(t){return{$$typeof:w2,_payload:{_status:-1,_result:t},_init:S2}};Be.memo=function(t,e){return{$$typeof:y2,type:t,compare:e===void 0?null:e}};Be.startTransition=function(t){var e=$l.transition;$l.transition={};try{t()}finally{$l.transition=e}};Be.unstable_act=Fw;Be.useCallback=function(t,e){return or.current.useCallback(t,e)};Be.useContext=function(t){return or.current.useContext(t)};Be.useDebugValue=function(){};Be.useDeferredValue=function(t){return or.current.useDeferredValue(t)};Be.useEffect=function(t,e){return or.current.useEffect(t,e)};Be.useId=function(){return or.current.useId()};Be.useImperativeHandle=function(t,e,r){return or.current.useImperativeHandle(t,e,r)};Be.useInsertionEffect=function(t,e){return or.current.useInsertionEffect(t,e)};Be.useLayoutEffect=function(t,e){return or.current.useLayoutEffect(t,e)};Be.useMemo=function(t,e){return or.current.useMemo(t,e)};Be.useReducer=function(t,e,r){return or.current.useReducer(t,e,r)};Be.useRef=function(t){return or.current.useRef(t)};Be.useState=function(t){return or.current.useState(t)};Be.useSyncExternalStore=function(t,e,r){return or.current.useSyncExternalStore(t,e,r)};Be.useTransition=function(){return or.current.useTransition()};Be.version="18.3.1";Dw.exports=Be;var ae=Dw.exports;const Kv=u2(ae);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T2=ae,P2=Symbol.for("react.element"),k2=Symbol.for("react.fragment"),A2=Object.prototype.hasOwnProperty,D2=T2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M2={key:!0,ref:!0,__self:!0,__source:!0};function zw(t,e,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)A2.call(e,n)&&!M2.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:P2,type:t,key:i,ref:o,props:a,_owner:D2.current}}fc.Fragment=k2;fc.jsx=zw;fc.jsxs=zw;Aw.exports=fc;var j=Aw.exports,mh={},Vw={exports:{}},Pr={},_w={exports:{}},Uw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,F){var z=R.length;R.push(F);e:for(;0<z;){var O=z-1>>>1,V=R[O];if(0<a(V,F))R[O]=F,R[z]=V,z=O;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var F=R[0],z=R.pop();if(z!==F){R[0]=z;e:for(var O=0,V=R.length,W=V>>>1;O<W;){var Y=2*(O+1)-1,$=R[Y],X=Y+1,te=R[X];if(0>a($,z))X<V&&0>a(te,$)?(R[O]=te,R[X]=z,O=X):(R[O]=$,R[Y]=z,O=Y);else if(X<V&&0>a(te,z))R[O]=te,R[X]=z,O=X;else break e}}return F}function a(R,F){var z=R.sortIndex-F.sortIndex;return z!==0?z:R.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,d=3,h=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(R){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=R)n(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=r(u)}}function x(R){if(y=!1,m(R),!v)if(r(l)!==null)v=!0,L(E);else{var F=r(u);F!==null&&N(x,F.startTime-R)}}function E(R,F){v=!1,y&&(y=!1,g(C),C=-1),h=!0;var z=d;try{for(m(F),f=r(l);f!==null&&(!(f.expirationTime>F)||R&&!k());){var O=f.callback;if(typeof O=="function"){f.callback=null,d=f.priorityLevel;var V=O(f.expirationTime<=F);F=t.unstable_now(),typeof V=="function"?f.callback=V:f===r(l)&&n(l),m(F)}else n(l);f=r(l)}if(f!==null)var W=!0;else{var Y=r(u);Y!==null&&N(x,Y.startTime-F),W=!1}return W}finally{f=null,d=z,h=!1}}var S=!1,b=null,C=-1,T=5,P=-1;function k(){return!(t.unstable_now()-P<T)}function D(){if(b!==null){var R=t.unstable_now();P=R;var F=!0;try{F=b(!0,R)}finally{F?M():(S=!1,b=null)}}else S=!1}var M;if(typeof p=="function")M=function(){p(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,B=I.port2;I.port1.onmessage=D,M=function(){B.postMessage(null)}}else M=function(){w(D,0)};function L(R){b=R,S||(S=!0,M())}function N(R,F){C=w(function(){R(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,L(E))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(R){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var z=d;d=F;try{return R()}finally{d=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,F){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=d;d=R;try{return F()}finally{d=z}},t.unstable_scheduleCallback=function(R,F,z){var O=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?O+z:O):z=O,R){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=z+V,R={id:c++,callback:F,priorityLevel:R,startTime:z,expirationTime:V,sortIndex:-1},z>O?(R.sortIndex=z,e(u,R),r(l)===null&&R===r(u)&&(y?(g(C),C=-1):y=!0,N(x,z-O))):(R.sortIndex=V,e(l,R),v||h||(v=!0,L(E))),R},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(R){var F=d;return function(){var z=d;d=F;try{return R.apply(this,arguments)}finally{d=z}}}})(Uw);_w.exports=Uw;var R2=_w.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I2=ae,Cr=R2;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hw=new Set,ds={};function si(t,e){eo(t,e),eo(t+"Capture",e)}function eo(t,e){for(ds[t]=e,t=0;t<e.length;t++)Hw.add(e[t])}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yh=Object.prototype.hasOwnProperty,N2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vg={},_g={};function L2(t){return yh.call(_g,t)?!0:yh.call(Vg,t)?!1:N2.test(t)?_g[t]=!0:(Vg[t]=!0,!1)}function B2(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function O2(t,e,r,n){if(e===null||typeof e>"u"||B2(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sr(t,e,r,n,a,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ut[t]=new sr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ut[e]=new sr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ut[t]=new sr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ut[t]=new sr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ut[t]=new sr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ut[t]=new sr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ut[t]=new sr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ut[t]=new sr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ut[t]=new sr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yv=/[\-:]([a-z])/g;function Xv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yv,Xv);Ut[e]=new sr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yv,Xv);Ut[e]=new sr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yv,Xv);Ut[e]=new sr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ut[t]=new sr(t,1,!1,t.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ut[t]=new sr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zv(t,e,r,n){var a=Ut.hasOwnProperty(e)?Ut[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(O2(e,r,a,n)&&(r=null),n||a===null?L2(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var In=I2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dl=Symbol.for("react.element"),Ti=Symbol.for("react.portal"),Pi=Symbol.for("react.fragment"),Qv=Symbol.for("react.strict_mode"),wh=Symbol.for("react.profiler"),jw=Symbol.for("react.provider"),Gw=Symbol.for("react.context"),Jv=Symbol.for("react.forward_ref"),xh=Symbol.for("react.suspense"),bh=Symbol.for("react.suspense_list"),ep=Symbol.for("react.memo"),_n=Symbol.for("react.lazy"),qw=Symbol.for("react.offscreen"),Ug=Symbol.iterator;function To(t){return t===null||typeof t!="object"?null:(t=Ug&&t[Ug]||t["@@iterator"],typeof t=="function"?t:null)}var ut=Object.assign,rf;function Ho(t){if(rf===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);rf=e&&e[1]||""}return`
`+rf+t}var nf=!1;function af(t,e){if(!t||nf)return"";nf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{nf=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ho(t):""}function F2(t){switch(t.tag){case 5:return Ho(t.type);case 16:return Ho("Lazy");case 13:return Ho("Suspense");case 19:return Ho("SuspenseList");case 0:case 2:case 15:return t=af(t.type,!1),t;case 11:return t=af(t.type.render,!1),t;case 1:return t=af(t.type,!0),t;default:return""}}function Eh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pi:return"Fragment";case Ti:return"Portal";case wh:return"Profiler";case Qv:return"StrictMode";case xh:return"Suspense";case bh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gw:return(t.displayName||"Context")+".Consumer";case jw:return(t._context.displayName||"Context")+".Provider";case Jv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ep:return e=t.displayName||null,e!==null?e:Eh(t.type)||"Memo";case _n:e=t._payload,t=t._init;try{return Eh(t(e))}catch{}}return null}function z2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eh(e);case 8:return e===Qv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function la(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ww(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function V2(t){var e=Ww(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hl(t){t._valueTracker||(t._valueTracker=V2(t))}function $w(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Ww(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function wu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sh(t,e){var r=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Hg(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=la(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Kw(t,e){e=e.checked,e!=null&&Zv(t,"checked",e,!1)}function Ch(t,e){Kw(t,e);var r=la(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Th(t,e.type,r):e.hasOwnProperty("defaultValue")&&Th(t,e.type,la(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jg(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Th(t,e,r){(e!=="number"||wu(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var jo=Array.isArray;function Gi(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+la(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function Ph(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gg(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ne(92));if(jo(r)){if(1<r.length)throw Error(ne(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:la(r)}}function Yw(t,e){var r=la(e.value),n=la(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function qg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vl,Zw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vl=vl||document.createElement("div"),vl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hs(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Xo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_2=["Webkit","ms","Moz","O"];Object.keys(Xo).forEach(function(t){_2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xo[e]=Xo[t]})});function Qw(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Xo.hasOwnProperty(t)&&Xo[t]?(""+e).trim():e+"px"}function Jw(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Qw(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var U2=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ah(t,e){if(e){if(U2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function Dh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mh=null;function tp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rh=null,qi=null,Wi=null;function Wg(t){if(t=qs(t)){if(typeof Rh!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=gc(e),Rh(t.stateNode,t.type,e))}}function ex(t){qi?Wi?Wi.push(t):Wi=[t]:qi=t}function tx(){if(qi){var t=qi,e=Wi;if(Wi=qi=null,Wg(t),e)for(t=0;t<e.length;t++)Wg(e[t])}}function rx(t,e){return t(e)}function nx(){}var of=!1;function ax(t,e,r){if(of)return t(e,r);of=!0;try{return rx(t,e,r)}finally{of=!1,(qi!==null||Wi!==null)&&(nx(),tx())}}function vs(t,e){var r=t.stateNode;if(r===null)return null;var n=gc(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ne(231,e,typeof r));return r}var Ih=!1;if(Tn)try{var Po={};Object.defineProperty(Po,"passive",{get:function(){Ih=!0}}),window.addEventListener("test",Po,Po),window.removeEventListener("test",Po,Po)}catch{Ih=!1}function H2(t,e,r,n,a,i,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Zo=!1,xu=null,bu=!1,Nh=null,j2={onError:function(t){Zo=!0,xu=t}};function G2(t,e,r,n,a,i,o,s,l){Zo=!1,xu=null,H2.apply(j2,arguments)}function q2(t,e,r,n,a,i,o,s,l){if(G2.apply(this,arguments),Zo){if(Zo){var u=xu;Zo=!1,xu=null}else throw Error(ne(198));bu||(bu=!0,Nh=u)}}function li(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function ix(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $g(t){if(li(t)!==t)throw Error(ne(188))}function W2(t){var e=t.alternate;if(!e){if(e=li(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return $g(a),t;if(i===n)return $g(a),e;i=i.sibling}throw Error(ne(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o)throw Error(ne(189))}}if(r.alternate!==n)throw Error(ne(190))}if(r.tag!==3)throw Error(ne(188));return r.stateNode.current===r?t:e}function ox(t){return t=W2(t),t!==null?sx(t):null}function sx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sx(t);if(e!==null)return e;t=t.sibling}return null}var lx=Cr.unstable_scheduleCallback,Kg=Cr.unstable_cancelCallback,$2=Cr.unstable_shouldYield,K2=Cr.unstable_requestPaint,ht=Cr.unstable_now,Y2=Cr.unstable_getCurrentPriorityLevel,rp=Cr.unstable_ImmediatePriority,ux=Cr.unstable_UserBlockingPriority,Eu=Cr.unstable_NormalPriority,X2=Cr.unstable_LowPriority,cx=Cr.unstable_IdlePriority,dc=null,on=null;function Z2(t){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(dc,t,void 0,(t.current.flags&128)===128)}catch{}}var $r=Math.clz32?Math.clz32:eT,Q2=Math.log,J2=Math.LN2;function eT(t){return t>>>=0,t===0?32:31-(Q2(t)/J2|0)|0}var pl=64,gl=4194304;function Go(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Su(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~a;s!==0?n=Go(s):(i&=o,i!==0&&(n=Go(i)))}else o=r&~a,o!==0?n=Go(o):i!==0&&(n=Go(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-$r(e),a=1<<r,n|=t[r],e&=~a;return n}function tT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rT(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-$r(i),s=1<<o,l=a[o];l===-1?(!(s&r)||s&n)&&(a[o]=tT(s,e)):l<=e&&(t.expiredLanes|=s),i&=~s}}function Lh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fx(){var t=pl;return pl<<=1,!(pl&4194240)&&(pl=64),t}function sf(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function js(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$r(e),t[e]=r}function nT(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-$r(r),i=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function np(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-$r(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var $e=0;function dx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hx,ap,vx,px,gx,Bh=!1,ml=[],Zn=null,Qn=null,Jn=null,ps=new Map,gs=new Map,Gn=[],aT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yg(t,e){switch(t){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":ps.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(e.pointerId)}}function ko(t,e,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=qs(e),e!==null&&ap(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function iT(t,e,r,n,a){switch(e){case"focusin":return Zn=ko(Zn,t,e,r,n,a),!0;case"dragenter":return Qn=ko(Qn,t,e,r,n,a),!0;case"mouseover":return Jn=ko(Jn,t,e,r,n,a),!0;case"pointerover":var i=a.pointerId;return ps.set(i,ko(ps.get(i)||null,t,e,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,gs.set(i,ko(gs.get(i)||null,t,e,r,n,a)),!0}return!1}function mx(t){var e=Ha(t.target);if(e!==null){var r=li(e);if(r!==null){if(e=r.tag,e===13){if(e=ix(r),e!==null){t.blockedOn=e,gx(t.priority,function(){vx(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Oh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Mh=n,r.target.dispatchEvent(n),Mh=null}else return e=qs(r),e!==null&&ap(e),t.blockedOn=r,!1;e.shift()}return!0}function Xg(t,e,r){Kl(t)&&r.delete(e)}function oT(){Bh=!1,Zn!==null&&Kl(Zn)&&(Zn=null),Qn!==null&&Kl(Qn)&&(Qn=null),Jn!==null&&Kl(Jn)&&(Jn=null),ps.forEach(Xg),gs.forEach(Xg)}function Ao(t,e){t.blockedOn===e&&(t.blockedOn=null,Bh||(Bh=!0,Cr.unstable_scheduleCallback(Cr.unstable_NormalPriority,oT)))}function ms(t){function e(a){return Ao(a,t)}if(0<ml.length){Ao(ml[0],t);for(var r=1;r<ml.length;r++){var n=ml[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Zn!==null&&Ao(Zn,t),Qn!==null&&Ao(Qn,t),Jn!==null&&Ao(Jn,t),ps.forEach(e),gs.forEach(e),r=0;r<Gn.length;r++)n=Gn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Gn.length&&(r=Gn[0],r.blockedOn===null);)mx(r),r.blockedOn===null&&Gn.shift()}var $i=In.ReactCurrentBatchConfig,Cu=!0;function sT(t,e,r,n){var a=$e,i=$i.transition;$i.transition=null;try{$e=1,ip(t,e,r,n)}finally{$e=a,$i.transition=i}}function lT(t,e,r,n){var a=$e,i=$i.transition;$i.transition=null;try{$e=4,ip(t,e,r,n)}finally{$e=a,$i.transition=i}}function ip(t,e,r,n){if(Cu){var a=Oh(t,e,r,n);if(a===null)mf(t,e,n,Tu,r),Yg(t,n);else if(iT(a,t,e,r,n))n.stopPropagation();else if(Yg(t,n),e&4&&-1<aT.indexOf(t)){for(;a!==null;){var i=qs(a);if(i!==null&&hx(i),i=Oh(t,e,r,n),i===null&&mf(t,e,n,Tu,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else mf(t,e,n,null,r)}}var Tu=null;function Oh(t,e,r,n){if(Tu=null,t=tp(n),t=Ha(t),t!==null)if(e=li(t),e===null)t=null;else if(r=e.tag,r===13){if(t=ix(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tu=t,null}function yx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y2()){case rp:return 1;case ux:return 4;case Eu:case X2:return 16;case cx:return 536870912;default:return 16}default:return 16}}var Wn=null,op=null,Yl=null;function wx(){if(Yl)return Yl;var t,e=op,r=e.length,n,a="value"in Wn?Wn.value:Wn.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===a[i-n];n++);return Yl=a.slice(t,1<n?1-n:void 0)}function Xl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yl(){return!0}function Zg(){return!1}function kr(t){function e(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?yl:Zg,this.isPropagationStopped=Zg,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),e}var vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sp=kr(vo),Gs=ut({},vo,{view:0,detail:0}),uT=kr(Gs),lf,uf,Do,hc=ut({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Do&&(Do&&t.type==="mousemove"?(lf=t.screenX-Do.screenX,uf=t.screenY-Do.screenY):uf=lf=0,Do=t),lf)},movementY:function(t){return"movementY"in t?t.movementY:uf}}),Qg=kr(hc),cT=ut({},hc,{dataTransfer:0}),fT=kr(cT),dT=ut({},Gs,{relatedTarget:0}),cf=kr(dT),hT=ut({},vo,{animationName:0,elapsedTime:0,pseudoElement:0}),vT=kr(hT),pT=ut({},vo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gT=kr(pT),mT=ut({},vo,{data:0}),Jg=kr(mT),yT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xT[t])?!!e[t]:!1}function lp(){return bT}var ET=ut({},Gs,{key:function(t){if(t.key){var e=yT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lp,charCode:function(t){return t.type==="keypress"?Xl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ST=kr(ET),CT=ut({},hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),em=kr(CT),TT=ut({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lp}),PT=kr(TT),kT=ut({},vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),AT=kr(kT),DT=ut({},hc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),MT=kr(DT),RT=[9,13,27,32],up=Tn&&"CompositionEvent"in window,Qo=null;Tn&&"documentMode"in document&&(Qo=document.documentMode);var IT=Tn&&"TextEvent"in window&&!Qo,xx=Tn&&(!up||Qo&&8<Qo&&11>=Qo),tm=" ",rm=!1;function bx(t,e){switch(t){case"keyup":return RT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ex(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ki=!1;function NT(t,e){switch(t){case"compositionend":return Ex(e);case"keypress":return e.which!==32?null:(rm=!0,tm);case"textInput":return t=e.data,t===tm&&rm?null:t;default:return null}}function LT(t,e){if(ki)return t==="compositionend"||!up&&bx(t,e)?(t=wx(),Yl=op=Wn=null,ki=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xx&&e.locale!=="ko"?null:e.data;default:return null}}var BT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BT[t.type]:e==="textarea"}function Sx(t,e,r,n){ex(n),e=Pu(e,"onChange"),0<e.length&&(r=new sp("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Jo=null,ys=null;function OT(t){Lx(t,0)}function vc(t){var e=Mi(t);if($w(e))return t}function FT(t,e){if(t==="change")return e}var Cx=!1;if(Tn){var ff;if(Tn){var df="oninput"in document;if(!df){var am=document.createElement("div");am.setAttribute("oninput","return;"),df=typeof am.oninput=="function"}ff=df}else ff=!1;Cx=ff&&(!document.documentMode||9<document.documentMode)}function im(){Jo&&(Jo.detachEvent("onpropertychange",Tx),ys=Jo=null)}function Tx(t){if(t.propertyName==="value"&&vc(ys)){var e=[];Sx(e,ys,t,tp(t)),ax(OT,e)}}function zT(t,e,r){t==="focusin"?(im(),Jo=e,ys=r,Jo.attachEvent("onpropertychange",Tx)):t==="focusout"&&im()}function VT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vc(ys)}function _T(t,e){if(t==="click")return vc(e)}function UT(t,e){if(t==="input"||t==="change")return vc(e)}function HT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xr=typeof Object.is=="function"?Object.is:HT;function ws(t,e){if(Xr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!yh.call(e,a)||!Xr(t[a],e[a]))return!1}return!0}function om(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sm(t,e){var r=om(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=om(r)}}function Px(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Px(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kx(){for(var t=window,e=wu();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=wu(t.document)}return e}function cp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jT(t){var e=kx(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Px(r.ownerDocument.documentElement,r)){if(n!==null&&cp(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=sm(r,i);var o=sm(r,n);a&&o&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var GT=Tn&&"documentMode"in document&&11>=document.documentMode,Ai=null,Fh=null,es=null,zh=!1;function lm(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zh||Ai==null||Ai!==wu(n)||(n=Ai,"selectionStart"in n&&cp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),es&&ws(es,n)||(es=n,n=Pu(Fh,"onSelect"),0<n.length&&(e=new sp("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ai)))}function wl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Di={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionend:wl("Transition","TransitionEnd")},hf={},Ax={};Tn&&(Ax=document.createElement("div").style,"AnimationEvent"in window||(delete Di.animationend.animation,delete Di.animationiteration.animation,delete Di.animationstart.animation),"TransitionEvent"in window||delete Di.transitionend.transition);function pc(t){if(hf[t])return hf[t];if(!Di[t])return t;var e=Di[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Ax)return hf[t]=e[r];return t}var Dx=pc("animationend"),Mx=pc("animationiteration"),Rx=pc("animationstart"),Ix=pc("transitionend"),Nx=new Map,um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ya(t,e){Nx.set(t,e),si(e,[t])}for(var vf=0;vf<um.length;vf++){var pf=um[vf],qT=pf.toLowerCase(),WT=pf[0].toUpperCase()+pf.slice(1);ya(qT,"on"+WT)}ya(Dx,"onAnimationEnd");ya(Mx,"onAnimationIteration");ya(Rx,"onAnimationStart");ya("dblclick","onDoubleClick");ya("focusin","onFocus");ya("focusout","onBlur");ya(Ix,"onTransitionEnd");eo("onMouseEnter",["mouseout","mouseover"]);eo("onMouseLeave",["mouseout","mouseover"]);eo("onPointerEnter",["pointerout","pointerover"]);eo("onPointerLeave",["pointerout","pointerover"]);si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));si("onBeforeInput",["compositionend","keypress","textInput","paste"]);si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$T=new Set("cancel close invalid load scroll toggle".split(" ").concat(qo));function cm(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,q2(n,e,void 0,t),t.currentTarget=null}function Lx(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;cm(a,s,u),i=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;cm(a,s,u),i=l}}}if(bu)throw t=Nh,bu=!1,Nh=null,t}function et(t,e){var r=e[jh];r===void 0&&(r=e[jh]=new Set);var n=t+"__bubble";r.has(n)||(Bx(e,t,2,!1),r.add(n))}function gf(t,e,r){var n=0;e&&(n|=4),Bx(r,t,n,e)}var xl="_reactListening"+Math.random().toString(36).slice(2);function xs(t){if(!t[xl]){t[xl]=!0,Hw.forEach(function(r){r!=="selectionchange"&&($T.has(r)||gf(r,!1,t),gf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xl]||(e[xl]=!0,gf("selectionchange",!1,e))}}function Bx(t,e,r,n){switch(yx(e)){case 1:var a=sT;break;case 4:a=lT;break;default:a=ip}r=a.bind(null,e,r,t),a=void 0,!Ih||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function mf(t,e,r,n,a){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=Ha(s),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}s=s.parentNode}}n=n.return}ax(function(){var u=i,c=tp(r),f=[];e:{var d=Nx.get(t);if(d!==void 0){var h=sp,v=t;switch(t){case"keypress":if(Xl(r)===0)break e;case"keydown":case"keyup":h=ST;break;case"focusin":v="focus",h=cf;break;case"focusout":v="blur",h=cf;break;case"beforeblur":case"afterblur":h=cf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=fT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=PT;break;case Dx:case Mx:case Rx:h=vT;break;case Ix:h=AT;break;case"scroll":h=uT;break;case"wheel":h=MT;break;case"copy":case"cut":case"paste":h=gT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=em}var y=(e&4)!==0,w=!y&&t==="scroll",g=y?d!==null?d+"Capture":null:d;y=[];for(var p=u,m;p!==null;){m=p;var x=m.stateNode;if(m.tag===5&&x!==null&&(m=x,g!==null&&(x=vs(p,g),x!=null&&y.push(bs(p,x,m)))),w)break;p=p.return}0<y.length&&(d=new h(d,v,null,r,c),f.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&r!==Mh&&(v=r.relatedTarget||r.fromElement)&&(Ha(v)||v[Pn]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(v=r.relatedTarget||r.toElement,h=u,v=v?Ha(v):null,v!==null&&(w=li(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(y=Qg,x="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=em,x="onPointerLeave",g="onPointerEnter",p="pointer"),w=h==null?d:Mi(h),m=v==null?d:Mi(v),d=new y(x,p+"leave",h,r,c),d.target=w,d.relatedTarget=m,x=null,Ha(c)===u&&(y=new y(g,p+"enter",v,r,c),y.target=m,y.relatedTarget=w,x=y),w=x,h&&v)t:{for(y=h,g=v,p=0,m=y;m;m=vi(m))p++;for(m=0,x=g;x;x=vi(x))m++;for(;0<p-m;)y=vi(y),p--;for(;0<m-p;)g=vi(g),m--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break t;y=vi(y),g=vi(g)}y=null}else y=null;h!==null&&fm(f,d,h,y,!1),v!==null&&w!==null&&fm(f,w,v,y,!0)}}e:{if(d=u?Mi(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var E=FT;else if(nm(d))if(Cx)E=UT;else{E=VT;var S=zT}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=_T);if(E&&(E=E(t,u))){Sx(f,E,r,c);break e}S&&S(t,d,u),t==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&Th(d,"number",d.value)}switch(S=u?Mi(u):window,t){case"focusin":(nm(S)||S.contentEditable==="true")&&(Ai=S,Fh=u,es=null);break;case"focusout":es=Fh=Ai=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,lm(f,r,c);break;case"selectionchange":if(GT)break;case"keydown":case"keyup":lm(f,r,c)}var b;if(up)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ki?bx(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(xx&&r.locale!=="ko"&&(ki||C!=="onCompositionStart"?C==="onCompositionEnd"&&ki&&(b=wx()):(Wn=c,op="value"in Wn?Wn.value:Wn.textContent,ki=!0)),S=Pu(u,C),0<S.length&&(C=new Jg(C,t,null,r,c),f.push({event:C,listeners:S}),b?C.data=b:(b=Ex(r),b!==null&&(C.data=b)))),(b=IT?NT(t,r):LT(t,r))&&(u=Pu(u,"onBeforeInput"),0<u.length&&(c=new Jg("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=b))}Lx(f,e)})}function bs(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Pu(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=vs(t,r),i!=null&&n.unshift(bs(t,i,a)),i=vs(t,e),i!=null&&n.push(bs(t,i,a))),t=t.return}return n}function vi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fm(t,e,r,n,a){for(var i=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,a?(l=vs(r,i),l!=null&&o.unshift(bs(r,l,s))):a||(l=vs(r,i),l!=null&&o.push(bs(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var KT=/\r\n?/g,YT=/\u0000|\uFFFD/g;function dm(t){return(typeof t=="string"?t:""+t).replace(KT,`
`).replace(YT,"")}function bl(t,e,r){if(e=dm(e),dm(t)!==e&&r)throw Error(ne(425))}function ku(){}var Vh=null,_h=null;function Uh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hh=typeof setTimeout=="function"?setTimeout:void 0,XT=typeof clearTimeout=="function"?clearTimeout:void 0,hm=typeof Promise=="function"?Promise:void 0,ZT=typeof queueMicrotask=="function"?queueMicrotask:typeof hm<"u"?function(t){return hm.resolve(null).then(t).catch(QT)}:Hh;function QT(t){setTimeout(function(){throw t})}function yf(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),ms(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);ms(e)}function ea(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var po=Math.random().toString(36).slice(2),nn="__reactFiber$"+po,Es="__reactProps$"+po,Pn="__reactContainer$"+po,jh="__reactEvents$"+po,JT="__reactListeners$"+po,eP="__reactHandles$"+po;function Ha(t){var e=t[nn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Pn]||r[nn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=vm(t);t!==null;){if(r=t[nn])return r;t=vm(t)}return e}t=r,r=t.parentNode}return null}function qs(t){return t=t[nn]||t[Pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function gc(t){return t[Es]||null}var Gh=[],Ri=-1;function wa(t){return{current:t}}function tt(t){0>Ri||(t.current=Gh[Ri],Gh[Ri]=null,Ri--)}function Ze(t,e){Ri++,Gh[Ri]=t.current,t.current=e}var ua={},Yt=wa(ua),gr=wa(!1),Xa=ua;function to(t,e){var r=t.type.contextTypes;if(!r)return ua;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function mr(t){return t=t.childContextTypes,t!=null}function Au(){tt(gr),tt(Yt)}function pm(t,e,r){if(Yt.current!==ua)throw Error(ne(168));Ze(Yt,e),Ze(gr,r)}function Ox(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(ne(108,z2(t)||"Unknown",a));return ut({},r,n)}function Du(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ua,Xa=Yt.current,Ze(Yt,t),Ze(gr,gr.current),!0}function gm(t,e,r){var n=t.stateNode;if(!n)throw Error(ne(169));r?(t=Ox(t,e,Xa),n.__reactInternalMemoizedMergedChildContext=t,tt(gr),tt(Yt),Ze(Yt,t)):tt(gr),Ze(gr,r)}var gn=null,mc=!1,wf=!1;function Fx(t){gn===null?gn=[t]:gn.push(t)}function tP(t){mc=!0,Fx(t)}function xa(){if(!wf&&gn!==null){wf=!0;var t=0,e=$e;try{var r=gn;for($e=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}gn=null,mc=!1}catch(a){throw gn!==null&&(gn=gn.slice(t+1)),lx(rp,xa),a}finally{$e=e,wf=!1}}return null}var Ii=[],Ni=0,Mu=null,Ru=0,Ir=[],Nr=0,Za=null,yn=1,wn="";function Ia(t,e){Ii[Ni++]=Ru,Ii[Ni++]=Mu,Mu=t,Ru=e}function zx(t,e,r){Ir[Nr++]=yn,Ir[Nr++]=wn,Ir[Nr++]=Za,Za=t;var n=yn;t=wn;var a=32-$r(n)-1;n&=~(1<<a),r+=1;var i=32-$r(e)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,yn=1<<32-$r(e)+a|r<<a|n,wn=i+t}else yn=1<<i|r<<a|n,wn=t}function fp(t){t.return!==null&&(Ia(t,1),zx(t,1,0))}function dp(t){for(;t===Mu;)Mu=Ii[--Ni],Ii[Ni]=null,Ru=Ii[--Ni],Ii[Ni]=null;for(;t===Za;)Za=Ir[--Nr],Ir[Nr]=null,wn=Ir[--Nr],Ir[Nr]=null,yn=Ir[--Nr],Ir[Nr]=null}var Er=null,br=null,nt=!1,Wr=null;function Vx(t,e){var r=Br(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function mm(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Er=t,br=ea(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Er=t,br=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Za!==null?{id:yn,overflow:wn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Br(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Er=t,br=null,!0):!1;default:return!1}}function qh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wh(t){if(nt){var e=br;if(e){var r=e;if(!mm(t,e)){if(qh(t))throw Error(ne(418));e=ea(r.nextSibling);var n=Er;e&&mm(t,e)?Vx(n,r):(t.flags=t.flags&-4097|2,nt=!1,Er=t)}}else{if(qh(t))throw Error(ne(418));t.flags=t.flags&-4097|2,nt=!1,Er=t}}}function ym(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Er=t}function El(t){if(t!==Er)return!1;if(!nt)return ym(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uh(t.type,t.memoizedProps)),e&&(e=br)){if(qh(t))throw _x(),Error(ne(418));for(;e;)Vx(t,e),e=ea(e.nextSibling)}if(ym(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){br=ea(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}br=null}}else br=Er?ea(t.stateNode.nextSibling):null;return!0}function _x(){for(var t=br;t;)t=ea(t.nextSibling)}function ro(){br=Er=null,nt=!1}function hp(t){Wr===null?Wr=[t]:Wr.push(t)}var rP=In.ReactCurrentBatchConfig;function Mo(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ne(309));var n=r.stateNode}if(!n)throw Error(ne(147,t));var a=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ne(284));if(!r._owner)throw Error(ne(290,t))}return t}function Sl(t,e){throw t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wm(t){var e=t._init;return e(t._payload)}function Ux(t){function e(g,p){if(t){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function r(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function a(g,p){return g=aa(g,p),g.index=0,g.sibling=null,g}function i(g,p,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function s(g,p,m,x){return p===null||p.tag!==6?(p=Pf(m,g.mode,x),p.return=g,p):(p=a(p,m),p.return=g,p)}function l(g,p,m,x){var E=m.type;return E===Pi?c(g,p,m.props.children,x,m.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===_n&&wm(E)===p.type)?(x=a(p,m.props),x.ref=Mo(g,p,m),x.return=g,x):(x=nu(m.type,m.key,m.props,null,g.mode,x),x.ref=Mo(g,p,m),x.return=g,x)}function u(g,p,m,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=kf(m,g.mode,x),p.return=g,p):(p=a(p,m.children||[]),p.return=g,p)}function c(g,p,m,x,E){return p===null||p.tag!==7?(p=Ka(m,g.mode,x,E),p.return=g,p):(p=a(p,m),p.return=g,p)}function f(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Pf(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case dl:return m=nu(p.type,p.key,p.props,null,g.mode,m),m.ref=Mo(g,null,p),m.return=g,m;case Ti:return p=kf(p,g.mode,m),p.return=g,p;case _n:var x=p._init;return f(g,x(p._payload),m)}if(jo(p)||To(p))return p=Ka(p,g.mode,m,null),p.return=g,p;Sl(g,p)}return null}function d(g,p,m,x){var E=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return E!==null?null:s(g,p,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case dl:return m.key===E?l(g,p,m,x):null;case Ti:return m.key===E?u(g,p,m,x):null;case _n:return E=m._init,d(g,p,E(m._payload),x)}if(jo(m)||To(m))return E!==null?null:c(g,p,m,x,null);Sl(g,m)}return null}function h(g,p,m,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(m)||null,s(p,g,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case dl:return g=g.get(x.key===null?m:x.key)||null,l(p,g,x,E);case Ti:return g=g.get(x.key===null?m:x.key)||null,u(p,g,x,E);case _n:var S=x._init;return h(g,p,m,S(x._payload),E)}if(jo(x)||To(x))return g=g.get(m)||null,c(p,g,x,E,null);Sl(p,x)}return null}function v(g,p,m,x){for(var E=null,S=null,b=p,C=p=0,T=null;b!==null&&C<m.length;C++){b.index>C?(T=b,b=null):T=b.sibling;var P=d(g,b,m[C],x);if(P===null){b===null&&(b=T);break}t&&b&&P.alternate===null&&e(g,b),p=i(P,p,C),S===null?E=P:S.sibling=P,S=P,b=T}if(C===m.length)return r(g,b),nt&&Ia(g,C),E;if(b===null){for(;C<m.length;C++)b=f(g,m[C],x),b!==null&&(p=i(b,p,C),S===null?E=b:S.sibling=b,S=b);return nt&&Ia(g,C),E}for(b=n(g,b);C<m.length;C++)T=h(b,g,C,m[C],x),T!==null&&(t&&T.alternate!==null&&b.delete(T.key===null?C:T.key),p=i(T,p,C),S===null?E=T:S.sibling=T,S=T);return t&&b.forEach(function(k){return e(g,k)}),nt&&Ia(g,C),E}function y(g,p,m,x){var E=To(m);if(typeof E!="function")throw Error(ne(150));if(m=E.call(m),m==null)throw Error(ne(151));for(var S=E=null,b=p,C=p=0,T=null,P=m.next();b!==null&&!P.done;C++,P=m.next()){b.index>C?(T=b,b=null):T=b.sibling;var k=d(g,b,P.value,x);if(k===null){b===null&&(b=T);break}t&&b&&k.alternate===null&&e(g,b),p=i(k,p,C),S===null?E=k:S.sibling=k,S=k,b=T}if(P.done)return r(g,b),nt&&Ia(g,C),E;if(b===null){for(;!P.done;C++,P=m.next())P=f(g,P.value,x),P!==null&&(p=i(P,p,C),S===null?E=P:S.sibling=P,S=P);return nt&&Ia(g,C),E}for(b=n(g,b);!P.done;C++,P=m.next())P=h(b,g,C,P.value,x),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?C:P.key),p=i(P,p,C),S===null?E=P:S.sibling=P,S=P);return t&&b.forEach(function(D){return e(g,D)}),nt&&Ia(g,C),E}function w(g,p,m,x){if(typeof m=="object"&&m!==null&&m.type===Pi&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case dl:e:{for(var E=m.key,S=p;S!==null;){if(S.key===E){if(E=m.type,E===Pi){if(S.tag===7){r(g,S.sibling),p=a(S,m.props.children),p.return=g,g=p;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===_n&&wm(E)===S.type){r(g,S.sibling),p=a(S,m.props),p.ref=Mo(g,S,m),p.return=g,g=p;break e}r(g,S);break}else e(g,S);S=S.sibling}m.type===Pi?(p=Ka(m.props.children,g.mode,x,m.key),p.return=g,g=p):(x=nu(m.type,m.key,m.props,null,g.mode,x),x.ref=Mo(g,p,m),x.return=g,g=x)}return o(g);case Ti:e:{for(S=m.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){r(g,p.sibling),p=a(p,m.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else e(g,p);p=p.sibling}p=kf(m,g.mode,x),p.return=g,g=p}return o(g);case _n:return S=m._init,w(g,p,S(m._payload),x)}if(jo(m))return v(g,p,m,x);if(To(m))return y(g,p,m,x);Sl(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(r(g,p.sibling),p=a(p,m),p.return=g,g=p):(r(g,p),p=Pf(m,g.mode,x),p.return=g,g=p),o(g)):r(g,p)}return w}var no=Ux(!0),Hx=Ux(!1),Iu=wa(null),Nu=null,Li=null,vp=null;function pp(){vp=Li=Nu=null}function gp(t){var e=Iu.current;tt(Iu),t._currentValue=e}function $h(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ki(t,e){Nu=t,vp=Li=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vr=!0),t.firstContext=null)}function zr(t){var e=t._currentValue;if(vp!==t)if(t={context:t,memoizedValue:e,next:null},Li===null){if(Nu===null)throw Error(ne(308));Li=t,Nu.dependencies={lanes:0,firstContext:t}}else Li=Li.next=t;return e}var ja=null;function mp(t){ja===null?ja=[t]:ja.push(t)}function jx(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,mp(e)):(r.next=a.next,a.next=r),e.interleaved=r,kn(t,n)}function kn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Un=!1;function yp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function En(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ta(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ve&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,kn(t,r)}return a=n.interleaved,a===null?(e.next=e,mp(n)):(e.next=a.next,a.next=e),n.interleaved=e,kn(t,r)}function Zl(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,np(t,r)}}function xm(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Lu(t,e,r,n){var a=t.updateQueue;Un=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;o=0,c=u=l=null,s=i;do{var d=s.lane,h=s.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,y=s;switch(d=e,h=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(h,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,d=typeof v=="function"?v.call(h,f,d):v,d==null)break e;f=ut({},f,d);break e;case 2:Un=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=a.effects,d===null?a.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,o|=d;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;d=s,s=d.next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}while(!0);if(c===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,e=a.shared.interleaved,e!==null){a=e;do o|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);Ja|=o,t.lanes=o,t.memoizedState=f}}function bm(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ne(191,a));a.call(n)}}}var Ws={},sn=wa(Ws),Ss=wa(Ws),Cs=wa(Ws);function Ga(t){if(t===Ws)throw Error(ne(174));return t}function wp(t,e){switch(Ze(Cs,e),Ze(Ss,t),Ze(sn,Ws),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=kh(e,t)}tt(sn),Ze(sn,e)}function ao(){tt(sn),tt(Ss),tt(Cs)}function qx(t){Ga(Cs.current);var e=Ga(sn.current),r=kh(e,t.type);e!==r&&(Ze(Ss,t),Ze(sn,r))}function xp(t){Ss.current===t&&(tt(sn),tt(Ss))}var it=wa(0);function Bu(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xf=[];function bp(){for(var t=0;t<xf.length;t++)xf[t]._workInProgressVersionPrimary=null;xf.length=0}var Ql=In.ReactCurrentDispatcher,bf=In.ReactCurrentBatchConfig,Qa=0,st=null,Ct=null,Rt=null,Ou=!1,ts=!1,Ts=0,nP=0;function qt(){throw Error(ne(321))}function Ep(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Xr(t[r],e[r]))return!1;return!0}function Sp(t,e,r,n,a,i){if(Qa=i,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ql.current=t===null||t.memoizedState===null?sP:lP,t=r(n,a),ts){i=0;do{if(ts=!1,Ts=0,25<=i)throw Error(ne(301));i+=1,Rt=Ct=null,e.updateQueue=null,Ql.current=uP,t=r(n,a)}while(ts)}if(Ql.current=Fu,e=Ct!==null&&Ct.next!==null,Qa=0,Rt=Ct=st=null,Ou=!1,e)throw Error(ne(300));return t}function Cp(){var t=Ts!==0;return Ts=0,t}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?st.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function Vr(){if(Ct===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=Ct.next;var e=Rt===null?st.memoizedState:Rt.next;if(e!==null)Rt=e,Ct=t;else{if(t===null)throw Error(ne(310));Ct=t,t={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Rt===null?st.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function Ps(t,e){return typeof e=="function"?e(t):e}function Ef(t){var e=Vr(),r=e.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=t;var n=Ct,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var s=o=null,l=null,u=i;do{var c=u.lane;if((Qa&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,st.lanes|=c,Ja|=c}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=s,Xr(n,e.memoizedState)||(vr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,st.lanes|=i,Ja|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Sf(t){var e=Vr(),r=e.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=t(i,o.action),o=o.next;while(o!==a);Xr(i,e.memoizedState)||(vr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Wx(){}function $x(t,e){var r=st,n=Vr(),a=e(),i=!Xr(n.memoizedState,a);if(i&&(n.memoizedState=a,vr=!0),n=n.queue,Tp(Xx.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Rt!==null&&Rt.memoizedState.tag&1){if(r.flags|=2048,ks(9,Yx.bind(null,r,n,a,e),void 0,null),It===null)throw Error(ne(349));Qa&30||Kx(r,e,a)}return a}function Kx(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Yx(t,e,r,n){e.value=r,e.getSnapshot=n,Zx(e)&&Qx(t)}function Xx(t,e,r){return r(function(){Zx(e)&&Qx(t)})}function Zx(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Xr(t,r)}catch{return!0}}function Qx(t){var e=kn(t,1);e!==null&&Kr(e,t,1,-1)}function Em(t){var e=rn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:t},e.queue=t,t=t.dispatch=oP.bind(null,st,t),[e.memoizedState,t]}function ks(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Jx(){return Vr().memoizedState}function Jl(t,e,r,n){var a=rn();st.flags|=t,a.memoizedState=ks(1|e,r,void 0,n===void 0?null:n)}function yc(t,e,r,n){var a=Vr();n=n===void 0?null:n;var i=void 0;if(Ct!==null){var o=Ct.memoizedState;if(i=o.destroy,n!==null&&Ep(n,o.deps)){a.memoizedState=ks(e,r,i,n);return}}st.flags|=t,a.memoizedState=ks(1|e,r,i,n)}function Sm(t,e){return Jl(8390656,8,t,e)}function Tp(t,e){return yc(2048,8,t,e)}function eb(t,e){return yc(4,2,t,e)}function tb(t,e){return yc(4,4,t,e)}function rb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nb(t,e,r){return r=r!=null?r.concat([t]):null,yc(4,4,rb.bind(null,e,t),r)}function Pp(){}function ab(t,e){var r=Vr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ep(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function ib(t,e){var r=Vr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ep(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function ob(t,e,r){return Qa&21?(Xr(r,e)||(r=fx(),st.lanes|=r,Ja|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vr=!0),t.memoizedState=r)}function aP(t,e){var r=$e;$e=r!==0&&4>r?r:4,t(!0);var n=bf.transition;bf.transition={};try{t(!1),e()}finally{$e=r,bf.transition=n}}function sb(){return Vr().memoizedState}function iP(t,e,r){var n=na(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},lb(t))ub(e,r);else if(r=jx(t,e,r,n),r!==null){var a=ar();Kr(r,t,n,a),cb(r,e,n)}}function oP(t,e,r){var n=na(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(lb(t))ub(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,s=i(o,r);if(a.hasEagerState=!0,a.eagerState=s,Xr(s,o)){var l=e.interleaved;l===null?(a.next=a,mp(e)):(a.next=l.next,l.next=a),e.interleaved=a;return}}catch{}finally{}r=jx(t,e,a,n),r!==null&&(a=ar(),Kr(r,t,n,a),cb(r,e,n))}}function lb(t){var e=t.alternate;return t===st||e!==null&&e===st}function ub(t,e){ts=Ou=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function cb(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,np(t,r)}}var Fu={readContext:zr,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},sP={readContext:zr,useCallback:function(t,e){return rn().memoizedState=[t,e===void 0?null:e],t},useContext:zr,useEffect:Sm,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Jl(4194308,4,rb.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Jl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jl(4,2,t,e)},useMemo:function(t,e){var r=rn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=rn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=iP.bind(null,st,t),[n.memoizedState,t]},useRef:function(t){var e=rn();return t={current:t},e.memoizedState=t},useState:Em,useDebugValue:Pp,useDeferredValue:function(t){return rn().memoizedState=t},useTransition:function(){var t=Em(!1),e=t[0];return t=aP.bind(null,t[1]),rn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=st,a=rn();if(nt){if(r===void 0)throw Error(ne(407));r=r()}else{if(r=e(),It===null)throw Error(ne(349));Qa&30||Kx(n,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,Sm(Xx.bind(null,n,i,t),[t]),n.flags|=2048,ks(9,Yx.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=rn(),e=It.identifierPrefix;if(nt){var r=wn,n=yn;r=(n&~(1<<32-$r(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ts++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=nP++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lP={readContext:zr,useCallback:ab,useContext:zr,useEffect:Tp,useImperativeHandle:nb,useInsertionEffect:eb,useLayoutEffect:tb,useMemo:ib,useReducer:Ef,useRef:Jx,useState:function(){return Ef(Ps)},useDebugValue:Pp,useDeferredValue:function(t){var e=Vr();return ob(e,Ct.memoizedState,t)},useTransition:function(){var t=Ef(Ps)[0],e=Vr().memoizedState;return[t,e]},useMutableSource:Wx,useSyncExternalStore:$x,useId:sb,unstable_isNewReconciler:!1},uP={readContext:zr,useCallback:ab,useContext:zr,useEffect:Tp,useImperativeHandle:nb,useInsertionEffect:eb,useLayoutEffect:tb,useMemo:ib,useReducer:Sf,useRef:Jx,useState:function(){return Sf(Ps)},useDebugValue:Pp,useDeferredValue:function(t){var e=Vr();return Ct===null?e.memoizedState=t:ob(e,Ct.memoizedState,t)},useTransition:function(){var t=Sf(Ps)[0],e=Vr().memoizedState;return[t,e]},useMutableSource:Wx,useSyncExternalStore:$x,useId:sb,unstable_isNewReconciler:!1};function jr(t,e){if(t&&t.defaultProps){e=ut({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Kh(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ut({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var wc={isMounted:function(t){return(t=t._reactInternals)?li(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ar(),a=na(t),i=En(n,a);i.payload=e,r!=null&&(i.callback=r),e=ta(t,i,a),e!==null&&(Kr(e,t,a,n),Zl(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ar(),a=na(t),i=En(n,a);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=ta(t,i,a),e!==null&&(Kr(e,t,a,n),Zl(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ar(),n=na(t),a=En(r,n);a.tag=2,e!=null&&(a.callback=e),e=ta(t,a,n),e!==null&&(Kr(e,t,n,r),Zl(e,t,n))}};function Cm(t,e,r,n,a,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!ws(r,n)||!ws(a,i):!0}function fb(t,e,r){var n=!1,a=ua,i=e.contextType;return typeof i=="object"&&i!==null?i=zr(i):(a=mr(e)?Xa:Yt.current,n=e.contextTypes,i=(n=n!=null)?to(t,a):ua),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wc,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function Tm(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&wc.enqueueReplaceState(e,e.state,null)}function Yh(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},yp(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=zr(i):(i=mr(e)?Xa:Yt.current,a.context=to(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Kh(t,e,i,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&wc.enqueueReplaceState(a,a.state,null),Lu(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function io(t,e){try{var r="",n=e;do r+=F2(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function Cf(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Xh(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var cP=typeof WeakMap=="function"?WeakMap:Map;function db(t,e,r){r=En(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Vu||(Vu=!0,ov=n),Xh(t,e)},r}function hb(t,e,r){r=En(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){Xh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Xh(t,e),typeof n!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Pm(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new cP;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=CP.bind(null,t,e,r),e.then(t,t))}function km(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Am(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=En(-1,1),e.tag=2,ta(r,e,1))),r.lanes|=1),t)}var fP=In.ReactCurrentOwner,vr=!1;function nr(t,e,r,n){e.child=t===null?Hx(e,null,r,n):no(e,t.child,r,n)}function Dm(t,e,r,n,a){r=r.render;var i=e.ref;return Ki(e,a),n=Sp(t,e,r,n,i,a),r=Cp(),t!==null&&!vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,An(t,e,a)):(nt&&r&&fp(e),e.flags|=1,nr(t,e,n,a),e.child)}function Mm(t,e,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!Lp(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,vb(t,e,i,n,a)):(t=nu(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ws,r(o,n)&&t.ref===e.ref)return An(t,e,a)}return e.flags|=1,t=aa(i,n),t.ref=e.ref,t.return=e,e.child=t}function vb(t,e,r,n,a){if(t!==null){var i=t.memoizedProps;if(ws(i,n)&&t.ref===e.ref)if(vr=!1,e.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(vr=!0);else return e.lanes=t.lanes,An(t,e,a)}return Zh(t,e,r,n,a)}function pb(t,e,r){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Oi,xr),xr|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(Oi,xr),xr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ze(Oi,xr),xr|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Ze(Oi,xr),xr|=n;return nr(t,e,a,r),e.child}function gb(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Zh(t,e,r,n,a){var i=mr(r)?Xa:Yt.current;return i=to(e,i),Ki(e,a),r=Sp(t,e,r,n,i,a),n=Cp(),t!==null&&!vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,An(t,e,a)):(nt&&n&&fp(e),e.flags|=1,nr(t,e,r,a),e.child)}function Rm(t,e,r,n,a){if(mr(r)){var i=!0;Du(e)}else i=!1;if(Ki(e,a),e.stateNode===null)eu(t,e),fb(e,r,n),Yh(e,r,n,a),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=zr(u):(u=mr(r)?Xa:Yt.current,u=to(e,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&Tm(e,o,n,u),Un=!1;var d=e.memoizedState;o.state=d,Lu(e,n,o,a),l=e.memoizedState,s!==n||d!==l||gr.current||Un?(typeof c=="function"&&(Kh(e,r,c,n),l=e.memoizedState),(s=Un||Cm(e,r,s,n,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Gx(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:jr(e.type,s),o.props=u,f=e.pendingProps,d=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=zr(l):(l=mr(r)?Xa:Yt.current,l=to(e,l));var h=r.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||d!==l)&&Tm(e,o,n,l),Un=!1,d=e.memoizedState,o.state=d,Lu(e,n,o,a);var v=e.memoizedState;s!==f||d!==v||gr.current||Un?(typeof h=="function"&&(Kh(e,r,h,n),v=e.memoizedState),(u=Un||Cm(e,r,u,n,d,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Qh(t,e,r,n,i,a)}function Qh(t,e,r,n,a,i){gb(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return a&&gm(e,r,!1),An(t,e,i);n=e.stateNode,fP.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=no(e,t.child,null,i),e.child=no(e,null,s,i)):nr(t,e,s,i),e.memoizedState=n.state,a&&gm(e,r,!0),e.child}function mb(t){var e=t.stateNode;e.pendingContext?pm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pm(t,e.context,!1),wp(t,e.containerInfo)}function Im(t,e,r,n,a){return ro(),hp(a),e.flags|=256,nr(t,e,r,n),e.child}var Jh={dehydrated:null,treeContext:null,retryLane:0};function ev(t){return{baseLanes:t,cachePool:null,transitions:null}}function yb(t,e,r){var n=e.pendingProps,a=it.current,i=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(a&2)!==0),s?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Ze(it,a&1),t===null)return Wh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ec(o,n,0,null),t=Ka(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ev(r),e.memoizedState=Jh,t):kp(e,o));if(a=t.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return dP(t,e,o,n,s,a,r);if(i){i=n.fallback,o=e.mode,a=t.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=aa(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=aa(s,i):(i=Ka(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?ev(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Jh,n}return i=t.child,t=i.sibling,n=aa(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function kp(t,e){return e=Ec({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cl(t,e,r,n){return n!==null&&hp(n),no(e,t.child,null,r),t=kp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dP(t,e,r,n,a,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Cf(Error(ne(422))),Cl(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,a=e.mode,n=Ec({mode:"visible",children:n.children},a,0,null),i=Ka(i,a,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&no(e,t.child,null,o),e.child.memoizedState=ev(o),e.memoizedState=Jh,i);if(!(e.mode&1))return Cl(t,e,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,i=Error(ne(419)),n=Cf(i,n,void 0),Cl(t,e,o,n)}if(s=(o&t.childLanes)!==0,vr||s){if(n=It,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,kn(t,a),Kr(n,t,a,-1))}return Np(),n=Cf(Error(ne(421))),Cl(t,e,o,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=TP.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,br=ea(a.nextSibling),Er=e,nt=!0,Wr=null,t!==null&&(Ir[Nr++]=yn,Ir[Nr++]=wn,Ir[Nr++]=Za,yn=t.id,wn=t.overflow,Za=e),e=kp(e,n.children),e.flags|=4096,e)}function Nm(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),$h(t.return,e,r)}function Tf(t,e,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function wb(t,e,r){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if(nr(t,e,n.children,r),n=it.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nm(t,r,e);else if(t.tag===19)Nm(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ze(it,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&Bu(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),Tf(e,!1,a,r,i);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Bu(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Tf(e,!0,r,null,i);break;case"together":Tf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function eu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function An(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ja|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,r=aa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=aa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function hP(t,e,r){switch(e.tag){case 3:mb(e),ro();break;case 5:qx(e);break;case 1:mr(e.type)&&Du(e);break;case 4:wp(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;Ze(Iu,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ze(it,it.current&1),e.flags|=128,null):r&e.child.childLanes?yb(t,e,r):(Ze(it,it.current&1),t=An(t,e,r),t!==null?t.sibling:null);Ze(it,it.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return wb(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ze(it,it.current),n)break;return null;case 22:case 23:return e.lanes=0,pb(t,e,r)}return An(t,e,r)}var xb,tv,bb,Eb;xb=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};tv=function(){};bb=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Ga(sn.current);var i=null;switch(r){case"input":a=Sh(t,a),n=Sh(t,n),i=[];break;case"select":a=ut({},a,{value:void 0}),n=ut({},n,{value:void 0}),i=[];break;case"textarea":a=Ph(t,a),n=Ph(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ku)}Ah(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var s=a[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ds.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(s=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ds.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&et("scroll",t),i||s===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Eb=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ro(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function vP(t,e,r){var n=e.pendingProps;switch(dp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return mr(e.type)&&Au(),Wt(e),null;case 3:return n=e.stateNode,ao(),tt(gr),tt(Yt),bp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(El(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wr!==null&&(uv(Wr),Wr=null))),tv(t,e),Wt(e),null;case 5:xp(e);var a=Ga(Cs.current);if(r=e.type,t!==null&&e.stateNode!=null)bb(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ne(166));return Wt(e),null}if(t=Ga(sn.current),El(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[nn]=e,n[Es]=i,t=(e.mode&1)!==0,r){case"dialog":et("cancel",n),et("close",n);break;case"iframe":case"object":case"embed":et("load",n);break;case"video":case"audio":for(a=0;a<qo.length;a++)et(qo[a],n);break;case"source":et("error",n);break;case"img":case"image":case"link":et("error",n),et("load",n);break;case"details":et("toggle",n);break;case"input":Hg(n,i),et("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},et("invalid",n);break;case"textarea":Gg(n,i),et("invalid",n)}Ah(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?n.textContent!==s&&(i.suppressHydrationWarning!==!0&&bl(n.textContent,s,t),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&bl(n.textContent,s,t),a=["children",""+s]):ds.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&et("scroll",n)}switch(r){case"input":hl(n),jg(n,i,!0);break;case"textarea":hl(n),qg(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ku)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xw(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[nn]=e,t[Es]=n,xb(t,e,!1,!1),e.stateNode=t;e:{switch(o=Dh(r,n),r){case"dialog":et("cancel",t),et("close",t),a=n;break;case"iframe":case"object":case"embed":et("load",t),a=n;break;case"video":case"audio":for(a=0;a<qo.length;a++)et(qo[a],t);a=n;break;case"source":et("error",t),a=n;break;case"img":case"image":case"link":et("error",t),et("load",t),a=n;break;case"details":et("toggle",t),a=n;break;case"input":Hg(t,n),a=Sh(t,n),et("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=ut({},n,{value:void 0}),et("invalid",t);break;case"textarea":Gg(t,n),a=Ph(t,n),et("invalid",t);break;default:a=n}Ah(r,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?Jw(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Zw(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&hs(t,l):typeof l=="number"&&hs(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ds.hasOwnProperty(i)?l!=null&&i==="onScroll"&&et("scroll",t):l!=null&&Zv(t,i,l,o))}switch(r){case"input":hl(t),jg(t,n,!1);break;case"textarea":hl(t),qg(t);break;case"option":n.value!=null&&t.setAttribute("value",""+la(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Gi(t,!!n.multiple,i,!1):n.defaultValue!=null&&Gi(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=ku)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)Eb(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ne(166));if(r=Ga(Cs.current),Ga(sn.current),El(e)){if(n=e.stateNode,r=e.memoizedProps,n[nn]=e,(i=n.nodeValue!==r)&&(t=Er,t!==null))switch(t.tag){case 3:bl(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bl(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nn]=e,e.stateNode=n}return Wt(e),null;case 13:if(tt(it),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&br!==null&&e.mode&1&&!(e.flags&128))_x(),ro(),e.flags|=98560,i=!1;else if(i=El(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(ne(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ne(317));i[nn]=e}else ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),i=!1}else Wr!==null&&(uv(Wr),Wr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?Tt===0&&(Tt=3):Np())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return ao(),tv(t,e),t===null&&xs(e.stateNode.containerInfo),Wt(e),null;case 10:return gp(e.type._context),Wt(e),null;case 17:return mr(e.type)&&Au(),Wt(e),null;case 19:if(tt(it),i=e.memoizedState,i===null)return Wt(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Ro(i,!1);else{if(Tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Bu(t),o!==null){for(e.flags|=128,Ro(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ze(it,it.current&1|2),e.child}t=t.sibling}i.tail!==null&&ht()>oo&&(e.flags|=128,n=!0,Ro(i,!1),e.lanes=4194304)}else{if(!n)if(t=Bu(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ro(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!nt)return Wt(e),null}else 2*ht()-i.renderingStartTime>oo&&r!==1073741824&&(e.flags|=128,n=!0,Ro(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ht(),e.sibling=null,r=it.current,Ze(it,n?r&1|2:r&1),e):(Wt(e),null);case 22:case 23:return Ip(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?xr&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(ne(156,e.tag))}function pP(t,e){switch(dp(e),e.tag){case 1:return mr(e.type)&&Au(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ao(),tt(gr),tt(Yt),bp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xp(e),null;case 13:if(tt(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tt(it),null;case 4:return ao(),null;case 10:return gp(e.type._context),null;case 22:case 23:return Ip(),null;case 24:return null;default:return null}}var Tl=!1,Kt=!1,gP=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Bi(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ft(t,e,n)}else r.current=null}function rv(t,e,r){try{r()}catch(n){ft(t,e,n)}}var Lm=!1;function mP(t,e){if(Vh=Cu,t=kx(),cp(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(s=o+a),f!==i||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===r&&++u===a&&(s=o),d===i&&++c===n&&(l=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(_h={focusedElem:t,selectionRange:r},Cu=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:jr(e.type,y),w);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(x){ft(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return v=Lm,Lm=!1,v}function rs(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&rv(e,r,i)}a=a.next}while(a!==n)}}function xc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function nv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Sb(t){var e=t.alternate;e!==null&&(t.alternate=null,Sb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nn],delete e[Es],delete e[jh],delete e[JT],delete e[eP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Cb(t){return t.tag===5||t.tag===3||t.tag===4}function Bm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function av(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ku));else if(n!==4&&(t=t.child,t!==null))for(av(t,e,r),t=t.sibling;t!==null;)av(t,e,r),t=t.sibling}function iv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(iv(t,e,r),t=t.sibling;t!==null;)iv(t,e,r),t=t.sibling}var Ft=null,Gr=!1;function On(t,e,r){for(r=r.child;r!==null;)Tb(t,e,r),r=r.sibling}function Tb(t,e,r){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(dc,r)}catch{}switch(r.tag){case 5:Kt||Bi(r,e);case 6:var n=Ft,a=Gr;Ft=null,On(t,e,r),Ft=n,Gr=a,Ft!==null&&(Gr?(t=Ft,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ft.removeChild(r.stateNode));break;case 18:Ft!==null&&(Gr?(t=Ft,r=r.stateNode,t.nodeType===8?yf(t.parentNode,r):t.nodeType===1&&yf(t,r),ms(t)):yf(Ft,r.stateNode));break;case 4:n=Ft,a=Gr,Ft=r.stateNode.containerInfo,Gr=!0,On(t,e,r),Ft=n,Gr=a;break;case 0:case 11:case 14:case 15:if(!Kt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&rv(r,e,o),a=a.next}while(a!==n)}On(t,e,r);break;case 1:if(!Kt&&(Bi(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){ft(r,e,s)}On(t,e,r);break;case 21:On(t,e,r);break;case 22:r.mode&1?(Kt=(n=Kt)||r.memoizedState!==null,On(t,e,r),Kt=n):On(t,e,r);break;default:On(t,e,r)}}function Om(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new gP),e.forEach(function(n){var a=PP.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Hr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Ft=s.stateNode,Gr=!1;break e;case 3:Ft=s.stateNode.containerInfo,Gr=!0;break e;case 4:Ft=s.stateNode.containerInfo,Gr=!0;break e}s=s.return}if(Ft===null)throw Error(ne(160));Tb(i,o,a),Ft=null,Gr=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){ft(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Pb(e,t),e=e.sibling}function Pb(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hr(e,t),Qr(t),n&4){try{rs(3,t,t.return),xc(3,t)}catch(y){ft(t,t.return,y)}try{rs(5,t,t.return)}catch(y){ft(t,t.return,y)}}break;case 1:Hr(e,t),Qr(t),n&512&&r!==null&&Bi(r,r.return);break;case 5:if(Hr(e,t),Qr(t),n&512&&r!==null&&Bi(r,r.return),t.flags&32){var a=t.stateNode;try{hs(a,"")}catch(y){ft(t,t.return,y)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&Kw(a,i),Dh(s,o);var u=Dh(s,i);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?Jw(a,f):c==="dangerouslySetInnerHTML"?Zw(a,f):c==="children"?hs(a,f):Zv(a,c,f,u)}switch(s){case"input":Ch(a,i);break;case"textarea":Yw(a,i);break;case"select":var d=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Gi(a,!!i.multiple,h,!1):d!==!!i.multiple&&(i.defaultValue!=null?Gi(a,!!i.multiple,i.defaultValue,!0):Gi(a,!!i.multiple,i.multiple?[]:"",!1))}a[Es]=i}catch(y){ft(t,t.return,y)}}break;case 6:if(Hr(e,t),Qr(t),n&4){if(t.stateNode===null)throw Error(ne(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(y){ft(t,t.return,y)}}break;case 3:if(Hr(e,t),Qr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ms(e.containerInfo)}catch(y){ft(t,t.return,y)}break;case 4:Hr(e,t),Qr(t);break;case 13:Hr(e,t),Qr(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Mp=ht())),n&4&&Om(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Kt=(u=Kt)||c,Hr(e,t),Kt=u):Hr(e,t),Qr(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ue=t,c=t.child;c!==null;){for(f=ue=c;ue!==null;){switch(d=ue,h=d.child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:Bi(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){ft(n,r,y)}}break;case 5:Bi(d,d.return);break;case 22:if(d.memoizedState!==null){zm(f);continue}}h!==null?(h.return=d,ue=h):zm(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Qw("display",o))}catch(y){ft(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){ft(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Hr(e,t),Qr(t),n&4&&Om(t);break;case 21:break;default:Hr(e,t),Qr(t)}}function Qr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Cb(r)){var n=r;break e}r=r.return}throw Error(ne(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(hs(a,""),n.flags&=-33);var i=Bm(t);iv(t,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,s=Bm(t);av(t,s,o);break;default:throw Error(ne(161))}}catch(l){ft(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yP(t,e,r){ue=t,kb(t)}function kb(t,e,r){for(var n=(t.mode&1)!==0;ue!==null;){var a=ue,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Tl;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||Kt;s=Tl;var u=Kt;if(Tl=o,(Kt=l)&&!u)for(ue=a;ue!==null;)o=ue,l=o.child,o.tag===22&&o.memoizedState!==null?Vm(a):l!==null?(l.return=o,ue=l):Vm(a);for(;i!==null;)ue=i,kb(i),i=i.sibling;ue=a,Tl=s,Kt=u}Fm(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ue=i):Fm(t)}}function Fm(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kt||xc(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Kt)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:jr(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&bm(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}bm(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ms(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}Kt||e.flags&512&&nv(e)}catch(d){ft(e,e.return,d)}}if(e===t){ue=null;break}if(r=e.sibling,r!==null){r.return=e.return,ue=r;break}ue=e.return}}function zm(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ue=r;break}ue=e.return}}function Vm(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{xc(4,e)}catch(l){ft(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(l){ft(e,a,l)}}var i=e.return;try{nv(e)}catch(l){ft(e,i,l)}break;case 5:var o=e.return;try{nv(e)}catch(l){ft(e,o,l)}}}catch(l){ft(e,e.return,l)}if(e===t){ue=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ue=s;break}ue=e.return}}var wP=Math.ceil,zu=In.ReactCurrentDispatcher,Ap=In.ReactCurrentOwner,Fr=In.ReactCurrentBatchConfig,Ve=0,It=null,xt=null,zt=0,xr=0,Oi=wa(0),Tt=0,As=null,Ja=0,bc=0,Dp=0,ns=null,fr=null,Mp=0,oo=1/0,pn=null,Vu=!1,ov=null,ra=null,Pl=!1,$n=null,_u=0,as=0,sv=null,tu=-1,ru=0;function ar(){return Ve&6?ht():tu!==-1?tu:tu=ht()}function na(t){return t.mode&1?Ve&2&&zt!==0?zt&-zt:rP.transition!==null?(ru===0&&(ru=fx()),ru):(t=$e,t!==0||(t=window.event,t=t===void 0?16:yx(t.type)),t):1}function Kr(t,e,r,n){if(50<as)throw as=0,sv=null,Error(ne(185));js(t,r,n),(!(Ve&2)||t!==It)&&(t===It&&(!(Ve&2)&&(bc|=r),Tt===4&&qn(t,zt)),yr(t,n),r===1&&Ve===0&&!(e.mode&1)&&(oo=ht()+500,mc&&xa()))}function yr(t,e){var r=t.callbackNode;rT(t,e);var n=Su(t,t===It?zt:0);if(n===0)r!==null&&Kg(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Kg(r),e===1)t.tag===0?tP(_m.bind(null,t)):Fx(_m.bind(null,t)),ZT(function(){!(Ve&6)&&xa()}),r=null;else{switch(dx(n)){case 1:r=rp;break;case 4:r=ux;break;case 16:r=Eu;break;case 536870912:r=cx;break;default:r=Eu}r=Bb(r,Ab.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Ab(t,e){if(tu=-1,ru=0,Ve&6)throw Error(ne(327));var r=t.callbackNode;if(Yi()&&t.callbackNode!==r)return null;var n=Su(t,t===It?zt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Uu(t,n);else{e=n;var a=Ve;Ve|=2;var i=Mb();(It!==t||zt!==e)&&(pn=null,oo=ht()+500,$a(t,e));do try{EP();break}catch(s){Db(t,s)}while(!0);pp(),zu.current=i,Ve=a,xt!==null?e=0:(It=null,zt=0,e=Tt)}if(e!==0){if(e===2&&(a=Lh(t),a!==0&&(n=a,e=lv(t,a))),e===1)throw r=As,$a(t,0),qn(t,n),yr(t,ht()),r;if(e===6)qn(t,n);else{if(a=t.current.alternate,!(n&30)&&!xP(a)&&(e=Uu(t,n),e===2&&(i=Lh(t),i!==0&&(n=i,e=lv(t,i))),e===1))throw r=As,$a(t,0),qn(t,n),yr(t,ht()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(ne(345));case 2:Na(t,fr,pn);break;case 3:if(qn(t,n),(n&130023424)===n&&(e=Mp+500-ht(),10<e)){if(Su(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){ar(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=Hh(Na.bind(null,t,fr,pn),e);break}Na(t,fr,pn);break;case 4:if(qn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var o=31-$r(n);i=1<<o,o=e[o],o>a&&(a=o),n&=~i}if(n=a,n=ht()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wP(n/1960))-n,10<n){t.timeoutHandle=Hh(Na.bind(null,t,fr,pn),n);break}Na(t,fr,pn);break;case 5:Na(t,fr,pn);break;default:throw Error(ne(329))}}}return yr(t,ht()),t.callbackNode===r?Ab.bind(null,t):null}function lv(t,e){var r=ns;return t.current.memoizedState.isDehydrated&&($a(t,e).flags|=256),t=Uu(t,e),t!==2&&(e=fr,fr=r,e!==null&&uv(e)),t}function uv(t){fr===null?fr=t:fr.push.apply(fr,t)}function xP(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Xr(i(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qn(t,e){for(e&=~Dp,e&=~bc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-$r(e),n=1<<r;t[r]=-1,e&=~n}}function _m(t){if(Ve&6)throw Error(ne(327));Yi();var e=Su(t,0);if(!(e&1))return yr(t,ht()),null;var r=Uu(t,e);if(t.tag!==0&&r===2){var n=Lh(t);n!==0&&(e=n,r=lv(t,n))}if(r===1)throw r=As,$a(t,0),qn(t,e),yr(t,ht()),r;if(r===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Na(t,fr,pn),yr(t,ht()),null}function Rp(t,e){var r=Ve;Ve|=1;try{return t(e)}finally{Ve=r,Ve===0&&(oo=ht()+500,mc&&xa())}}function ei(t){$n!==null&&$n.tag===0&&!(Ve&6)&&Yi();var e=Ve;Ve|=1;var r=Fr.transition,n=$e;try{if(Fr.transition=null,$e=1,t)return t()}finally{$e=n,Fr.transition=r,Ve=e,!(Ve&6)&&xa()}}function Ip(){xr=Oi.current,tt(Oi)}function $a(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,XT(r)),xt!==null)for(r=xt.return;r!==null;){var n=r;switch(dp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Au();break;case 3:ao(),tt(gr),tt(Yt),bp();break;case 5:xp(n);break;case 4:ao();break;case 13:tt(it);break;case 19:tt(it);break;case 10:gp(n.type._context);break;case 22:case 23:Ip()}r=r.return}if(It=t,xt=t=aa(t.current,null),zt=xr=e,Tt=0,As=null,Dp=bc=Ja=0,fr=ns=null,ja!==null){for(e=0;e<ja.length;e++)if(r=ja[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}ja=null}return t}function Db(t,e){do{var r=xt;try{if(pp(),Ql.current=Fu,Ou){for(var n=st.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ou=!1}if(Qa=0,Rt=Ct=st=null,ts=!1,Ts=0,Ap.current=null,r===null||r.return===null){Tt=1,As=e,xt=null;break}e:{var i=t,o=r.return,s=r,l=e;if(e=zt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=km(o);if(h!==null){h.flags&=-257,Am(h,o,s,i,e),h.mode&1&&Pm(i,u,e),e=h,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){Pm(i,u,e),Np();break e}l=Error(ne(426))}}else if(nt&&s.mode&1){var w=km(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Am(w,o,s,i,e),hp(io(l,s));break e}}i=l=io(l,s),Tt!==4&&(Tt=2),ns===null?ns=[i]:ns.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=db(i,l,e);xm(i,g);break e;case 1:s=l;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ra===null||!ra.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=hb(i,s,e);xm(i,x);break e}}i=i.return}while(i!==null)}Ib(r)}catch(E){e=E,xt===r&&r!==null&&(xt=r=r.return);continue}break}while(!0)}function Mb(){var t=zu.current;return zu.current=Fu,t===null?Fu:t}function Np(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),It===null||!(Ja&268435455)&&!(bc&268435455)||qn(It,zt)}function Uu(t,e){var r=Ve;Ve|=2;var n=Mb();(It!==t||zt!==e)&&(pn=null,$a(t,e));do try{bP();break}catch(a){Db(t,a)}while(!0);if(pp(),Ve=r,zu.current=n,xt!==null)throw Error(ne(261));return It=null,zt=0,Tt}function bP(){for(;xt!==null;)Rb(xt)}function EP(){for(;xt!==null&&!$2();)Rb(xt)}function Rb(t){var e=Lb(t.alternate,t,xr);t.memoizedProps=t.pendingProps,e===null?Ib(t):xt=e,Ap.current=null}function Ib(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=pP(r,e),r!==null){r.flags&=32767,xt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Tt=6,xt=null;return}}else if(r=vP(r,e,xr),r!==null){xt=r;return}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);Tt===0&&(Tt=5)}function Na(t,e,r){var n=$e,a=Fr.transition;try{Fr.transition=null,$e=1,SP(t,e,r,n)}finally{Fr.transition=a,$e=n}return null}function SP(t,e,r,n){do Yi();while($n!==null);if(Ve&6)throw Error(ne(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(nT(t,i),t===It&&(xt=It=null,zt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Pl||(Pl=!0,Bb(Eu,function(){return Yi(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Fr.transition,Fr.transition=null;var o=$e;$e=1;var s=Ve;Ve|=4,Ap.current=null,mP(t,r),Pb(r,t),jT(_h),Cu=!!Vh,_h=Vh=null,t.current=r,yP(r),K2(),Ve=s,$e=o,Fr.transition=i}else t.current=r;if(Pl&&(Pl=!1,$n=t,_u=a),i=t.pendingLanes,i===0&&(ra=null),Z2(r.stateNode),yr(t,ht()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Vu)throw Vu=!1,t=ov,ov=null,t;return _u&1&&t.tag!==0&&Yi(),i=t.pendingLanes,i&1?t===sv?as++:(as=0,sv=t):as=0,xa(),null}function Yi(){if($n!==null){var t=dx(_u),e=Fr.transition,r=$e;try{if(Fr.transition=null,$e=16>t?16:t,$n===null)var n=!1;else{if(t=$n,$n=null,_u=0,Ve&6)throw Error(ne(331));var a=Ve;for(Ve|=4,ue=t.current;ue!==null;){var i=ue,o=i.child;if(ue.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ue=u;ue!==null;){var c=ue;switch(c.tag){case 0:case 11:case 15:rs(8,c,i)}var f=c.child;if(f!==null)f.return=c,ue=f;else for(;ue!==null;){c=ue;var d=c.sibling,h=c.return;if(Sb(c),c===u){ue=null;break}if(d!==null){d.return=h,ue=d;break}ue=h}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}ue=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ue=o;else e:for(;ue!==null;){if(i=ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:rs(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,ue=g;break e}ue=i.return}}var p=t.current;for(ue=p;ue!==null;){o=ue;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,ue=m;else e:for(o=p;ue!==null;){if(s=ue,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:xc(9,s)}}catch(E){ft(s,s.return,E)}if(s===o){ue=null;break e}var x=s.sibling;if(x!==null){x.return=s.return,ue=x;break e}ue=s.return}}if(Ve=a,xa(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(dc,t)}catch{}n=!0}return n}finally{$e=r,Fr.transition=e}}return!1}function Um(t,e,r){e=io(r,e),e=db(t,e,1),t=ta(t,e,1),e=ar(),t!==null&&(js(t,1,e),yr(t,e))}function ft(t,e,r){if(t.tag===3)Um(t,t,r);else for(;e!==null;){if(e.tag===3){Um(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ra===null||!ra.has(n))){t=io(r,t),t=hb(e,t,1),e=ta(e,t,1),t=ar(),e!==null&&(js(e,1,t),yr(e,t));break}}e=e.return}}function CP(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ar(),t.pingedLanes|=t.suspendedLanes&r,It===t&&(zt&r)===r&&(Tt===4||Tt===3&&(zt&130023424)===zt&&500>ht()-Mp?$a(t,0):Dp|=r),yr(t,e)}function Nb(t,e){e===0&&(t.mode&1?(e=gl,gl<<=1,!(gl&130023424)&&(gl=4194304)):e=1);var r=ar();t=kn(t,e),t!==null&&(js(t,e,r),yr(t,r))}function TP(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Nb(t,r)}function PP(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ne(314))}n!==null&&n.delete(e),Nb(t,r)}var Lb;Lb=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||gr.current)vr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return vr=!1,hP(t,e,r);vr=!!(t.flags&131072)}else vr=!1,nt&&e.flags&1048576&&zx(e,Ru,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;eu(t,e),t=e.pendingProps;var a=to(e,Yt.current);Ki(e,r),a=Sp(null,e,n,t,a,r);var i=Cp();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mr(n)?(i=!0,Du(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,yp(e),a.updater=wc,e.stateNode=a,a._reactInternals=e,Yh(e,n,t,r),e=Qh(null,e,n,!0,i,r)):(e.tag=0,nt&&i&&fp(e),nr(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(eu(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=AP(n),t=jr(n,t),a){case 0:e=Zh(null,e,n,t,r);break e;case 1:e=Rm(null,e,n,t,r);break e;case 11:e=Dm(null,e,n,t,r);break e;case 14:e=Mm(null,e,n,jr(n.type,t),r);break e}throw Error(ne(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:jr(n,a),Zh(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:jr(n,a),Rm(t,e,n,a,r);case 3:e:{if(mb(e),t===null)throw Error(ne(387));n=e.pendingProps,i=e.memoizedState,a=i.element,Gx(t,e),Lu(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=io(Error(ne(423)),e),e=Im(t,e,n,r,a);break e}else if(n!==a){a=io(Error(ne(424)),e),e=Im(t,e,n,r,a);break e}else for(br=ea(e.stateNode.containerInfo.firstChild),Er=e,nt=!0,Wr=null,r=Hx(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ro(),n===a){e=An(t,e,r);break e}nr(t,e,n,r)}e=e.child}return e;case 5:return qx(e),t===null&&Wh(e),n=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,o=a.children,Uh(n,a)?o=null:i!==null&&Uh(n,i)&&(e.flags|=32),gb(t,e),nr(t,e,o,r),e.child;case 6:return t===null&&Wh(e),null;case 13:return yb(t,e,r);case 4:return wp(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=no(e,null,n,r):nr(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:jr(n,a),Dm(t,e,n,a,r);case 7:return nr(t,e,e.pendingProps,r),e.child;case 8:return nr(t,e,e.pendingProps.children,r),e.child;case 12:return nr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,i=e.memoizedProps,o=a.value,Ze(Iu,n._currentValue),n._currentValue=o,i!==null)if(Xr(i.value,o)){if(i.children===a.children&&!gr.current){e=An(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=En(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),$h(i.return,r,e),s.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ne(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),$h(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}nr(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,Ki(e,r),a=zr(a),n=n(a),e.flags|=1,nr(t,e,n,r),e.child;case 14:return n=e.type,a=jr(n,e.pendingProps),a=jr(n.type,a),Mm(t,e,n,a,r);case 15:return vb(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:jr(n,a),eu(t,e),e.tag=1,mr(n)?(t=!0,Du(e)):t=!1,Ki(e,r),fb(e,n,a),Yh(e,n,a,r),Qh(null,e,n,!0,t,r);case 19:return wb(t,e,r);case 22:return pb(t,e,r)}throw Error(ne(156,e.tag))};function Bb(t,e){return lx(t,e)}function kP(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(t,e,r,n){return new kP(t,e,r,n)}function Lp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AP(t){if(typeof t=="function")return Lp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jv)return 11;if(t===ep)return 14}return 2}function aa(t,e){var r=t.alternate;return r===null?(r=Br(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function nu(t,e,r,n,a,i){var o=2;if(n=t,typeof t=="function")Lp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Pi:return Ka(r.children,a,i,e);case Qv:o=8,a|=8;break;case wh:return t=Br(12,r,e,a|2),t.elementType=wh,t.lanes=i,t;case xh:return t=Br(13,r,e,a),t.elementType=xh,t.lanes=i,t;case bh:return t=Br(19,r,e,a),t.elementType=bh,t.lanes=i,t;case qw:return Ec(r,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jw:o=10;break e;case Gw:o=9;break e;case Jv:o=11;break e;case ep:o=14;break e;case _n:o=16,n=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=Br(o,r,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function Ka(t,e,r,n){return t=Br(7,t,n,e),t.lanes=r,t}function Ec(t,e,r,n){return t=Br(22,t,n,e),t.elementType=qw,t.lanes=r,t.stateNode={isHidden:!1},t}function Pf(t,e,r){return t=Br(6,t,null,e),t.lanes=r,t}function kf(t,e,r){return e=Br(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function DP(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sf(0),this.expirationTimes=sf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sf(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bp(t,e,r,n,a,i,o,s,l){return t=new DP(t,e,r,s,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Br(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},yp(i),t}function MP(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ti,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Ob(t){if(!t)return ua;t=t._reactInternals;e:{if(li(t)!==t||t.tag!==1)throw Error(ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ne(171))}if(t.tag===1){var r=t.type;if(mr(r))return Ox(t,r,e)}return e}function Fb(t,e,r,n,a,i,o,s,l){return t=Bp(r,n,!0,t,a,i,o,s,l),t.context=Ob(null),r=t.current,n=ar(),a=na(r),i=En(n,a),i.callback=e??null,ta(r,i,a),t.current.lanes=a,js(t,a,n),yr(t,n),t}function Sc(t,e,r,n){var a=e.current,i=ar(),o=na(a);return r=Ob(r),e.context===null?e.context=r:e.pendingContext=r,e=En(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ta(a,e,o),t!==null&&(Kr(t,a,o,i),Zl(t,a,o)),o}function Hu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Op(t,e){Hm(t,e),(t=t.alternate)&&Hm(t,e)}function RP(){return null}var zb=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fp(t){this._internalRoot=t}Cc.prototype.render=Fp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));Sc(t,e,null,null)};Cc.prototype.unmount=Fp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ei(function(){Sc(null,t,null,null)}),e[Pn]=null}};function Cc(t){this._internalRoot=t}Cc.prototype.unstable_scheduleHydration=function(t){if(t){var e=px();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Gn.length&&e!==0&&e<Gn[r].priority;r++);Gn.splice(r,0,t),r===0&&mx(t)}};function zp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jm(){}function IP(t,e,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Hu(o);i.call(u)}}var o=Fb(e,n,t,0,null,!1,!1,"",jm);return t._reactRootContainer=o,t[Pn]=o.current,xs(t.nodeType===8?t.parentNode:t),ei(),o}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var u=Hu(l);s.call(u)}}var l=Bp(t,0,!1,null,null,!1,!1,"",jm);return t._reactRootContainer=l,t[Pn]=l.current,xs(t.nodeType===8?t.parentNode:t),ei(function(){Sc(e,l,r,n)}),l}function Pc(t,e,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=Hu(o);s.call(l)}}Sc(e,o,t,a)}else o=IP(r,e,t,a,n);return Hu(o)}hx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Go(e.pendingLanes);r!==0&&(np(e,r|1),yr(e,ht()),!(Ve&6)&&(oo=ht()+500,xa()))}break;case 13:ei(function(){var n=kn(t,1);if(n!==null){var a=ar();Kr(n,t,1,a)}}),Op(t,1)}};ap=function(t){if(t.tag===13){var e=kn(t,134217728);if(e!==null){var r=ar();Kr(e,t,134217728,r)}Op(t,134217728)}};vx=function(t){if(t.tag===13){var e=na(t),r=kn(t,e);if(r!==null){var n=ar();Kr(r,t,e,n)}Op(t,e)}};px=function(){return $e};gx=function(t,e){var r=$e;try{return $e=t,e()}finally{$e=r}};Rh=function(t,e,r){switch(e){case"input":if(Ch(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=gc(n);if(!a)throw Error(ne(90));$w(n),Ch(n,a)}}}break;case"textarea":Yw(t,r);break;case"select":e=r.value,e!=null&&Gi(t,!!r.multiple,e,!1)}};rx=Rp;nx=ei;var NP={usingClientEntryPoint:!1,Events:[qs,Mi,gc,ex,tx,Rp]},Io={findFiberByHostInstance:Ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LP={bundleType:Io.bundleType,version:Io.version,rendererPackageName:Io.rendererPackageName,rendererConfig:Io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:In.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ox(t),t===null?null:t.stateNode},findFiberByHostInstance:Io.findFiberByHostInstance||RP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kl.isDisabled&&kl.supportsFiber)try{dc=kl.inject(LP),on=kl}catch{}}Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NP;Pr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zp(e))throw Error(ne(200));return MP(t,e,null,r)};Pr.createRoot=function(t,e){if(!zp(t))throw Error(ne(299));var r=!1,n="",a=zb;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Bp(t,1,!1,null,null,r,!1,n,a),t[Pn]=e.current,xs(t.nodeType===8?t.parentNode:t),new Fp(e)};Pr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=ox(e),t=t===null?null:t.stateNode,t};Pr.flushSync=function(t){return ei(t)};Pr.hydrate=function(t,e,r){if(!Tc(e))throw Error(ne(200));return Pc(null,t,e,!0,r)};Pr.hydrateRoot=function(t,e,r){if(!zp(t))throw Error(ne(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=zb;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Fb(e,null,t,1,r??null,a,!1,i,o),t[Pn]=e.current,xs(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new Cc(e)};Pr.render=function(t,e,r){if(!Tc(e))throw Error(ne(200));return Pc(null,t,e,!1,r)};Pr.unmountComponentAtNode=function(t){if(!Tc(t))throw Error(ne(40));return t._reactRootContainer?(ei(function(){Pc(null,null,t,!1,function(){t._reactRootContainer=null,t[Pn]=null})}),!0):!1};Pr.unstable_batchedUpdates=Rp;Pr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Tc(r))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return Pc(t,e,r,!1,n)};Pr.version="18.3.1-next-f1338f8080-20240426";function Vb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vb)}catch(t){console.error(t)}}Vb(),Vw.exports=Pr;var BP=Vw.exports,Gm=BP;mh.createRoot=Gm.createRoot,mh.hydrateRoot=Gm.hydrateRoot;var OP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const FP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qt=(t,e)=>{const r=ae.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:s,...l},u)=>ae.createElement("svg",{ref:u,...OP,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:`lucide lucide-${FP(t)}`,...l},[...e.map(([c,f])=>ae.createElement(c,f)),...(Array.isArray(s)?s:[s])||[]]));return r.displayName=`${t}`,r},zP=Qt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),VP=Qt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),_P=Qt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),UP=Qt("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]),HP=Qt("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]),jP=Qt("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),qm=Qt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),GP=Qt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),qP=Qt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Wm=Qt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),WP=Qt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),$P=Qt("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),$m=Qt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),KP=Qt("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),YP=Qt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),XP=Qt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_b=ae.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),kc=ae.createContext({}),Ac=ae.createContext(null),Dc=typeof document<"u",Vp=Dc?ae.useLayoutEffect:ae.useEffect,Ub=ae.createContext({strict:!1}),_p=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),ZP="framerAppearId",Hb="data-"+_p(ZP);function QP(t,e,r,n){const{visualElement:a}=ae.useContext(kc),i=ae.useContext(Ub),o=ae.useContext(Ac),s=ae.useContext(_b).reducedMotion,l=ae.useRef();n=n||i.renderer,!l.current&&n&&(l.current=n(t,{visualState:e,parent:a,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:s}));const u=l.current;ae.useInsertionEffect(()=>{u&&u.update(r,o)});const c=ae.useRef(!!(r[Hb]&&!window.HandoffComplete));return Vp(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),ae.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function Fi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function JP(t,e,r){return ae.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Fi(r)&&(r.current=n))},[e])}function Ds(t){return typeof t=="string"||Array.isArray(t)}function Mc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Up=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hp=["initial",...Up];function Rc(t){return Mc(t.animate)||Hp.some(e=>Ds(t[e]))}function jb(t){return!!(Rc(t)||t.variants)}function ek(t,e){if(Rc(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Ds(r)?r:void 0,animate:Ds(n)?n:void 0}}return t.inherit!==!1?e:{}}function tk(t){const{initial:e,animate:r}=ek(t,ae.useContext(kc));return ae.useMemo(()=>({initial:e,animate:r}),[Km(e),Km(r)])}function Km(t){return Array.isArray(t)?t.join(" "):t}const Ym={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ms={};for(const t in Ym)Ms[t]={isEnabled:e=>Ym[t].some(r=>!!e[r])};function rk(t){for(const e in t)Ms[e]={...Ms[e],...t[e]}}const jp=ae.createContext({}),Gb=ae.createContext({}),nk=Symbol.for("motionComponentSymbol");function ak({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:a}){t&&rk(t);function i(s,l){let u;const c={...ae.useContext(_b),...s,layoutId:ik(s)},{isStatic:f}=c,d=tk(s),h=n(s,f);if(!f&&Dc){d.visualElement=QP(a,h,c,e);const v=ae.useContext(Gb),y=ae.useContext(Ub).strict;d.visualElement&&(u=d.visualElement.loadFeatures(c,y,t,v))}return ae.createElement(kc.Provider,{value:d},u&&d.visualElement?ae.createElement(u,{visualElement:d.visualElement,...c}):null,r(a,s,JP(h,d.visualElement,l),h,f,d.visualElement))}const o=ae.forwardRef(i);return o[nk]=a,o}function ik({layoutId:t}){const e=ae.useContext(jp).id;return e&&t!==void 0?e+"-"+t:t}function ok(t){function e(n,a={}){return ak(t(n,a))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(n,a)=>(r.has(a)||r.set(a,e(a)),r.get(a))})}const sk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gp(t){return typeof t!="string"||t.includes("-")?!1:!!(sk.indexOf(t)>-1||/[A-Z]/.test(t))}const ju={};function lk(t){Object.assign(ju,t)}const $s=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ui=new Set($s);function qb(t,{layout:e,layoutId:r}){return ui.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!ju[t]||t==="opacity")}const wr=t=>!!(t&&t.getVelocity),uk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ck=$s.length;function fk(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},n,a){let i="";for(let o=0;o<ck;o++){const s=$s[o];if(t[s]!==void 0){const l=uk[s]||s;i+=`${l}(${t[s]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(t,n?"":i):r&&n&&(i="none"),i}const Wb=t=>e=>typeof e=="string"&&e.startsWith(t),$b=Wb("--"),cv=Wb("var(--"),dk=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,hk=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ca=(t,e,r)=>Math.min(Math.max(r,t),e),ci={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},is={...ci,transform:t=>ca(0,1,t)},Al={...ci,default:1},os=t=>Math.round(t*1e5)/1e5,Ic=/(-)?([\d]*\.?[\d])+/g,Kb=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,vk=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ks(t){return typeof t=="string"}const Ys=t=>({test:e=>Ks(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Vn=Ys("deg"),ln=Ys("%"),Te=Ys("px"),pk=Ys("vh"),gk=Ys("vw"),Xm={...ln,parse:t=>ln.parse(t)/100,transform:t=>ln.transform(t*100)},Zm={...ci,transform:Math.round},Yb={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,size:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,rotate:Vn,rotateX:Vn,rotateY:Vn,rotateZ:Vn,scale:Al,scaleX:Al,scaleY:Al,scaleZ:Al,skew:Vn,skewX:Vn,skewY:Vn,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:is,originX:Xm,originY:Xm,originZ:Te,zIndex:Zm,fillOpacity:is,strokeOpacity:is,numOctaves:Zm};function qp(t,e,r,n){const{style:a,vars:i,transform:o,transformOrigin:s}=t;let l=!1,u=!1,c=!0;for(const f in e){const d=e[f];if($b(f)){i[f]=d;continue}const h=Yb[f],v=hk(d,h);if(ui.has(f)){if(l=!0,o[f]=v,!c)continue;d!==(h.default||0)&&(c=!1)}else f.startsWith("origin")?(u=!0,s[f]=v):a[f]=v}if(e.transform||(l||n?a.transform=fk(t.transform,r,c,n):a.transform&&(a.transform="none")),u){const{originX:f="50%",originY:d="50%",originZ:h=0}=s;a.transformOrigin=`${f} ${d} ${h}`}}const Wp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Xb(t,e,r){for(const n in e)!wr(e[n])&&!qb(n,r)&&(t[n]=e[n])}function mk({transformTemplate:t},e,r){return ae.useMemo(()=>{const n=Wp();return qp(n,e,{enableHardwareAcceleration:!r},t),Object.assign({},n.vars,n.style)},[e])}function yk(t,e,r){const n=t.style||{},a={};return Xb(a,n,t),Object.assign(a,mk(t,e,r)),t.transformValues?t.transformValues(a):a}function wk(t,e,r){const n={},a=yk(t,e,r);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=a,n}const xk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||xk.has(t)}let Zb=t=>!Gu(t);function bk(t){t&&(Zb=e=>e.startsWith("on")?!Gu(e):t(e))}try{bk(require("@emotion/is-prop-valid").default)}catch{}function Ek(t,e,r){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(Zb(a)||r===!0&&Gu(a)||!e&&!Gu(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}function Qm(t,e,r){return typeof t=="string"?t:Te.transform(e+r*t)}function Sk(t,e,r){const n=Qm(e,t.x,t.width),a=Qm(r,t.y,t.height);return`${n} ${a}`}const Ck={offset:"stroke-dashoffset",array:"stroke-dasharray"},Tk={offset:"strokeDashoffset",array:"strokeDasharray"};function Pk(t,e,r=1,n=0,a=!0){t.pathLength=1;const i=a?Ck:Tk;t[i.offset]=Te.transform(-n);const o=Te.transform(e),s=Te.transform(r);t[i.array]=`${o} ${s}`}function $p(t,{attrX:e,attrY:r,attrScale:n,originX:a,originY:i,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...u},c,f,d){if(qp(t,u,c,d),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:v,dimensions:y}=t;h.transform&&(y&&(v.transform=h.transform),delete h.transform),y&&(a!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=Sk(y,a!==void 0?a:.5,i!==void 0?i:.5)),e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),o!==void 0&&Pk(h,o,s,l,!1)}const Qb=()=>({...Wp(),attrs:{}}),Kp=t=>typeof t=="string"&&t.toLowerCase()==="svg";function kk(t,e,r,n){const a=ae.useMemo(()=>{const i=Qb();return $p(i,e,{enableHardwareAcceleration:!1},Kp(n),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Xb(i,t.style,t),a.style={...i,...a.style}}return a}function Ak(t=!1){return(r,n,a,{latestValues:i},o)=>{const l=(Gp(r)?kk:wk)(n,i,o,r),c={...Ek(n,typeof r=="string",t),...l,ref:a},{children:f}=n,d=ae.useMemo(()=>wr(f)?f.get():f,[f]);return ae.createElement(r,{...c,children:d})}}function Jb(t,{style:e,vars:r},n,a){Object.assign(t.style,e,a&&a.getProjectionStyles(n));for(const i in r)t.style.setProperty(i,r[i])}const eE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tE(t,e,r,n){Jb(t,e,void 0,n);for(const a in e.attrs)t.setAttribute(eE.has(a)?a:_p(a),e.attrs[a])}function Yp(t,e){const{style:r}=t,n={};for(const a in r)(wr(r[a])||e.style&&wr(e.style[a])||qb(a,t))&&(n[a]=r[a]);return n}function rE(t,e){const r=Yp(t,e);for(const n in t)if(wr(t[n])||wr(e[n])){const a=$s.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[a]=t[n]}return r}function Xp(t,e,r,n={},a={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,a)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,a)),e}function nE(t){const e=ae.useRef(null);return e.current===null&&(e.current=t()),e.current}const qu=t=>Array.isArray(t),Dk=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Mk=t=>qu(t)?t[t.length-1]||0:t;function au(t){const e=wr(t)?t.get():t;return Dk(e)?e.toValue():e}function Rk({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,a,i){const o={latestValues:Ik(n,a,i,t),renderState:e()};return r&&(o.mount=s=>r(n,s,o)),o}const aE=t=>(e,r)=>{const n=ae.useContext(kc),a=ae.useContext(Ac),i=()=>Rk(t,e,n,a);return r?i():nE(i)};function Ik(t,e,r,n){const a={},i=n(t,{});for(const d in i)a[d]=au(i[d]);let{initial:o,animate:s}=t;const l=Rc(t),u=jb(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),s===void 0&&(s=e.animate));let c=r?r.initial===!1:!1;c=c||o===!1;const f=c?s:o;return f&&typeof f!="boolean"&&!Mc(f)&&(Array.isArray(f)?f:[f]).forEach(h=>{const v=Xp(t,h);if(!v)return;const{transitionEnd:y,transition:w,...g}=v;for(const p in g){let m=g[p];if(Array.isArray(m)){const x=c?m.length-1:0;m=m[x]}m!==null&&(a[p]=m)}for(const p in y)a[p]=y[p]}),a}const vt=t=>t;class Jm{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Nk(t){let e=new Jm,r=new Jm,n=0,a=!1,i=!1;const o=new WeakSet,s={schedule:(l,u=!1,c=!1)=>{const f=c&&a,d=f?e:r;return u&&o.add(l),d.add(l)&&f&&a&&(n=e.order.length),l},cancel:l=>{r.remove(l),o.delete(l)},process:l=>{if(a){i=!0;return}if(a=!0,[e,r]=[r,e],r.clear(),n=e.order.length,n)for(let u=0;u<n;u++){const c=e.order[u];c(l),o.has(c)&&(s.schedule(c),t())}a=!1,i&&(i=!1,s.process(l))}};return s}const Dl=["prepare","read","update","preRender","render","postRender"],Lk=40;function Bk(t,e){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=Dl.reduce((f,d)=>(f[d]=Nk(()=>r=!0),f),{}),o=f=>i[f].process(a),s=()=>{const f=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(f-a.timestamp,Lk),1),a.timestamp=f,a.isProcessing=!0,Dl.forEach(o),a.isProcessing=!1,r&&e&&(n=!1,t(s))},l=()=>{r=!0,n=!0,a.isProcessing||t(s)};return{schedule:Dl.reduce((f,d)=>{const h=i[d];return f[d]=(v,y=!1,w=!1)=>(r||l(),h.schedule(v,y,w)),f},{}),cancel:f=>Dl.forEach(d=>i[d].cancel(f)),state:a,steps:i}}const{schedule:Qe,cancel:Dn,state:$t,steps:Af}=Bk(typeof requestAnimationFrame<"u"?requestAnimationFrame:vt,!0),Ok={useVisualState:aE({scrapeMotionValuesFromProps:rE,createRenderState:Qb,onMount:(t,e,{renderState:r,latestValues:n})=>{Qe.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Qe.render(()=>{$p(r,n,{enableHardwareAcceleration:!1},Kp(e.tagName),t.transformTemplate),tE(e,r)})}})},Fk={useVisualState:aE({scrapeMotionValuesFromProps:Yp,createRenderState:Wp})};function zk(t,{forwardMotionProps:e=!1},r,n){return{...Gp(t)?Ok:Fk,preloadedFeatures:r,useRender:Ak(e),createVisualElement:n,Component:t}}function xn(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const iE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Nc(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Vk=t=>e=>iE(e)&&t(e,Nc(e));function Sn(t,e,r,n){return xn(t,e,Vk(r),n)}const _k=(t,e)=>r=>e(t(r)),ia=(...t)=>t.reduce(_k);function oE(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const ey=oE("dragHorizontal"),ty=oE("dragVertical");function sE(t){let e=!1;if(t==="y")e=ty();else if(t==="x")e=ey();else{const r=ey(),n=ty();r&&n?e=()=>{r(),n()}:(r&&r(),n&&n())}return e}function lE(){const t=sE(!0);return t?(t(),!1):!0}class ba{constructor(e){this.isMounted=!1,this.node=e}update(){}}function ry(t,e){const r="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||lE())return;const s=t.getProps();t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",e),s[n]&&Qe.update(()=>s[n](i,o))};return Sn(t.current,r,a,{passive:!t.getProps()[n]})}class Uk extends ba{mount(){this.unmount=ia(ry(this.node,!0),ry(this.node,!1))}unmount(){}}class Hk extends ba{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ia(xn(this.node.current,"focus",()=>this.onFocus()),xn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const uE=(t,e)=>e?t===e?!0:uE(t,e.parentElement):!1;function Df(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,Nc(r))}class jk extends ba{constructor(){super(...arguments),this.removeStartListeners=vt,this.removeEndListeners=vt,this.removeAccessibleListeners=vt,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=Sn(window,"pointerup",(s,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:f}=this.node.getProps();Qe.update(()=>{!f&&!uE(this.node.current,s.target)?c&&c(s,l):u&&u(s,l)})},{passive:!(n.onTap||n.onPointerUp)}),o=Sn(window,"pointercancel",(s,l)=>this.cancelPress(s,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=ia(i,o),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=s=>{s.key!=="Enter"||!this.checkPressEnd()||Df("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&Qe.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=xn(this.node.current,"keyup",o),Df("down",(s,l)=>{this.startPress(s,l)})},r=xn(this.node.current,"keydown",e),n=()=>{this.isPressing&&Df("cancel",(i,o)=>this.cancelPress(i,o))},a=xn(this.node.current,"blur",n);this.removeAccessibleListeners=ia(r,a)}}startPress(e,r){this.isPressing=!0;const{onTapStart:n,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Qe.update(()=>n(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!lE()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Qe.update(()=>n(e,r))}mount(){const e=this.node.getProps(),r=Sn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=xn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ia(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const fv=new WeakMap,Mf=new WeakMap,Gk=t=>{const e=fv.get(t.target);e&&e(t)},qk=t=>{t.forEach(Gk)};function Wk({root:t,...e}){const r=t||document;Mf.has(r)||Mf.set(r,{});const n=Mf.get(r),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(qk,{root:t,...e})),n[a]}function $k(t,e,r){const n=Wk(e);return fv.set(t,r),n.observe(t),()=>{fv.delete(t),n.unobserve(t)}}const Kk={some:0,all:1};class Yk extends ba{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:Kk[a]},s=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=u?c:f;d&&d(l)};return $k(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Xk(e,r))&&this.startObserver()}unmount(){}}function Xk({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Zk={inView:{Feature:Yk},tap:{Feature:jk},focus:{Feature:Hk},hover:{Feature:Uk}};function cE(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Qk(t){const e={};return t.values.forEach((r,n)=>e[n]=r.get()),e}function Jk(t){const e={};return t.values.forEach((r,n)=>e[n]=r.getVelocity()),e}function Lc(t,e,r){const n=t.getProps();return Xp(n,e,r!==void 0?r:n.custom,Qk(t),Jk(t))}let Zp=vt;const Ya=t=>t*1e3,Cn=t=>t/1e3,eA={current:!1},fE=t=>Array.isArray(t)&&typeof t[0]=="number";function dE(t){return!!(!t||typeof t=="string"&&hE[t]||fE(t)||Array.isArray(t)&&t.every(dE))}const Wo=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,hE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wo([0,.65,.55,1]),circOut:Wo([.55,0,1,.45]),backIn:Wo([.31,.01,.66,-.59]),backOut:Wo([.33,1.53,.69,.99])};function vE(t){if(t)return fE(t)?Wo(t):Array.isArray(t)?t.map(vE):hE[t]}function tA(t,e,r,{delay:n=0,duration:a,repeat:i=0,repeatType:o="loop",ease:s,times:l}={}){const u={[e]:r};l&&(u.offset=l);const c=vE(s);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:n,duration:a,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function rA(t,{repeat:e,repeatType:r="loop"}){const n=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[n]}const pE=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,nA=1e-7,aA=12;function iA(t,e,r,n,a){let i,o,s=0;do o=e+(r-e)/2,i=pE(o,n,a)-t,i>0?r=o:e=o;while(Math.abs(i)>nA&&++s<aA);return o}function Xs(t,e,r,n){if(t===e&&r===n)return vt;const a=i=>iA(i,0,1,t,r);return i=>i===0||i===1?i:pE(a(i),e,n)}const oA=Xs(.42,0,1,1),sA=Xs(0,0,.58,1),gE=Xs(.42,0,.58,1),lA=t=>Array.isArray(t)&&typeof t[0]!="number",mE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,yE=t=>e=>1-t(1-e),Qp=t=>1-Math.sin(Math.acos(t)),wE=yE(Qp),uA=mE(Qp),xE=Xs(.33,1.53,.69,.99),Jp=yE(xE),cA=mE(Jp),fA=t=>(t*=2)<1?.5*Jp(t):.5*(2-Math.pow(2,-10*(t-1))),dA={linear:vt,easeIn:oA,easeInOut:gE,easeOut:sA,circIn:Qp,circInOut:uA,circOut:wE,backIn:Jp,backInOut:cA,backOut:xE,anticipate:fA},ny=t=>{if(Array.isArray(t)){Zp(t.length===4);const[e,r,n,a]=t;return Xs(e,r,n,a)}else if(typeof t=="string")return dA[t];return t},eg=(t,e)=>r=>!!(Ks(r)&&vk.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),bE=(t,e,r)=>n=>{if(!Ks(n))return n;const[a,i,o,s]=n.match(Ic);return{[t]:parseFloat(a),[e]:parseFloat(i),[r]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},hA=t=>ca(0,255,t),Rf={...ci,transform:t=>Math.round(hA(t))},qa={test:eg("rgb","red"),parse:bE("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Rf.transform(t)+", "+Rf.transform(e)+", "+Rf.transform(r)+", "+os(is.transform(n))+")"};function vA(t){let e="",r="",n="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const dv={test:eg("#"),parse:vA,transform:qa.transform},zi={test:eg("hsl","hue"),parse:bE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+ln.transform(os(e))+", "+ln.transform(os(r))+", "+os(is.transform(n))+")"},rr={test:t=>qa.test(t)||dv.test(t)||zi.test(t),parse:t=>qa.test(t)?qa.parse(t):zi.test(t)?zi.parse(t):dv.parse(t),transform:t=>Ks(t)?t:t.hasOwnProperty("red")?qa.transform(t):zi.transform(t)},ot=(t,e,r)=>-r*t+r*e+t;function If(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function pA({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let a=0,i=0,o=0;if(!e)a=i=o=r;else{const s=r<.5?r*(1+e):r+e-r*e,l=2*r-s;a=If(l,s,t+1/3),i=If(l,s,t),o=If(l,s,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const Nf=(t,e,r)=>{const n=t*t;return Math.sqrt(Math.max(0,r*(e*e-n)+n))},gA=[dv,qa,zi],mA=t=>gA.find(e=>e.test(t));function ay(t){const e=mA(t);let r=e.parse(t);return e===zi&&(r=pA(r)),r}const EE=(t,e)=>{const r=ay(t),n=ay(e),a={...r};return i=>(a.red=Nf(r.red,n.red,i),a.green=Nf(r.green,n.green,i),a.blue=Nf(r.blue,n.blue,i),a.alpha=ot(r.alpha,n.alpha,i),qa.transform(a))};function yA(t){var e,r;return isNaN(t)&&Ks(t)&&(((e=t.match(Ic))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(Kb))===null||r===void 0?void 0:r.length)||0)>0}const SE={regex:dk,countKey:"Vars",token:"${v}",parse:vt},CE={regex:Kb,countKey:"Colors",token:"${c}",parse:rr.parse},TE={regex:Ic,countKey:"Numbers",token:"${n}",parse:ci.parse};function Lf(t,{regex:e,countKey:r,token:n,parse:a}){const i=t.tokenised.match(e);i&&(t["num"+r]=i.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...i.map(a)))}function Wu(t){const e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Lf(r,SE),Lf(r,CE),Lf(r,TE),r}function PE(t){return Wu(t).values}function kE(t){const{values:e,numColors:r,numVars:n,tokenised:a}=Wu(t),i=e.length;return o=>{let s=a;for(let l=0;l<i;l++)l<n?s=s.replace(SE.token,o[l]):l<n+r?s=s.replace(CE.token,rr.transform(o[l])):s=s.replace(TE.token,os(o[l]));return s}}const wA=t=>typeof t=="number"?0:t;function xA(t){const e=PE(t);return kE(t)(e.map(wA))}const fa={test:yA,parse:PE,createTransformer:kE,getAnimatableNone:xA},AE=(t,e)=>r=>`${r>0?e:t}`;function DE(t,e){return typeof t=="number"?r=>ot(t,e,r):rr.test(t)?EE(t,e):t.startsWith("var(")?AE(t,e):RE(t,e)}const ME=(t,e)=>{const r=[...t],n=r.length,a=t.map((i,o)=>DE(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}},bA=(t,e)=>{const r={...t,...e},n={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(n[a]=DE(t[a],e[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}},RE=(t,e)=>{const r=fa.createTransformer(e),n=Wu(t),a=Wu(e);return n.numVars===a.numVars&&n.numColors===a.numColors&&n.numNumbers>=a.numNumbers?ia(ME(n.values,a.values),r):AE(t,e)},Rs=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},iy=(t,e)=>r=>ot(t,e,r);function EA(t){return typeof t=="number"?iy:typeof t=="string"?rr.test(t)?EE:RE:Array.isArray(t)?ME:typeof t=="object"?bA:iy}function SA(t,e,r){const n=[],a=r||EA(t[0]),i=t.length-1;for(let o=0;o<i;o++){let s=a(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||vt:e;s=ia(l,s)}n.push(s)}return n}function IE(t,e,{clamp:r=!0,ease:n,mixer:a}={}){const i=t.length;if(Zp(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=SA(e,n,a),s=o.length,l=u=>{let c=0;if(s>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const f=Rs(t[c],t[c+1],u);return o[c](f)};return r?u=>l(ca(t[0],t[i-1],u)):l}function CA(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const a=Rs(0,e,n);t.push(ot(r,1,a))}}function TA(t){const e=[0];return CA(e,t.length-1),e}function PA(t,e){return t.map(r=>r*e)}function kA(t,e){return t.map(()=>e||gE).splice(0,t.length-1)}function $u({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const a=lA(n)?n.map(ny):ny(n),i={done:!1,value:e[0]},o=PA(r&&r.length===e.length?r:TA(e),t),s=IE(o,e,{ease:Array.isArray(a)?a:kA(e,a)});return{calculatedDuration:t,next:l=>(i.value=s(l),i.done=l>=t,i)}}function NE(t,e){return e?t*(1e3/e):0}const AA=5;function LE(t,e,r){const n=Math.max(e-AA,0);return NE(r-t(n),e-n)}const Bf=.001,DA=.01,MA=10,RA=.05,IA=1;function NA({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let a,i,o=1-e;o=ca(RA,IA,o),t=ca(DA,MA,Cn(t)),o<1?(a=u=>{const c=u*o,f=c*t,d=c-r,h=hv(u,o),v=Math.exp(-f);return Bf-d/h*v},i=u=>{const f=u*o*t,d=f*r+r,h=Math.pow(o,2)*Math.pow(u,2)*t,v=Math.exp(-f),y=hv(Math.pow(u,2),o);return(-a(u)+Bf>0?-1:1)*((d-h)*v)/y}):(a=u=>{const c=Math.exp(-u*t),f=(u-r)*t+1;return-Bf+c*f},i=u=>{const c=Math.exp(-u*t),f=(r-u)*(t*t);return c*f});const s=5/t,l=BA(a,i,s);if(t=Ya(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const LA=12;function BA(t,e,r){let n=r;for(let a=1;a<LA;a++)n=n-t(n)/e(n);return n}function hv(t,e){return t*Math.sqrt(1-e*e)}const OA=["duration","bounce"],FA=["stiffness","damping","mass"];function oy(t,e){return e.some(r=>t[r]!==void 0)}function zA(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!oy(t,FA)&&oy(t,OA)){const r=NA(t);e={...e,...r,mass:1},e.isResolvedFromDuration=!0}return e}function BE({keyframes:t,restDelta:e,restSpeed:r,...n}){const a=t[0],i=t[t.length-1],o={done:!1,value:a},{stiffness:s,damping:l,mass:u,duration:c,velocity:f,isResolvedFromDuration:d}=zA({...n,velocity:-Cn(n.velocity||0)}),h=f||0,v=l/(2*Math.sqrt(s*u)),y=i-a,w=Cn(Math.sqrt(s/u)),g=Math.abs(y)<5;r||(r=g?.01:2),e||(e=g?.005:.5);let p;if(v<1){const m=hv(w,v);p=x=>{const E=Math.exp(-v*w*x);return i-E*((h+v*w*y)/m*Math.sin(m*x)+y*Math.cos(m*x))}}else if(v===1)p=m=>i-Math.exp(-w*m)*(y+(h+w*y)*m);else{const m=w*Math.sqrt(v*v-1);p=x=>{const E=Math.exp(-v*w*x),S=Math.min(m*x,300);return i-E*((h+v*w*y)*Math.sinh(S)+m*y*Math.cosh(S))/m}}return{calculatedDuration:d&&c||null,next:m=>{const x=p(m);if(d)o.done=m>=c;else{let E=h;m!==0&&(v<1?E=LE(p,m,x):E=0);const S=Math.abs(E)<=r,b=Math.abs(i-x)<=e;o.done=S&&b}return o.value=o.done?i:x,o}}}function sy({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:s,max:l,restDelta:u=.5,restSpeed:c}){const f=t[0],d={done:!1,value:f},h=C=>s!==void 0&&C<s||l!==void 0&&C>l,v=C=>s===void 0?l:l===void 0||Math.abs(s-C)<Math.abs(l-C)?s:l;let y=r*e;const w=f+y,g=o===void 0?w:o(w);g!==w&&(y=g-f);const p=C=>-y*Math.exp(-C/n),m=C=>g+p(C),x=C=>{const T=p(C),P=m(C);d.done=Math.abs(T)<=u,d.value=d.done?g:P};let E,S;const b=C=>{h(d.value)&&(E=C,S=BE({keyframes:[d.value,v(d.value)],velocity:LE(m,C,d.value),damping:a,stiffness:i,restDelta:u,restSpeed:c}))};return b(0),{calculatedDuration:null,next:C=>{let T=!1;return!S&&E===void 0&&(T=!0,x(C),b(C)),E!==void 0&&C>E?S.next(C-E):(!T&&x(C),d)}}}const VA=t=>{const e=({timestamp:r})=>t(r);return{start:()=>Qe.update(e,!0),stop:()=>Dn(e),now:()=>$t.isProcessing?$t.timestamp:performance.now()}},ly=2e4;function uy(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<ly;)e+=r,n=t.next(e);return e>=ly?1/0:e}const _A={decay:sy,inertia:sy,tween:$u,keyframes:$u,spring:BE};function Ku({autoplay:t=!0,delay:e=0,driver:r=VA,keyframes:n,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:f,...d}){let h=1,v=!1,y,w;const g=()=>{w=new Promise(O=>{y=O})};g();let p;const m=_A[a]||$u;let x;m!==$u&&typeof n[0]!="number"&&(x=IE([0,100],n,{clamp:!1}),n=[0,100]);const E=m({...d,keyframes:n});let S;s==="mirror"&&(S=m({...d,keyframes:[...n].reverse(),velocity:-(d.velocity||0)}));let b="idle",C=null,T=null,P=null;E.calculatedDuration===null&&i&&(E.calculatedDuration=uy(E));const{calculatedDuration:k}=E;let D=1/0,M=1/0;k!==null&&(D=k+o,M=D*(i+1)-o);let I=0;const B=O=>{if(T===null)return;h>0&&(T=Math.min(T,O)),h<0&&(T=Math.min(O-M/h,T)),C!==null?I=C:I=Math.round(O-T)*h;const V=I-e*(h>=0?1:-1),W=h>=0?V<0:V>M;I=Math.max(V,0),b==="finished"&&C===null&&(I=M);let Y=I,$=E;if(i){const ee=Math.min(I,M)/D;let _=Math.floor(ee),U=ee%1;!U&&ee>=1&&(U=1),U===1&&_--,_=Math.min(_,i+1),!!(_%2)&&(s==="reverse"?(U=1-U,o&&(U-=o/D)):s==="mirror"&&($=S)),Y=ca(0,1,U)*D}const X=W?{done:!1,value:n[0]}:$.next(Y);x&&(X.value=x(X.value));let{done:te}=X;!W&&k!==null&&(te=h>=0?I>=M:I<=0);const se=C===null&&(b==="finished"||b==="running"&&te);return f&&f(X.value),se&&R(),X},L=()=>{p&&p.stop(),p=void 0},N=()=>{b="idle",L(),y(),g(),T=P=null},R=()=>{b="finished",c&&c(),L(),y()},F=()=>{if(v)return;p||(p=r(B));const O=p.now();l&&l(),C!==null?T=O-C:(!T||b==="finished")&&(T=O),b==="finished"&&g(),P=T,C=null,b="running",p.start()};t&&F();const z={then(O,V){return w.then(O,V)},get time(){return Cn(I)},set time(O){O=Ya(O),I=O,C!==null||!p||h===0?C=O:T=p.now()-O/h},get duration(){const O=E.calculatedDuration===null?uy(E):E.calculatedDuration;return Cn(O)},get speed(){return h},set speed(O){O===h||!p||(h=O,z.time=Cn(I))},get state(){return b},play:F,pause:()=>{b="paused",C=I},stop:()=>{v=!0,b!=="idle"&&(b="idle",u&&u(),N())},cancel:()=>{P!==null&&B(P),N()},complete:()=>{b="finished"},sample:O=>(T=0,B(O))};return z}function UA(t){let e;return()=>(e===void 0&&(e=t()),e)}const HA=UA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),jA=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ml=10,GA=2e4,qA=(t,e)=>e.type==="spring"||t==="backgroundColor"||!dE(e.ease);function WA(t,e,{onUpdate:r,onComplete:n,...a}){if(!(HA()&&jA.has(e)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let o=!1,s,l,u=!1;const c=()=>{l=new Promise(m=>{s=m})};c();let{keyframes:f,duration:d=300,ease:h,times:v}=a;if(qA(e,a)){const m=Ku({...a,repeat:0,delay:0});let x={done:!1,value:f[0]};const E=[];let S=0;for(;!x.done&&S<GA;)x=m.sample(S),E.push(x.value),S+=Ml;v=void 0,f=E,d=S-Ml,h="linear"}const y=tA(t.owner.current,e,f,{...a,duration:d,ease:h,times:v}),w=()=>{u=!1,y.cancel()},g=()=>{u=!0,Qe.update(w),s(),c()};return y.onfinish=()=>{u||(t.set(rA(f,a)),n&&n(),g())},{then(m,x){return l.then(m,x)},attachTimeline(m){return y.timeline=m,y.onfinish=null,vt},get time(){return Cn(y.currentTime||0)},set time(m){y.currentTime=Ya(m)},get speed(){return y.playbackRate},set speed(m){y.playbackRate=m},get duration(){return Cn(d)},play:()=>{o||(y.play(),Dn(w))},pause:()=>y.pause(),stop:()=>{if(o=!0,y.playState==="idle")return;const{currentTime:m}=y;if(m){const x=Ku({...a,autoplay:!1});t.setWithVelocity(x.sample(m-Ml).value,x.sample(m).value,Ml)}g()},complete:()=>{u||y.finish()},cancel:g}}function $A({keyframes:t,delay:e,onUpdate:r,onComplete:n}){const a=()=>(r&&r(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:vt,pause:vt,stop:vt,then:i=>(i(),Promise.resolve()),cancel:vt,complete:vt});return e?Ku({keyframes:[0,1],duration:0,delay:e,onComplete:a}):a()}const KA={type:"spring",stiffness:500,damping:25,restSpeed:10},YA=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),XA={type:"keyframes",duration:.8},ZA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QA=(t,{keyframes:e})=>e.length>2?XA:ui.has(t)?t.startsWith("scale")?YA(e[1]):KA:ZA,vv=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(fa.test(e)||e==="0")&&!e.startsWith("url(")),JA=new Set(["brightness","contrast","saturate","opacity"]);function eD(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(Ic)||[];if(!n)return t;const a=r.replace(n,"");let i=JA.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+a+")"}const tD=/([a-z-]*)\(.*?\)/g,pv={...fa,getAnimatableNone:t=>{const e=t.match(tD);return e?e.map(eD).join(" "):t}},rD={...Yb,color:rr,backgroundColor:rr,outlineColor:rr,fill:rr,stroke:rr,borderColor:rr,borderTopColor:rr,borderRightColor:rr,borderBottomColor:rr,borderLeftColor:rr,filter:pv,WebkitFilter:pv},tg=t=>rD[t];function OE(t,e){let r=tg(t);return r!==pv&&(r=fa),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const FE=t=>/^0[^.\s]+$/.test(t);function nD(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||FE(t)}function aD(t,e,r,n){const a=vv(e,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const o=n.from!==void 0?n.from:t.get();let s;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),nD(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(s=i[u]);if(a&&l.length&&s)for(let u=0;u<l.length;u++){const c=l[u];i[c]=OE(e,s)}return i}function iD({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:s,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function rg(t,e){return t[e]||t.default||t}const oD={skipAnimations:!1},ng=(t,e,r,n={})=>a=>{const i=rg(n,t)||{},o=i.delay||n.delay||0;let{elapsed:s=0}=n;s=s-Ya(o);const l=aD(e,t,r,i),u=l[0],c=l[l.length-1],f=vv(t,u),d=vv(t,c);let h={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-s,onUpdate:v=>{e.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(iD(i)||(h={...h,...QA(t,h)}),h.duration&&(h.duration=Ya(h.duration)),h.repeatDelay&&(h.repeatDelay=Ya(h.repeatDelay)),!f||!d||eA.current||i.type===!1||oD.skipAnimations)return $A(h);if(!n.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=WA(e,t,h);if(v)return v}return Ku(h)};function Yu(t){return!!(wr(t)&&t.add)}const zE=t=>/^\-?\d*\.?\d+$/.test(t);function ag(t,e){t.indexOf(e)===-1&&t.push(e)}function ig(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class og{constructor(){this.subscriptions=[]}add(e){return ag(this.subscriptions,e),()=>ig(this.subscriptions,e)}notify(e,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const sD=t=>!isNaN(parseFloat(t));class lD{constructor(e,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,a=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=$t;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Qe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Qe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=sD(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new og);const n=this.events[e].add(r);return e==="change"?()=>{n(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?NE(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function so(t,e){return new lD(t,e)}const VE=t=>e=>e.test(t),uD={test:t=>t==="auto",parse:t=>t},_E=[ci,Te,ln,Vn,gk,pk,uD],No=t=>_E.find(VE(t)),cD=[..._E,rr,fa],fD=t=>cD.find(VE(t));function dD(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,so(r))}function hD(t,e){const r=Lc(t,e);let{transitionEnd:n={},transition:a={},...i}=r?t.makeTargetAnimatable(r,!1):{};i={...i,...n};for(const o in i){const s=Mk(i[o]);dD(t,o,s)}}function vD(t,e,r){var n,a;const i=Object.keys(e).filter(s=>!t.hasValue(s)),o=i.length;if(o)for(let s=0;s<o;s++){const l=i[s],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(a=(n=r[l])!==null&&n!==void 0?n:t.readValue(l))!==null&&a!==void 0?a:e[l]),c!=null&&(typeof c=="string"&&(zE(c)||FE(c))?c=parseFloat(c):!fD(c)&&fa.test(u)&&(c=OE(l,u)),t.addValue(l,so(c,{owner:t})),r[l]===void 0&&(r[l]=c),c!==null&&t.setBaseTarget(l,c))}}function pD(t,e){return e?(e[t]||e.default||e).from:void 0}function gD(t,e,r){const n={};for(const a in t){const i=pD(a,e);if(i!==void 0)n[a]=i;else{const o=r.getValue(a);o&&(n[a]=o.get())}}return n}function mD({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function yD(t,e){const r=t.get();if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(e[n]!==r)return!0}else return r!==e}function UE(t,e,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...s}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");n&&(i=n);const u=[],c=a&&t.animationState&&t.animationState.getState()[a];for(const f in s){const d=t.getValue(f),h=s[f];if(!d||h===void 0||c&&mD(c,f))continue;const v={delay:r,elapsed:0,...rg(i||{},f)};if(window.HandoffAppearAnimations){const g=t.getProps()[Hb];if(g){const p=window.HandoffAppearAnimations(g,f,d,Qe);p!==null&&(v.elapsed=p,v.isHandoff=!0)}}let y=!v.isHandoff&&!yD(d,h);if(v.type==="spring"&&(d.getVelocity()||v.velocity)&&(y=!1),d.animation&&(y=!1),y)continue;d.start(ng(f,d,h,t.shouldReduceMotion&&ui.has(f)?{type:!1}:v));const w=d.animation;Yu(l)&&(l.add(f),w.then(()=>l.remove(f))),u.push(w)}return o&&Promise.all(u).then(()=>{o&&hD(t,o)}),u}function gv(t,e,r={}){const n=Lc(t,e,r.custom);let{transition:a=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(UE(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:f}=a;return wD(t,e,u+l,c,f,r)}:()=>Promise.resolve(),{when:s}=a;if(s){const[l,u]=s==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function wD(t,e,r=0,n=0,a=1,i){const o=[],s=(t.variantChildren.size-1)*n,l=a===1?(u=0)=>u*n:(u=0)=>s-u*n;return Array.from(t.variantChildren).sort(xD).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(gv(u,e,{...i,delay:r+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function xD(t,e){return t.sortNodePosition(e)}function bD(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(i=>gv(t,i,r));n=Promise.all(a)}else if(typeof e=="string")n=gv(t,e,r);else{const a=typeof e=="function"?Lc(t,e,r.custom):e;n=Promise.all(UE(t,a,r))}return n.then(()=>t.notify("AnimationComplete",e))}const ED=[...Up].reverse(),SD=Up.length;function CD(t){return e=>Promise.all(e.map(({animation:r,options:n})=>bD(t,r,n)))}function TD(t){let e=CD(t);const r=kD();let n=!0;const a=(l,u)=>{const c=Lc(t,u);if(c){const{transition:f,transitionEnd:d,...h}=c;l={...l,...h,...d}}return l};function i(l){e=l(t)}function o(l,u){const c=t.getProps(),f=t.getVariantContext(!0)||{},d=[],h=new Set;let v={},y=1/0;for(let g=0;g<SD;g++){const p=ED[g],m=r[p],x=c[p]!==void 0?c[p]:f[p],E=Ds(x),S=p===u?m.isActive:null;S===!1&&(y=g);let b=x===f[p]&&x!==c[p]&&E;if(b&&n&&t.manuallyAnimateOnMount&&(b=!1),m.protectedKeys={...v},!m.isActive&&S===null||!x&&!m.prevProp||Mc(x)||typeof x=="boolean")continue;let T=PD(m.prevProp,x)||p===u&&m.isActive&&!b&&E||g>y&&E,P=!1;const k=Array.isArray(x)?x:[x];let D=k.reduce(a,{});S===!1&&(D={});const{prevResolvedValues:M={}}=m,I={...M,...D},B=L=>{T=!0,h.has(L)&&(P=!0,h.delete(L)),m.needsAnimating[L]=!0};for(const L in I){const N=D[L],R=M[L];if(v.hasOwnProperty(L))continue;let F=!1;qu(N)&&qu(R)?F=!cE(N,R):F=N!==R,F?N!==void 0?B(L):h.add(L):N!==void 0&&h.has(L)?B(L):m.protectedKeys[L]=!0}m.prevProp=x,m.prevResolvedValues=D,m.isActive&&(v={...v,...D}),n&&t.blockInitialAnimation&&(T=!1),T&&(!b||P)&&d.push(...k.map(L=>({animation:L,options:{type:p,...l}})))}if(h.size){const g={};h.forEach(p=>{const m=t.getBaseTarget(p);m!==void 0&&(g[p]=m)}),d.push({animation:g})}let w=!!d.length;return n&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(d):Promise.resolve()}function s(l,u,c){var f;if(r[l].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(h=>{var v;return(v=h.animationState)===null||v===void 0?void 0:v.setActive(l,u)}),r[l].isActive=u;const d=o(c,l);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:o,setActive:s,setAnimateFunction:i,getState:()=>r}}function PD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!cE(e,t):!1}function Aa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kD(){return{animate:Aa(!0),whileInView:Aa(),whileHover:Aa(),whileTap:Aa(),whileDrag:Aa(),whileFocus:Aa(),exit:Aa()}}class AD extends ba{constructor(e){super(e),e.animationState||(e.animationState=TD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Mc(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let DD=0;class MD extends ba{constructor(){super(...arguments),this.id=DD++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===a)return;const i=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});r&&!e&&i.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const RD={animation:{Feature:AD},exit:{Feature:MD}},cy=(t,e)=>Math.abs(t-e);function ID(t,e){const r=cy(t.x,e.x),n=cy(t.y,e.y);return Math.sqrt(r**2+n**2)}class HE{constructor(e,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Ff(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,h=ID(f.offset,{x:0,y:0})>=3;if(!d&&!h)return;const{point:v}=f,{timestamp:y}=$t;this.history.push({...v,timestamp:y});const{onStart:w,onMove:g}=this.handlers;d||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Of(d,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:h,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Ff(f.type==="pointercancel"?this.lastMoveEventInfo:Of(d,this.transformPagePoint),this.history);this.startEvent&&h&&h(f,w),v&&v(f,w)},!iE(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const o=Nc(e),s=Of(o,this.transformPagePoint),{point:l}=s,{timestamp:u}=$t;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=r;c&&c(e,Ff(s,this.history)),this.removeListeners=ia(Sn(this.contextWindow,"pointermove",this.handlePointerMove),Sn(this.contextWindow,"pointerup",this.handlePointerUp),Sn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Dn(this.updatePoint)}}function Of(t,e){return e?{point:e(t.point)}:t}function fy(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ff({point:t},e){return{point:t,delta:fy(t,jE(e)),offset:fy(t,ND(e)),velocity:LD(e,.1)}}function ND(t){return t[0]}function jE(t){return t[t.length-1]}function LD(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const a=jE(t);for(;r>=0&&(n=t[r],!(a.timestamp-n.timestamp>Ya(e)));)r--;if(!n)return{x:0,y:0};const i=Cn(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Tr(t){return t.max-t.min}function mv(t,e=0,r=.01){return Math.abs(t-e)<=r}function dy(t,e,r,n=.5){t.origin=n,t.originPoint=ot(e.min,e.max,t.origin),t.scale=Tr(r)/Tr(e),(mv(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ot(r.min,r.max,t.origin)-t.originPoint,(mv(t.translate)||isNaN(t.translate))&&(t.translate=0)}function ss(t,e,r,n){dy(t.x,e.x,r.x,n?n.originX:void 0),dy(t.y,e.y,r.y,n?n.originY:void 0)}function hy(t,e,r){t.min=r.min+e.min,t.max=t.min+Tr(e)}function BD(t,e,r){hy(t.x,e.x,r.x),hy(t.y,e.y,r.y)}function vy(t,e,r){t.min=e.min-r.min,t.max=t.min+Tr(e)}function ls(t,e,r){vy(t.x,e.x,r.x),vy(t.y,e.y,r.y)}function OD(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?ot(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?ot(r,t,n.max):Math.min(t,r)),t}function py(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function FD(t,{top:e,left:r,bottom:n,right:a}){return{x:py(t.x,r,a),y:py(t.y,e,n)}}function gy(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function zD(t,e){return{x:gy(t.x,e.x),y:gy(t.y,e.y)}}function VD(t,e){let r=.5;const n=Tr(t),a=Tr(e);return a>n?r=Rs(e.min,e.max-n,t.min):n>a&&(r=Rs(t.min,t.max-a,e.min)),ca(0,1,r)}function _D(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const yv=.35;function UD(t=yv){return t===!1?t=0:t===!0&&(t=yv),{x:my(t,"left","right"),y:my(t,"top","bottom")}}function my(t,e,r){return{min:yy(t,e),max:yy(t,r)}}function yy(t,e){return typeof t=="number"?t:t[e]||0}const wy=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vi=()=>({x:wy(),y:wy()}),xy=()=>({min:0,max:0}),mt=()=>({x:xy(),y:xy()});function Rr(t){return[t("x"),t("y")]}function GE({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function HD({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function jD(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function zf(t){return t===void 0||t===1}function wv({scale:t,scaleX:e,scaleY:r}){return!zf(t)||!zf(e)||!zf(r)}function La(t){return wv(t)||qE(t)||t.z||t.rotate||t.rotateX||t.rotateY}function qE(t){return by(t.x)||by(t.y)}function by(t){return t&&t!=="0%"}function Xu(t,e,r){const n=t-r,a=e*n;return r+a}function Ey(t,e,r,n,a){return a!==void 0&&(t=Xu(t,a,n)),Xu(t,r,n)+e}function xv(t,e=0,r=1,n,a){t.min=Ey(t.min,e,r,n,a),t.max=Ey(t.max,e,r,n,a)}function WE(t,{x:e,y:r}){xv(t.x,e.translate,e.scale,e.originPoint),xv(t.y,r.translate,r.scale,r.originPoint)}function GD(t,e,r,n=!1){const a=r.length;if(!a)return;e.x=e.y=1;let i,o;for(let s=0;s<a;s++){i=r[s],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&_i(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,WE(t,o)),n&&La(i.latestValues)&&_i(t,i.latestValues))}e.x=Sy(e.x),e.y=Sy(e.y)}function Sy(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Hn(t,e){t.min=t.min+e,t.max=t.max+e}function Cy(t,e,[r,n,a]){const i=e[a]!==void 0?e[a]:.5,o=ot(t.min,t.max,i);xv(t,e[r],e[n],o,e.scale)}const qD=["x","scaleX","originX"],WD=["y","scaleY","originY"];function _i(t,e){Cy(t.x,e,qD),Cy(t.y,e,WD)}function $E(t,e){return GE(jD(t.getBoundingClientRect(),e))}function $D(t,e,r){const n=$E(t,r),{scroll:a}=e;return a&&(Hn(n.x,a.offset.x),Hn(n.y,a.offset.y)),n}const KE=({current:t})=>t?t.ownerDocument.defaultView:null,KD=new WeakMap;class YD{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Nc(c,"page").point)},i=(c,f)=>{const{drag:d,dragPropagation:h,onDragStart:v}=this.getProps();if(d&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=sE(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rr(w=>{let g=this.getAxisMotionValue(w).get()||0;if(ln.test(g)){const{projection:p}=this.visualElement;if(p&&p.layout){const m=p.layout.layoutBox[w];m&&(g=Tr(m)*(parseFloat(g)/100))}}this.originPoint[w]=g}),v&&Qe.update(()=>v(c,f),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(c,f)=>{const{dragPropagation:d,dragDirectionLock:h,onDirectionLock:v,onDrag:y}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:w}=f;if(h&&this.currentDirection===null){this.currentDirection=XD(w),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),y&&y(c,f)},s=(c,f)=>this.stop(c,f),l=()=>Rr(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new HE(e,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:KE(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Qe.update(()=>i(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:a}=this.getProps();if(!n||!Rl(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=OD(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;r&&Fi(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=FD(a.layoutBox,r):this.constraints=!1,this.elastic=UD(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Rr(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=_D(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Fi(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=$D(n,a.root,this.visualElement.getTransformPagePoint());let o=zD(a.layout.layoutBox,i);if(r){const s=r(HD(o));this.hasMutatedConstraints=!!s,s&&(o=GE(s))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},u=Rr(c=>{if(!Rl(c,r,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});const d=a?200:1e6,h=a?40:1e7,v={type:"inertia",velocity:n?e[c]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(c,v)});return Promise.all(u).then(s)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return n.start(ng(e,n,0,r))}stopAnimation(){Rr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rr(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Rr(r=>{const{drag:n}=this.getProps();if(!Rl(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:s}=a.layout.layoutBox[r];i.set(e[r]-ot(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Fi(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Rr(o=>{const s=this.getAxisMotionValue(o);if(s){const l=s.get();a[o]=VD({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Rr(o=>{if(!Rl(o,e,null))return;const s=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];s.set(ot(l,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;KD.set(this.visualElement,this);const e=this.visualElement.current,r=Sn(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Fi(l)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),n();const o=xn(window,"resize",()=>this.scalePositionWithinConstraints()),s=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Rr(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=yv,dragMomentum:s=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function Rl(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function XD(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class ZD extends ba{constructor(e){super(e),this.removeGroupControls=vt,this.removeListeners=vt,this.controls=new YD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ty=t=>(e,r)=>{t&&Qe.update(()=>t(e,r))};class QD extends ba{constructor(){super(...arguments),this.removePointerDownListener=vt}onPointerDown(e){this.session=new HE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:Ty(e),onStart:Ty(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&Qe.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=Sn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function JD(){const t=ae.useContext(Ac);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,a=ae.useId();return ae.useEffect(()=>n(a),[]),!e&&r?[!1,()=>r&&r(a)]:[!0]}const iu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Py(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Lo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const r=Py(t,e.target.x),n=Py(t,e.target.y);return`${r}% ${n}%`}},eM={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,a=fa.parse(t);if(a.length>5)return n;const i=fa.createTransformer(t),o=typeof a[0]!="number"?1:0,s=r.x.scale*e.x,l=r.y.scale*e.y;a[0+o]/=s,a[1+o]/=l;const u=ot(s,l,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};class tM extends Kv.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=e;lk(rM),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),iu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,a||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Qe.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function YE(t){const[e,r]=JD(),n=ae.useContext(jp);return Kv.createElement(tM,{...t,layoutGroup:n,switchLayoutGroup:ae.useContext(Gb),isPresent:e,safeToRemove:r})}const rM={borderRadius:{...Lo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lo,borderTopRightRadius:Lo,borderBottomLeftRadius:Lo,borderBottomRightRadius:Lo,boxShadow:eM},XE=["TopLeft","TopRight","BottomLeft","BottomRight"],nM=XE.length,ky=t=>typeof t=="string"?parseFloat(t):t,Ay=t=>typeof t=="number"||Te.test(t);function aM(t,e,r,n,a,i){a?(t.opacity=ot(0,r.opacity!==void 0?r.opacity:1,iM(n)),t.opacityExit=ot(e.opacity!==void 0?e.opacity:1,0,oM(n))):i&&(t.opacity=ot(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<nM;o++){const s=`border${XE[o]}Radius`;let l=Dy(e,s),u=Dy(r,s);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Ay(l)===Ay(u)?(t[s]=Math.max(ot(ky(l),ky(u),n),0),(ln.test(u)||ln.test(l))&&(t[s]+="%")):t[s]=u}(e.rotate||r.rotate)&&(t.rotate=ot(e.rotate||0,r.rotate||0,n))}function Dy(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const iM=ZE(0,.5,wE),oM=ZE(.5,.95,vt);function ZE(t,e,r){return n=>n<t?0:n>e?1:r(Rs(t,e,n))}function My(t,e){t.min=e.min,t.max=e.max}function Dr(t,e){My(t.x,e.x),My(t.y,e.y)}function Ry(t,e,r,n,a){return t-=e,t=Xu(t,1/r,n),a!==void 0&&(t=Xu(t,1/a,n)),t}function sM(t,e=0,r=1,n=.5,a,i=t,o=t){if(ln.test(e)&&(e=parseFloat(e),e=ot(o.min,o.max,e/100)-o.min),typeof e!="number")return;let s=ot(i.min,i.max,n);t===i&&(s-=e),t.min=Ry(t.min,e,r,s,a),t.max=Ry(t.max,e,r,s,a)}function Iy(t,e,[r,n,a],i,o){sM(t,e[r],e[n],e[a],e.scale,i,o)}const lM=["x","scaleX","originX"],uM=["y","scaleY","originY"];function Ny(t,e,r,n){Iy(t.x,e,lM,r?r.x:void 0,n?n.x:void 0),Iy(t.y,e,uM,r?r.y:void 0,n?n.y:void 0)}function Ly(t){return t.translate===0&&t.scale===1}function QE(t){return Ly(t.x)&&Ly(t.y)}function cM(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function JE(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function By(t){return Tr(t.x)/Tr(t.y)}class fM{constructor(){this.members=[]}add(e){ag(this.members,e),e.scheduleRender()}remove(e){if(ig(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Oy(t,e,r){let n="";const a=t.x.translate/e.x,i=t.y.translate/e.y;if((a||i)&&(n=`translate3d(${a}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:l,rotateX:u,rotateY:c}=r;l&&(n+=`rotate(${l}deg) `),u&&(n+=`rotateX(${u}deg) `),c&&(n+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,s=t.y.scale*e.y;return(o!==1||s!==1)&&(n+=`scale(${o}, ${s})`),n||"none"}const dM=(t,e)=>t.depth-e.depth;class hM{constructor(){this.children=[],this.isDirty=!1}add(e){ag(this.children,e),this.isDirty=!0}remove(e){ig(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dM),this.isDirty=!1,this.children.forEach(e)}}function vM(t,e){const r=performance.now(),n=({timestamp:a})=>{const i=a-r;i>=e&&(Dn(n),t(i-e))};return Qe.read(n,!0),()=>Dn(n)}function pM(t){window.MotionDebug&&window.MotionDebug.record(t)}function gM(t){return t instanceof SVGElement&&t.tagName!=="svg"}function mM(t,e,r){const n=wr(t)?t:so(t);return n.start(ng("",n,e,r)),n.animation}const Fy=["","X","Y","Z"],yM={visibility:"hidden"},zy=1e3;let wM=0;const Ba={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function eS({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},s=e==null?void 0:e()){this.id=wM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ba.totalNodes=Ba.resolvedTargetDeltas=Ba.recalculatedProjection=0,this.nodes.forEach(EM),this.nodes.forEach(kM),this.nodes.forEach(AM),this.nodes.forEach(SM),pM(Ba)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new hM)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new og),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const l=this.eventHandlers.get(o);l&&l.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=gM(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(u||l)&&(this.isLayoutDirty=!0),t){let f;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=vM(d,250),iu.hasAnimatedSinceResize&&(iu.hasAnimatedSinceResize=!1,this.nodes.forEach(_y))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:h,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||NM,{onLayoutAnimationStart:w,onLayoutAnimationComplete:g}=c.getProps(),p=!this.targetLayout||!JE(this.targetLayout,v)||h,m=!d&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||m||d&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,m);const x={...rg(y,"layout"),onPlay:w,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else d||_y(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Dn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DM),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vy);return}this.isUpdating||this.nodes.forEach(TM),this.isUpdating=!1,this.nodes.forEach(PM),this.nodes.forEach(xM),this.nodes.forEach(bM),this.clearAllSnapshots();const s=performance.now();$t.delta=ca(0,1e3/60,s-$t.timestamp),$t.timestamp=s,$t.isProcessing=!0,Af.update.process($t),Af.preRender.process($t),Af.render.process($t),$t.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(CM),this.sharedNodes.forEach(MM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform,s=this.projectionDelta&&!QE(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(s||La(this.latestValues)||c)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return o&&(l=this.removeTransform(l)),LM(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return mt();const s=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Hn(s.x,l.offset.x),Hn(s.y,l.offset.y)),s}removeElementScroll(o){const s=mt();Dr(s,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:f}=u;if(u!==this.root&&c&&f.layoutScroll){if(c.isRoot){Dr(s,o);const{scroll:d}=this.root;d&&(Hn(s.x,-d.offset.x),Hn(s.y,-d.offset.y))}Hn(s.x,c.offset.x),Hn(s.y,c.offset.y)}}return s}applyTransform(o,s=!1){const l=mt();Dr(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&_i(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),La(c.latestValues)&&_i(l,c.latestValues)}return La(this.latestValues)&&_i(l,this.latestValues),l}removeTransform(o){const s=mt();Dr(s,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!La(u.latestValues))continue;wv(u.latestValues)&&u.updateSnapshot();const c=mt(),f=u.measurePageBox();Dr(c,f),Ny(s,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return La(this.latestValues)&&Ny(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$t.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var s;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=$t.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),ls(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),BD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dr(this.target,this.layout.layoutBox),WE(this.target,this.targetDelta)):Dr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),ls(this.relativeTargetOrigin,this.target,h.target),Dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ba.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||wv(this.parent.latestValues)||qE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===$t.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Dr(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;GD(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox);const{target:v}=s;if(!v){this.projectionTransform&&(this.projectionDelta=Vi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Vi(),this.projectionDeltaWithTransform=Vi());const y=this.projectionTransform;ss(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=Oy(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==d||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Ba.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,s=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=Vi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const d=mt(),h=l?l.source:void 0,v=this.layout?this.layout.source:void 0,y=h!==v,w=this.getStack(),g=!w||w.members.length<=1,p=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(IM));this.animationProgress=0;let m;this.mixTargetDelta=x=>{const E=x/1e3;Uy(f.x,o.x,E),Uy(f.y,o.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ls(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),RM(this.relativeTarget,this.relativeTargetOrigin,d,E),m&&cM(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=mt()),Dr(m,this.relativeTarget)),y&&(this.animationValues=c,aM(c,u,this.latestValues,E,p,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Dn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{iu.hasAnimatedSinceResize=!0,this.currentAnimation=mM(0,zy,{...o,onUpdate:s=>{this.mixTargetDelta(s),o.onUpdate&&o.onUpdate(s)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zy),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:l,layout:u,latestValues:c}=o;if(!(!s||!l||!u)){if(this!==o&&this.layout&&u&&tS(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||mt();const f=Tr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const d=Tr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}Dr(s,l),_i(s,c),ss(this.projectionDeltaWithTransform,this.layoutCorrected,s,c)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new fM),this.sharedNodes.get(o).add(s);const u=s.options.initialPromotionConfig;s.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(s=!0),!s)return;const u={};for(let c=0;c<Fy.length;c++){const f="rotate"+Fy[c];l[f]&&(u[f]=l[f],o.setStaticValue(f,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o){var s,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return yM;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=au(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=au(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!La(this.latestValues)&&(y.transform=c?c({},""):"none",this.hasProjected=!1),y}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Oy(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:h,y:v}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(s=d.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in ju){if(d[y]===void 0)continue;const{correct:w,applyTo:g}=ju[y],p=u.transform==="none"?d[y]:w(d[y],f);if(g){const m=g.length;for(let x=0;x<m;x++)u[g[x]]=p}else u[y]=p}return this.options.layoutId&&(u.pointerEvents=f===this?au(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(Vy),this.root.sharedNodes.clear()}}}function xM(t){t.updateLayout()}function bM(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=t.layout,{animationType:i}=t.options,o=r.source!==t.layout.source;i==="size"?Rr(f=>{const d=o?r.measuredBox[f]:r.layoutBox[f],h=Tr(d);d.min=n[f].min,d.max=d.min+h}):tS(i,r.layoutBox,n)&&Rr(f=>{const d=o?r.measuredBox[f]:r.layoutBox[f],h=Tr(n[f]);d.max=d.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+h)});const s=Vi();ss(s,n,r.layoutBox);const l=Vi();o?ss(l,t.applyTransform(a,!0),r.measuredBox):ss(l,n,r.layoutBox);const u=!QE(s);let c=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:h}=f;if(d&&h){const v=mt();ls(v,r.layoutBox,d.layoutBox);const y=mt();ls(y,n,h.layoutBox),JE(v,y)||(c=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function EM(t){Ba.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function SM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function CM(t){t.clearSnapshot()}function Vy(t){t.clearMeasurements()}function TM(t){t.isLayoutDirty=!1}function PM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function _y(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function kM(t){t.resolveTargetDelta()}function AM(t){t.calcProjection()}function DM(t){t.resetRotation()}function MM(t){t.removeLeadSnapshot()}function Uy(t,e,r){t.translate=ot(e.translate,0,r),t.scale=ot(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Hy(t,e,r,n){t.min=ot(e.min,r.min,n),t.max=ot(e.max,r.max,n)}function RM(t,e,r,n){Hy(t.x,e.x,r.x,n),Hy(t.y,e.y,r.y,n)}function IM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const NM={duration:.45,ease:[.4,0,.1,1]},jy=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Gy=jy("applewebkit/")&&!jy("chrome/")?Math.round:vt;function qy(t){t.min=Gy(t.min),t.max=Gy(t.max)}function LM(t){qy(t.x),qy(t.y)}function tS(t,e,r){return t==="position"||t==="preserve-aspect"&&!mv(By(e),By(r),.2)}const BM=eS({attachResizeListener:(t,e)=>xn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vf={current:void 0},rS=eS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Vf.current){const t=new BM({});t.mount(window),t.setOptions({layoutScroll:!0}),Vf.current=t}return Vf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),OM={pan:{Feature:QD},drag:{Feature:ZD,ProjectionNode:rS,MeasureLayout:YE}},FM=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function zM(t){const e=FM.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]}function bv(t,e,r=1){const[n,a]=zM(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return zE(o)?parseFloat(o):o}else return cv(a)?bv(a,e,r+1):a}function VM(t,{...e},r){const n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(a=>{const i=a.get();if(!cv(i))return;const o=bv(i,n);o&&a.set(o)});for(const a in e){const i=e[a];if(!cv(i))continue;const o=bv(i,n);o&&(e[a]=o,r||(r={}),r[a]===void 0&&(r[a]=i))}return{target:e,transitionEnd:r}}const _M=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),nS=t=>_M.has(t),UM=t=>Object.keys(t).some(nS),Wy=t=>t===ci||t===Te,$y=(t,e)=>parseFloat(t.split(", ")[e]),Ky=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/);if(a)return $y(a[1],e);{const i=n.match(/^matrix\((.+)\)$/);return i?$y(i[1],t):0}},HM=new Set(["x","y","z"]),jM=$s.filter(t=>!HM.has(t));function GM(t){const e=[];return jM.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const lo={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Ky(4,13),y:Ky(5,14)};lo.translateX=lo.x;lo.translateY=lo.y;const qM=(t,e,r)=>{const n=e.measureViewportBox(),a=e.current,i=getComputedStyle(a),{display:o}=i,s={};o==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(u=>{s[u]=lo[u](n,i)}),e.render();const l=e.measureViewportBox();return r.forEach(u=>{const c=e.getValue(u);c&&c.jump(s[u]),t[u]=lo[u](l,i)}),t},WM=(t,e,r={},n={})=>{e={...e},n={...n};const a=Object.keys(e).filter(nS);let i=[],o=!1;const s=[];if(a.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=r[l],f=No(c);const d=e[l];let h;if(qu(d)){const v=d.length,y=d[0]===null?1:0;c=d[y],f=No(c);for(let w=y;w<v&&d[w]!==null;w++)h?Zp(No(d[w])===h):h=No(d[w])}else h=No(d);if(f!==h)if(Wy(f)&&Wy(h)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof d=="string"?e[l]=parseFloat(d):Array.isArray(d)&&h===Te&&(e[l]=d.map(parseFloat))}else f!=null&&f.transform&&(h!=null&&h.transform)&&(c===0||d===0)?c===0?u.set(h.transform(c)):e[l]=f.transform(d):(o||(i=GM(t),o=!0),s.push(l),n[l]=n[l]!==void 0?n[l]:e[l],u.jump(d))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,u=qM(e,t,s);return i.length&&i.forEach(([c,f])=>{t.getValue(c).set(f)}),t.render(),Dc&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:n}}else return{target:e,transitionEnd:n}};function $M(t,e,r,n){return UM(e)?WM(t,e,r,n):{target:e,transitionEnd:n}}const KM=(t,e,r,n)=>{const a=VM(t,e,n);return e=a.target,n=a.transitionEnd,$M(t,e,r,n)},Ev={current:null},aS={current:!1};function YM(){if(aS.current=!0,!!Dc)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ev.current=t.matches;t.addListener(e),e()}else Ev.current=!1}function XM(t,e,r){const{willChange:n}=e;for(const a in e){const i=e[a],o=r[a];if(wr(i))t.addValue(a,i),Yu(n)&&n.add(a);else if(wr(o))t.addValue(a,so(i,{owner:t})),Yu(n)&&n.remove(a);else if(o!==i)if(t.hasValue(a)){const s=t.getValue(a);!s.hasAnimated&&s.set(i)}else{const s=t.getStaticValue(a);t.addValue(a,so(s!==void 0?s:i,{owner:t}))}}for(const a in r)e[a]===void 0&&t.removeValue(a);return e}const Yy=new WeakMap,iS=Object.keys(Ms),ZM=iS.length,Xy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],QM=Hp.length;class JM{constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Qe.render(this.render,!1,!0);const{latestValues:s,renderState:l}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=r.initial?{...s}:{},this.renderState=l,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=Rc(r),this.isVariantNode=jb(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(r,{});for(const f in c){const d=c[f];s[f]!==void 0&&wr(d)&&(d.set(s[f],!1),Yu(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,Yy.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),aS.current||YM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ev.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Yy.delete(this.current),this.projection&&this.projection.unmount(),Dn(this.notifyUpdate),Dn(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const n=ui.has(e),a=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Qe.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{a(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},n,a,i){let o,s;for(let l=0;l<ZM;l++){const u=iS[l],{isEnabled:c,Feature:f,ProjectionNode:d,MeasureLayout:h}=Ms[u];d&&(o=d),c(r)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),h&&(s=h))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:f,layoutScroll:d,layoutRoot:h}=r;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||f&&Fi(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:d,layoutRoot:h})}return s}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Xy.length;n++){const a=Xy[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=e["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=XM(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<QM;n++){const a=Hp[n],i=this.props[a];(Ds(i)||i===!1)&&(r[a]=i)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=so(r,{owner:this}),this.addValue(e,n)),n}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props,a=typeof n=="string"||typeof n=="object"?(r=Xp(this.props,n))===null||r===void 0?void 0:r[e]:void 0;if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!wr(i)?i:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new og),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class oS extends JM{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...n},{transformValues:a},i){let o=gD(n,e||{},this);if(a&&(r&&(r=a(r)),n&&(n=a(n)),o&&(o=a(o))),i){vD(this,n,o);const s=KM(this,n,o,r);r=s.transitionEnd,n=s.target}return{transition:e,transitionEnd:r,...n}}}function eR(t){return window.getComputedStyle(t)}class tR extends oS{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,r){if(ui.has(r)){const n=tg(r);return n&&n.default||0}else{const n=eR(e),a=($b(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return $E(e,r)}build(e,r,n,a){qp(e,r,n,a.transformTemplate)}scrapeMotionValuesFromProps(e,r){return Yp(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wr(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,n,a){Jb(e,r,n,a)}}class rR extends oS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(ui.has(r)){const n=tg(r);return n&&n.default||0}return r=eE.has(r)?r:_p(r),e.getAttribute(r)}measureInstanceViewportBox(){return mt()}scrapeMotionValuesFromProps(e,r){return rE(e,r)}build(e,r,n,a){$p(e,r,n,this.isSVGTag,a.transformTemplate)}renderInstance(e,r,n,a){tE(e,r,n,a)}mount(e){this.isSVGTag=Kp(e.tagName),super.mount(e)}}const nR=(t,e)=>Gp(t)?new rR(e,{enableHardwareAcceleration:!1}):new tR(e,{enableHardwareAcceleration:!0}),aR={layout:{ProjectionNode:rS,MeasureLayout:YE}},iR={...RD,...Zk,...OM,...aR},Va=ok((t,e)=>zk(t,e,iR,nR));function sS(){const t=ae.useRef(!1);return Vp(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function oR(){const t=sS(),[e,r]=ae.useState(0),n=ae.useCallback(()=>{t.current&&r(e+1)},[e]);return[ae.useCallback(()=>Qe.postRender(n),[n]),e]}class sR extends ae.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function lR({children:t,isPresent:e}){const r=ae.useId(),n=ae.useRef(null),a=ae.useRef({width:0,height:0,top:0,left:0});return ae.useInsertionEffect(()=>{const{width:i,height:o,top:s,left:l}=a.current;if(e||!n.current||!i||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${s}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),ae.createElement(sR,{isPresent:e,childRef:n,sizeRef:a},ae.cloneElement(t,{ref:n}))}const _f=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o})=>{const s=nE(uR),l=ae.useId(),u=ae.useMemo(()=>({id:l,initial:e,isPresent:r,custom:a,onExitComplete:c=>{s.set(c,!0);for(const f of s.values())if(!f)return;n&&n()},register:c=>(s.set(c,!1),()=>s.delete(c))}),i?void 0:[r]);return ae.useMemo(()=>{s.forEach((c,f)=>s.set(f,!1))},[r]),ae.useEffect(()=>{!r&&!s.size&&n&&n()},[r]),o==="popLayout"&&(t=ae.createElement(lR,{isPresent:r},t)),ae.createElement(Ac.Provider,{value:u},t)};function uR(){return new Map}function cR(t){return ae.useEffect(()=>()=>t(),[])}const Oa=t=>t.key||"";function fR(t,e){t.forEach(r=>{const n=Oa(r);e.set(n,r)})}function dR(t){const e=[];return ae.Children.forEach(t,r=>{ae.isValidElement(r)&&e.push(r)}),e}const ou=({children:t,custom:e,initial:r=!0,onExitComplete:n,exitBeforeEnter:a,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const s=ae.useContext(jp).forceRender||oR()[0],l=sS(),u=dR(t);let c=u;const f=ae.useRef(new Map).current,d=ae.useRef(c),h=ae.useRef(new Map).current,v=ae.useRef(!0);if(Vp(()=>{v.current=!1,fR(u,h),d.current=c}),cR(()=>{v.current=!0,h.clear(),f.clear()}),v.current)return ae.createElement(ae.Fragment,null,c.map(p=>ae.createElement(_f,{key:Oa(p),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:o},p)));c=[...c];const y=d.current.map(Oa),w=u.map(Oa),g=y.length;for(let p=0;p<g;p++){const m=y[p];w.indexOf(m)===-1&&!f.has(m)&&f.set(m,void 0)}return o==="wait"&&f.size&&(c=[]),f.forEach((p,m)=>{if(w.indexOf(m)!==-1)return;const x=h.get(m);if(!x)return;const E=y.indexOf(m);let S=p;if(!S){const b=()=>{f.delete(m);const C=Array.from(h.keys()).filter(T=>!w.includes(T));if(C.forEach(T=>h.delete(T)),d.current=u.filter(T=>{const P=Oa(T);return P===m||C.includes(P)}),!f.size){if(l.current===!1)return;s(),n&&n()}};S=ae.createElement(_f,{key:Oa(x),isPresent:!1,onExitComplete:b,custom:e,presenceAffectsLayout:i,mode:o},x),f.set(m,S)}c.splice(E,0,S)}),c=c.map(p=>{const m=p.key;return f.has(m)?p:ae.createElement(_f,{key:Oa(p),isPresent:!0,presenceAffectsLayout:i,mode:o},p)}),ae.createElement(ae.Fragment,null,f.size?c:c.map(p=>ae.cloneElement(p)))};function Sv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function hR(t){if(Array.isArray(t))return t}function vR(t){if(Array.isArray(t))return Sv(t)}function Ea(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uS(n.key),n)}}function Sa(t,e,r){return e&&pR(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pr(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=sg(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return o=l.done,l},e:function(l){s=!0,i=l},f:function(){try{o||r.return==null||r.return()}finally{if(s)throw i}}}}function lS(t,e,r){return(e=uS(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gR(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mR(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function yR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wt(t,e){return hR(t)||mR(t,e)||sg(t,e)||yR()}function Zu(t){return vR(t)||gR(t)||sg(t)||wR()}function xR(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uS(t){var e=xR(t,"string");return typeof e=="symbol"?e:e+""}function kt(t){"@babel/helpers - typeof";return kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kt(t)}function sg(t,e){if(t){if(typeof t=="string")return Sv(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sv(t,e):void 0}}var St=typeof window>"u"?null:window,Zy=St?St.navigator:null;St&&St.document;var bR=kt(""),cS=kt({}),ER=kt(function(){}),SR=typeof HTMLElement>"u"?"undefined":kt(HTMLElement),Zs=function(e){return e&&e.instanceString&&lt(e.instanceString)?e.instanceString():null},we=function(e){return e!=null&&kt(e)==bR},lt=function(e){return e!=null&&kt(e)===ER},Ye=function(e){return!Sr(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},_e=function(e){return e!=null&&kt(e)===cS&&!Ye(e)&&e.constructor===Object},CR=function(e){return e!=null&&kt(e)===cS},oe=function(e){return e!=null&&kt(e)===kt(1)&&!isNaN(e)},TR=function(e){return oe(e)&&Math.floor(e)===e},Qu=function(e){if(SR!=="undefined")return e!=null&&e instanceof HTMLElement},Sr=function(e){return Qs(e)||fS(e)},Qs=function(e){return Zs(e)==="collection"&&e._private.single},fS=function(e){return Zs(e)==="collection"&&!e._private.single},lg=function(e){return Zs(e)==="core"},dS=function(e){return Zs(e)==="stylesheet"},PR=function(e){return Zs(e)==="event"},da=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},kR=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},AR=function(e){return _e(e)&&oe(e.x1)&&oe(e.x2)&&oe(e.y1)&&oe(e.y2)},DR=function(e){return CR(e)&&lt(e.then)},MR=function(){return Zy&&Zy.userAgent.match(/msie|trident|edge/i)},uo=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);return i.join("$")});var n=function(){var i=this,o=arguments,s,l=r.apply(i,o),u=n.cache;return(s=u[l])||(s=u[l]=e.apply(i,o)),s};return n.cache={},n},ug=uo(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Bc=uo(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),hS=uo(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),Qy=function(e){return da(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Kn=function(e,r){return e.slice(-1*r.length)===r},Pt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",RR="rgb[a]?\\(("+Pt+"[%]?)\\s*,\\s*("+Pt+"[%]?)\\s*,\\s*("+Pt+"[%]?)(?:\\s*,\\s*("+Pt+"))?\\)",IR="rgb[a]?\\((?:"+Pt+"[%]?)\\s*,\\s*(?:"+Pt+"[%]?)\\s*,\\s*(?:"+Pt+"[%]?)(?:\\s*,\\s*(?:"+Pt+"))?\\)",NR="hsl[a]?\\(("+Pt+")\\s*,\\s*("+Pt+"[%])\\s*,\\s*("+Pt+"[%])(?:\\s*,\\s*("+Pt+"))?\\)",LR="hsl[a]?\\((?:"+Pt+")\\s*,\\s*(?:"+Pt+"[%])\\s*,\\s*(?:"+Pt+"[%])(?:\\s*,\\s*(?:"+Pt+"))?\\)",BR="\\#[0-9a-fA-F]{3}",OR="\\#[0-9a-fA-F]{6}",vS=function(e,r){return e<r?-1:e>r?1:0},FR=function(e,r){return-1*vS(e,r)},Se=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var a=Object.keys(n),i=0;i<a.length;i++){var o=a[i];t[o]=n[o]}}return t},zR=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,a,i,o=16;return r?(n=parseInt(e[1]+e[1],o),a=parseInt(e[2]+e[2],o),i=parseInt(e[3]+e[3],o)):(n=parseInt(e[1]+e[2],o),a=parseInt(e[3]+e[4],o),i=parseInt(e[5]+e[6],o)),[n,a,i]}},VR=function(e){var r,n,a,i,o,s,l,u;function c(v,y,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?v+(y-v)*6*w:w<1/2?y:w<2/3?v+(y-v)*(2/3-w)*6:v}var f=new RegExp("^"+NR+"$").exec(e);if(f){if(n=parseInt(f[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(f[2]),a<0||a>100||(a=a/100,i=parseFloat(f[3]),i<0||i>100)||(i=i/100,o=f[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(a===0)s=l=u=Math.round(i*255);else{var d=i<.5?i*(1+a):i+a-i*a,h=2*i-d;s=Math.round(255*c(h,d,n+1/3)),l=Math.round(255*c(h,d,n)),u=Math.round(255*c(h,d,n-1/3))}r=[s,l,u,o]}return r},_R=function(e){var r,n=new RegExp("^"+RR+"$").exec(e);if(n){r=[];for(var a=[],i=1;i<=3;i++){var o=n[i];if(o[o.length-1]==="%"&&(a[i]=!0),o=parseFloat(o),a[i]&&(o=o/100*255),o<0||o>255)return;r.push(Math.floor(o))}var s=a[1]||a[2]||a[3],l=a[1]&&a[2]&&a[3];if(s&&!l)return;var u=n[4];if(u!==void 0){if(u=parseFloat(u),u<0||u>1)return;r.push(u)}}return r},UR=function(e){return HR[e.toLowerCase()]},pS=function(e){return(Ye(e)?e:null)||UR(e)||zR(e)||_R(e)||VR(e)},HR={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},gS=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(_e(o))throw Error("Tried to set map with object key");i<n.length-1?(r[o]==null&&(r[o]={}),r=r[o]):r[o]=e.value}},mS=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(_e(o))throw Error("Tried to get map with object key");if(r=r[o],r==null)return r}return r},Il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Js(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Uf,Jy;function el(){if(Jy)return Uf;Jy=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Uf=t,Uf}var Hf,e0;function jR(){if(e0)return Hf;e0=1;var t=typeof Il=="object"&&Il&&Il.Object===Object&&Il;return Hf=t,Hf}var jf,t0;function Oc(){if(t0)return jf;t0=1;var t=jR(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return jf=r,jf}var Gf,r0;function GR(){if(r0)return Gf;r0=1;var t=Oc(),e=function(){return t.Date.now()};return Gf=e,Gf}var qf,n0;function qR(){if(n0)return qf;n0=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return qf=e,qf}var Wf,a0;function WR(){if(a0)return Wf;a0=1;var t=qR(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Wf=r,Wf}var $f,i0;function cg(){if(i0)return $f;i0=1;var t=Oc(),e=t.Symbol;return $f=e,$f}var Kf,o0;function $R(){if(o0)return Kf;o0=1;var t=cg(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(o){var s=r.call(o,a),l=o[a];try{o[a]=void 0;var u=!0}catch{}var c=n.call(o);return u&&(s?o[a]=l:delete o[a]),c}return Kf=i,Kf}var Yf,s0;function KR(){if(s0)return Yf;s0=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Yf=r,Yf}var Xf,l0;function yS(){if(l0)return Xf;l0=1;var t=cg(),e=$R(),r=KR(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(s){return s==null?s===void 0?a:n:i&&i in Object(s)?e(s):r(s)}return Xf=o,Xf}var Zf,u0;function YR(){if(u0)return Zf;u0=1;function t(e){return e!=null&&typeof e=="object"}return Zf=t,Zf}var Qf,c0;function tl(){if(c0)return Qf;c0=1;var t=yS(),e=YR(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return Qf=n,Qf}var Jf,f0;function XR(){if(f0)return Jf;f0=1;var t=WR(),e=el(),r=tl(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=e(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=t(u);var f=i.test(u);return f||o.test(u)?s(u.slice(2),f?2:8):a.test(u)?n:+u}return Jf=l,Jf}var ed,d0;function ZR(){if(d0)return ed;d0=1;var t=el(),e=GR(),r=XR(),n="Expected a function",a=Math.max,i=Math.min;function o(s,l,u){var c,f,d,h,v,y,w=0,g=!1,p=!1,m=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,t(u)&&(g=!!u.leading,p="maxWait"in u,d=p?a(r(u.maxWait)||0,l):d,m="trailing"in u?!!u.trailing:m);function x(M){var I=c,B=f;return c=f=void 0,w=M,h=s.apply(B,I),h}function E(M){return w=M,v=setTimeout(C,l),g?x(M):h}function S(M){var I=M-y,B=M-w,L=l-I;return p?i(L,d-B):L}function b(M){var I=M-y,B=M-w;return y===void 0||I>=l||I<0||p&&B>=d}function C(){var M=e();if(b(M))return T(M);v=setTimeout(C,S(M))}function T(M){return v=void 0,m&&c?x(M):(c=f=void 0,h)}function P(){v!==void 0&&clearTimeout(v),w=0,c=y=f=v=void 0}function k(){return v===void 0?h:T(e())}function D(){var M=e(),I=b(M);if(c=arguments,f=this,y=M,I){if(v===void 0)return E(y);if(p)return clearTimeout(v),v=setTimeout(C,l),x(y)}return v===void 0&&(v=setTimeout(C,l)),h}return D.cancel=P,D.flush=k,D}return ed=o,ed}var QR=ZR(),rl=Js(QR),td=St?St.performance:null,wS=td&&td.now?function(){return td.now()}:function(){return Date.now()},JR=function(){if(St){if(St.requestAnimationFrame)return function(t){St.requestAnimationFrame(t)};if(St.mozRequestAnimationFrame)return function(t){St.mozRequestAnimationFrame(t)};if(St.webkitRequestAnimationFrame)return function(t){St.webkitRequestAnimationFrame(t)};if(St.msRequestAnimationFrame)return function(t){St.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(wS())},1e3/60)}}(),Ju=function(e){return JR(e)},Mn=wS,_a=9261,xS=65599,Ci=5381,bS=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_a,n=r,a;a=e.next(),!a.done;)n=n*xS+a.value|0;return n},Is=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_a;return r*xS+e|0},Ns=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ci;return(r<<5)+r+e|0},eI=function(e,r){return e*2097152+r},Fn=function(e){return e[0]*2097152+e[1]},Nl=function(e,r){return[Is(e[0],r[0]),Ns(e[1],r[1])]},h0=function(e,r){var n={value:0,done:!1},a=0,i=e.length,o={next:function(){return a<i?n.value=e[a++]:n.done=!0,n}};return bS(o,r)},ti=function(e,r){var n={value:0,done:!1},a=0,i=e.length,o={next:function(){return a<i?n.value=e.charCodeAt(a++):n.done=!0,n}};return bS(o,r)},ES=function(){return tI(arguments)},tI=function(e){for(var r,n=0;n<e.length;n++){var a=e[n];n===0?r=ti(a):r=ti(a,r)}return r};function rI(t,e,r,n,a){var i=a*Math.PI/180,o=Math.cos(i)*(t-r)-Math.sin(i)*(e-n)+r,s=Math.sin(i)*(t-r)+Math.cos(i)*(e-n)+n;return{x:o,y:s}}var nI=function(e,r,n,a,i,o){return{x:(e-n)*i+n,y:(r-a)*o+a}};function aI(t,e,r){if(r===0)return t;var n=(e.x1+e.x2)/2,a=(e.y1+e.y2)/2,i=e.w/e.h,o=1/i,s=rI(t.x,t.y,n,a,r),l=nI(s.x,s.y,n,a,i,o);return{x:l.x,y:l.y}}var v0=!0,iI=console.warn!=null,oI=console.trace!=null,fg=Number.MAX_SAFE_INTEGER||9007199254740991,SS=function(){return!0},ec=function(){return!1},p0=function(){return 0},dg=function(){},at=function(e){throw new Error(e)},CS=function(e){if(e!==void 0)v0=!!e;else return v0},We=function(e){CS()&&(iI?console.warn(e):(console.log(e),oI&&console.trace()))},sI=function(e){return Se({},e)},an=function(e){return e==null?e:Ye(e)?e.slice():_e(e)?sI(e):e},lI=function(e){return e.slice()},TS=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},uI={},PS=function(){return uI},Ht=function(e){var r=Object.keys(e);return function(n){for(var a={},i=0;i<r.length;i++){var o=r[i],s=n==null?void 0:n[o];a[o]=s===void 0?e[o]:s}return a}},ha=function(e,r,n){for(var a=e.length-1;a>=0;a--)e[a]===r&&e.splice(a,1)},hg=function(e){e.splice(0,e.length)},cI=function(e,r){for(var n=0;n<r.length;n++){var a=r[n];e.push(a)}},dr=function(e,r,n){return n&&(r=hS(n,r)),e[r]},mn=function(e,r,n,a){n&&(r=hS(n,r)),e[r]=a},fI=function(){function t(){Ea(this,t),this._obj={}}return Sa(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}])}(),bn=typeof Map<"u"?Map:fI,dI="undefined",hI=function(){function t(e){if(Ea(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return Sa(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}])}(),go=(typeof Set>"u"?"undefined":kt(Set))!==dI?Set:hI,Fc=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!lg(e)){at("An element must have a core reference and parameters set");return}var a=r.group;if(a==null&&(r.data&&r.data.source!=null&&r.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){at("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?a==="edges":!!r.pannable,active:!1,classes:new go,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),r.renderedPosition){var o=r.renderedPosition,s=e.pan(),l=e.zoom();i.position={x:(o.x-s.x)/l,y:(o.y-s.y)/l}}var u=[];Ye(r.classes)?u=r.classes:we(r.classes)&&(u=r.classes.split(/\s+/));for(var c=0,f=u.length;c<f;c++){var d=u[c];!d||d===""||i.classes.add(d)}this.createEmitter(),(n===void 0||n)&&this.restore();var h=r.style||r.css;h&&(We("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(h))},g0=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,a,i){var o;_e(n)&&!Sr(n)&&(o=n,n=o.roots||o.root,a=o.visit,i=o.directed),i=arguments.length===2&&!lt(a)?a:i,a=lt(a)?a:function(){};for(var s=this._private.cy,l=n=we(n)?this.filter(n):n,u=[],c=[],f={},d={},h={},v=0,y,w=this.byGroup(),g=w.nodes,p=w.edges,m=0;m<l.length;m++){var x=l[m],E=x.id();x.isNode()&&(u.unshift(x),e.bfs&&(h[E]=!0,c.push(x)),d[E]=0)}for(var S=function(){var M=e.bfs?u.shift():u.pop(),I=M.id();if(e.dfs){if(h[I])return 0;h[I]=!0,c.push(M)}var B=d[I],L=f[I],N=L!=null?L.source():null,R=L!=null?L.target():null,F=L==null?void 0:M.same(N)?R[0]:N[0],z;if(z=a(M,L,F,v++,B),z===!0)return y=M,1;if(z===!1)return 1;for(var O=M.connectedEdges().filter(function(X){return(!i||X.source().same(M))&&p.has(X)}),V=0;V<O.length;V++){var W=O[V],Y=W.connectedNodes().filter(function(X){return!X.same(M)&&g.has(X)}),$=Y.id();Y.length!==0&&!h[$]&&(Y=Y[0],u.push(Y),e.bfs&&(h[$]=!0,c.push(Y)),f[$]=W,d[$]=d[I]+1)}},b;u.length!==0&&(b=S(),!(b!==0&&b===1)););for(var C=s.collection(),T=0;T<c.length;T++){var P=c[T],k=f[P.id()];k!=null&&C.push(k),C.push(P)}return{path:s.collection(C),found:s.collection(y)}}},Ls={breadthFirstSearch:g0({bfs:!0}),depthFirstSearch:g0({dfs:!0})};Ls.bfs=Ls.breadthFirstSearch;Ls.dfs=Ls.depthFirstSearch;var su={exports:{}},vI=su.exports,m0;function pI(){return m0||(m0=1,function(t,e){(function(){var r,n,a,i,o,s,l,u,c,f,d,h,v,y,w;a=Math.floor,f=Math.min,n=function(g,p){return g<p?-1:g>p?1:0},c=function(g,p,m,x,E){var S;if(m==null&&(m=0),E==null&&(E=n),m<0)throw new Error("lo must be non-negative");for(x==null&&(x=g.length);m<x;)S=a((m+x)/2),E(p,g[S])<0?x=S:m=S+1;return[].splice.apply(g,[m,m-m].concat(p)),p},s=function(g,p,m){return m==null&&(m=n),g.push(p),y(g,0,g.length-1,m)},o=function(g,p){var m,x;return p==null&&(p=n),m=g.pop(),g.length?(x=g[0],g[0]=m,w(g,0,p)):x=m,x},u=function(g,p,m){var x;return m==null&&(m=n),x=g[0],g[0]=p,w(g,0,m),x},l=function(g,p,m){var x;return m==null&&(m=n),g.length&&m(g[0],p)<0&&(x=[g[0],p],p=x[0],g[0]=x[1],w(g,0,m)),p},i=function(g,p){var m,x,E,S,b,C;for(p==null&&(p=n),S=(function(){C=[];for(var T=0,P=a(g.length/2);0<=P?T<P:T>P;0<=P?T++:T--)C.push(T);return C}).apply(this).reverse(),b=[],x=0,E=S.length;x<E;x++)m=S[x],b.push(w(g,m,p));return b},v=function(g,p,m){var x;if(m==null&&(m=n),x=g.indexOf(p),x!==-1)return y(g,0,x,m),w(g,x,m)},d=function(g,p,m){var x,E,S,b,C;if(m==null&&(m=n),E=g.slice(0,p),!E.length)return E;for(i(E,m),C=g.slice(p),S=0,b=C.length;S<b;S++)x=C[S],l(E,x,m);return E.sort(m).reverse()},h=function(g,p,m){var x,E,S,b,C,T,P,k,D;if(m==null&&(m=n),p*10<=g.length){if(S=g.slice(0,p).sort(m),!S.length)return S;for(E=S[S.length-1],P=g.slice(p),b=0,T=P.length;b<T;b++)x=P[b],m(x,E)<0&&(c(S,x,0,null,m),S.pop(),E=S[S.length-1]);return S}for(i(g,m),D=[],C=0,k=f(p,g.length);0<=k?C<k:C>k;0<=k?++C:--C)D.push(o(g,m));return D},y=function(g,p,m,x){var E,S,b;for(x==null&&(x=n),E=g[m];m>p;){if(b=m-1>>1,S=g[b],x(E,S)<0){g[m]=S,m=b;continue}break}return g[m]=E},w=function(g,p,m){var x,E,S,b,C;for(m==null&&(m=n),E=g.length,C=p,S=g[p],x=2*p+1;x<E;)b=x+1,b<E&&!(m(g[x],g[b])<0)&&(x=b),g[p]=g[x],p=x,x=2*p+1;return g[p]=S,y(g,C,p,m)},r=function(){g.push=s,g.pop=o,g.replace=u,g.pushpop=l,g.heapify=i,g.updateItem=v,g.nlargest=d,g.nsmallest=h;function g(p){this.cmp=p??n,this.nodes=[]}return g.prototype.push=function(p){return s(this.nodes,p,this.cmp)},g.prototype.pop=function(){return o(this.nodes,this.cmp)},g.prototype.peek=function(){return this.nodes[0]},g.prototype.contains=function(p){return this.nodes.indexOf(p)!==-1},g.prototype.replace=function(p){return u(this.nodes,p,this.cmp)},g.prototype.pushpop=function(p){return l(this.nodes,p,this.cmp)},g.prototype.heapify=function(){return i(this.nodes,this.cmp)},g.prototype.updateItem=function(p){return v(this.nodes,p,this.cmp)},g.prototype.clear=function(){return this.nodes=[]},g.prototype.empty=function(){return this.nodes.length===0},g.prototype.size=function(){return this.nodes.length},g.prototype.clone=function(){var p;return p=new g,p.nodes=this.nodes.slice(0),p},g.prototype.toArray=function(){return this.nodes.slice(0)},g.prototype.insert=g.prototype.push,g.prototype.top=g.prototype.peek,g.prototype.front=g.prototype.peek,g.prototype.has=g.prototype.contains,g.prototype.copy=g.prototype.clone,g}(),function(g,p){return t.exports=p()}(this,function(){return r})}).call(vI)}(su)),su.exports}var rd,y0;function gI(){return y0||(y0=1,rd=pI()),rd}var mI=gI(),nl=Js(mI),yI=Ht({root:null,weight:function(e){return 1},directed:!1}),wI={dijkstra:function(e){if(!_e(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=yI(e),a=n.root,i=n.weight,o=n.directed,s=this,l=i,u=we(a)?this.filter(a)[0]:a[0],c={},f={},d={},h=this.byGroup(),v=h.nodes,y=h.edges;y.unmergeBy(function(B){return B.isLoop()});for(var w=function(L){return c[L.id()]},g=function(L,N){c[L.id()]=N,p.updateItem(L)},p=new nl(function(B,L){return w(B)-w(L)}),m=0;m<v.length;m++){var x=v[m];c[x.id()]=x.same(u)?0:1/0,p.push(x)}for(var E=function(L,N){for(var R=(o?L.edgesTo(N):L.edgesWith(N)).intersect(y),F=1/0,z,O=0;O<R.length;O++){var V=R[O],W=l(V);(W<F||!z)&&(F=W,z=V)}return{edge:z,dist:F}};p.size()>0;){var S=p.pop(),b=w(S),C=S.id();if(d[C]=b,b!==1/0)for(var T=S.neighborhood().intersect(v),P=0;P<T.length;P++){var k=T[P],D=k.id(),M=E(S,k),I=b+M.dist;I<w(k)&&(g(k,I),f[D]={node:S,edge:M.edge})}}return{distanceTo:function(L){var N=we(L)?v.filter(L)[0]:L[0];return d[N.id()]},pathTo:function(L){var N=we(L)?v.filter(L)[0]:L[0],R=[],F=N,z=F.id();if(N.length>0)for(R.unshift(N);f[z];){var O=f[z];R.unshift(O.edge),R.unshift(O.node),F=O.node,z=F.id()}return s.spawn(R)}}}},xI={kruskal:function(e){e=e||function(m){return 1};for(var r=this.byGroup(),n=r.nodes,a=r.edges,i=n.length,o=new Array(i),s=n,l=function(x){for(var E=0;E<o.length;E++){var S=o[E];if(S.has(x))return E}},u=0;u<i;u++)o[u]=this.spawn(n[u]);for(var c=a.sort(function(m,x){return e(m)-e(x)}),f=0;f<c.length;f++){var d=c[f],h=d.source()[0],v=d.target()[0],y=l(h),w=l(v),g=o[y],p=o[w];y!==w&&(s.merge(d),g.merge(p),o.splice(w,1))}return s}},bI=Ht({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),EI={aStar:function(e){var r=this.cy(),n=bI(e),a=n.root,i=n.goal,o=n.heuristic,s=n.directed,l=n.weight;a=r.collection(a)[0],i=r.collection(i)[0];var u=a.id(),c=i.id(),f={},d={},h={},v=new nl(function(z,O){return d[z.id()]-d[O.id()]}),y=new go,w={},g={},p=function(O,V){v.push(O),y.add(V)},m,x,E=function(){m=v.pop(),x=m.id(),y.delete(x)},S=function(O){return y.has(O)};p(a,u),f[u]=0,d[u]=o(a);for(var b=0;v.size()>0;){if(E(),b++,x===c){for(var C=[],T=i,P=c,k=g[P];C.unshift(T),k!=null&&C.unshift(k),T=w[P],T!=null;)P=T.id(),k=g[P];return{found:!0,distance:f[x],path:this.spawn(C),steps:b}}h[x]=!0;for(var D=m._private.edges,M=0;M<D.length;M++){var I=D[M];if(this.hasElementWithId(I.id())&&!(s&&I.data("source")!==x)){var B=I.source(),L=I.target(),N=B.id()!==x?B:L,R=N.id();if(this.hasElementWithId(R)&&!h[R]){var F=f[x]+l(I);if(!S(R)){f[R]=F,d[R]=F+o(N),p(N,R),w[R]=m,g[R]=I;continue}F<f[R]&&(f[R]=F,d[R]=F+o(N),w[R]=m,g[R]=I)}}}}return{found:!1,distance:void 0,path:void 0,steps:b}}},SI=Ht({weight:function(e){return 1},directed:!1}),CI={floydWarshall:function(e){for(var r=this.cy(),n=SI(e),a=n.weight,i=n.directed,o=a,s=this.byGroup(),l=s.nodes,u=s.edges,c=l.length,f=c*c,d=function(W){return l.indexOf(W)},h=function(W){return l[W]},v=new Array(f),y=0;y<f;y++){var w=y%c,g=(y-w)/c;g===w?v[y]=0:v[y]=1/0}for(var p=new Array(f),m=new Array(f),x=0;x<u.length;x++){var E=u[x],S=E.source()[0],b=E.target()[0];if(S!==b){var C=d(S),T=d(b),P=C*c+T,k=o(E);if(v[P]>k&&(v[P]=k,p[P]=T,m[P]=E),!i){var D=T*c+C;!i&&v[D]>k&&(v[D]=k,p[D]=C,m[D]=E)}}}for(var M=0;M<c;M++)for(var I=0;I<c;I++)for(var B=I*c+M,L=0;L<c;L++){var N=I*c+L,R=M*c+L;v[B]+v[R]<v[N]&&(v[N]=v[B]+v[R],p[N]=p[B])}var F=function(W){return(we(W)?r.filter(W):W)[0]},z=function(W){return d(F(W))},O={distance:function(W,Y){var $=z(W),X=z(Y);return v[$*c+X]},path:function(W,Y){var $=z(W),X=z(Y),te=h($);if($===X)return te.collection();if(p[$*c+X]==null)return r.collection();var se=r.collection(),ee=$,_;for(se.merge(te);$!==X;)ee=$,$=p[$*c+X],_=m[ee*c+$],se.merge(_),se.merge(h($));return se}};return O}},TI=Ht({weight:function(e){return 1},directed:!1,root:null}),PI={bellmanFord:function(e){var r=this,n=TI(e),a=n.weight,i=n.directed,o=n.root,s=a,l=this,u=this.cy(),c=this.byGroup(),f=c.edges,d=c.nodes,h=d.length,v=new bn,y=!1,w=[];o=u.collection(o)[0],f.unmergeBy(function(Ae){return Ae.isLoop()});for(var g=f.length,p=function(Ce){var be=v.get(Ce.id());return be||(be={},v.set(Ce.id(),be)),be},m=function(Ce){return(we(Ce)?u.$(Ce):Ce)[0]},x=function(Ce){return p(m(Ce)).dist},E=function(Ce){for(var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,le=m(Ce),me=[],ye=le;;){if(ye==null)return r.spawn();var ke=p(ye),xe=ke.edge,Me=ke.pred;if(me.unshift(ye[0]),ye.same(be)&&me.length>0)break;xe!=null&&me.unshift(xe),ye=Me}return l.spawn(me)},S=0;S<h;S++){var b=d[S],C=p(b);b.same(o)?C.dist=0:C.dist=1/0,C.pred=null,C.edge=null}for(var T=!1,P=function(Ce,be,le,me,ye,ke){var xe=me.dist+ke;xe<ye.dist&&!le.same(me.edge)&&(ye.dist=xe,ye.pred=Ce,ye.edge=le,T=!0)},k=1;k<h;k++){T=!1;for(var D=0;D<g;D++){var M=f[D],I=M.source(),B=M.target(),L=s(M),N=p(I),R=p(B);P(I,B,M,N,R,L),i||P(B,I,M,R,N,L)}if(!T)break}if(T)for(var F=[],z=0;z<g;z++){var O=f[z],V=O.source(),W=O.target(),Y=s(O),$=p(V).dist,X=p(W).dist;if($+Y<X||!i&&X+Y<$)if(y||(We("Graph contains a negative weight cycle for Bellman-Ford"),y=!0),e.findNegativeWeightCycles!==!1){var te=[];$+Y<X&&te.push(V),!i&&X+Y<$&&te.push(W);for(var se=te.length,ee=0;ee<se;ee++){var _=te[ee],U=[_];U.push(p(_).edge);for(var G=p(_).pred;U.indexOf(G)===-1;)U.push(G),U.push(p(G).edge),G=p(G).pred;U=U.slice(U.indexOf(G));for(var Q=U[0].id(),ie=0,ge=2;ge<U.length;ge+=2)U[ge].id()<Q&&(Q=U[ge].id(),ie=ge);U=U.slice(ie).concat(U.slice(0,ie)),U.push(U[0]);var Oe=U.map(function(Ae){return Ae.id()}).join(",");F.indexOf(Oe)===-1&&(w.push(l.spawn(U)),F.push(Oe))}}else break}return{distanceTo:x,pathTo:E,hasNegativeWeightCycle:y,negativeWeightCycles:w}}},kI=Math.sqrt(2),AI=function(e,r,n){n.length===0&&at("Karger-Stein must be run on a connected (sub)graph");for(var a=n[e],i=a[1],o=a[2],s=r[i],l=r[o],u=n,c=u.length-1;c>=0;c--){var f=u[c],d=f[1],h=f[2];(r[d]===s&&r[h]===l||r[d]===l&&r[h]===s)&&u.splice(c,1)}for(var v=0;v<u.length;v++){var y=u[v];y[1]===l?(u[v]=y.slice(),u[v][1]=s):y[2]===l&&(u[v]=y.slice(),u[v][2]=s)}for(var w=0;w<r.length;w++)r[w]===l&&(r[w]=s);return u},nd=function(e,r,n,a){for(;n>a;){var i=Math.floor(Math.random()*r.length);r=AI(i,e,r),n--}return r},DI={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,a=r.edges;a.unmergeBy(function(R){return R.isLoop()});var i=n.length,o=a.length,s=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),l=Math.floor(i/kI);if(i<2){at("At least 2 nodes are required for Karger-Stein algorithm");return}for(var u=[],c=0;c<o;c++){var f=a[c];u.push([c,n.indexOf(f.source()),n.indexOf(f.target())])}for(var d=1/0,h=[],v=new Array(i),y=new Array(i),w=new Array(i),g=function(F,z){for(var O=0;O<i;O++)z[O]=F[O]},p=0;p<=s;p++){for(var m=0;m<i;m++)y[m]=m;var x=nd(y,u.slice(),i,l),E=x.slice();g(y,w);var S=nd(y,x,l,2),b=nd(w,E,l,2);S.length<=b.length&&S.length<d?(d=S.length,h=S,g(y,v)):b.length<=S.length&&b.length<d&&(d=b.length,h=b,g(w,v))}for(var C=this.spawn(h.map(function(R){return a[R[0]]})),T=this.spawn(),P=this.spawn(),k=v[0],D=0;D<v.length;D++){var M=v[D],I=n[D];M===k?T.merge(I):P.merge(I)}var B=function(F){var z=e.spawn();return F.forEach(function(O){z.merge(O),O.connectedEdges().forEach(function(V){e.contains(V)&&!C.contains(V)&&z.merge(V)})}),z},L=[B(T),B(P)],N={cut:C,components:L,partition1:T,partition2:P};return N}},ad,MI=function(e){return{x:e.x,y:e.y}},zc=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},kS=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},Ui=function(e){return{x:e[0],y:e[1]}},RI=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=1/0,i=r;i<n;i++){var o=e[i];isFinite(o)&&(a=Math.min(o,a))}return a},II=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=-1/0,i=r;i<n;i++){var o=e[i];isFinite(o)&&(a=Math.max(o,a))}return a},NI=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=0,i=0,o=r;o<n;o++){var s=e[o];isFinite(s)&&(a+=s,i++)}return a/i},LI=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var s=0,l=e.length-1;l>=0;l--){var u=e[l];o?isFinite(u)||(e[l]=-1/0,s++):e.splice(l,1)}i&&e.sort(function(d,h){return d-h});var c=e.length,f=Math.floor(c/2);return c%2!==0?e[f+1+s]:(e[f-1+s]+e[f+s])/2},BI=function(e){return Math.PI*e/180},Ll=function(e,r){return Math.atan2(r,e)-Math.PI/2},vg=Math.log2||function(t){return Math.log(t)/Math.log(2)},pg=function(e){return e>0?1:e<0?-1:0},ri=function(e,r){return Math.sqrt(Fa(e,r))},Fa=function(e,r){var n=r.x-e.x,a=r.y-e.y;return n*n+a*a},OI=function(e){for(var r=e.length,n=0,a=0;a<r;a++)n+=e[a];for(var i=0;i<r;i++)e[i]=e[i]/n;return e},Mt=function(e,r,n,a){return(1-a)*(1-a)*e+2*(1-a)*a*r+a*a*n},Xi=function(e,r,n,a){return{x:Mt(e.x,r.x,n.x,a),y:Mt(e.y,r.y,n.y,a)}},FI=function(e,r,n,a){var i={x:r.x-e.x,y:r.y-e.y},o=ri(e,r),s={x:i.x/o,y:i.y/o};return n=n??0,a=a??n*o,{x:e.x+s.x*a,y:e.y+s.y*a}},Bs=function(e,r,n){return Math.max(e,Math.min(n,r))},ir=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},zI=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},VI=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},_I=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},AS=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},lu=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},uu=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,i,o;if(r.length===1)n=a=i=o=r[0];else if(r.length===2)n=i=r[0],o=a=r[1];else if(r.length===4){var s=wt(r,4);n=s[0],a=s[1],i=s[2],o=s[3]}return e.x1-=o,e.x2+=a,e.y1-=n,e.y2+=i,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},w0=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},gg=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},Yn=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},x0=function(e,r){return Yn(e,r.x,r.y)},DS=function(e,r){return Yn(e,r.x1,r.y1)&&Yn(e,r.x2,r.y2)},UI=(ad=Math.hypot)!==null&&ad!==void 0?ad:function(t,e){return Math.sqrt(t*t+e*e)};function HI(t,e){if(t.length<3)throw new Error("Need at least 3 vertices");var r=function(C,T){return{x:C.x+T.x,y:C.y+T.y}},n=function(C,T){return{x:C.x-T.x,y:C.y-T.y}},a=function(C,T){return{x:C.x*T,y:C.y*T}},i=function(C,T){return C.x*T.y-C.y*T.x},o=function(C){var T=UI(C.x,C.y);return T===0?{x:0,y:0}:{x:C.x/T,y:C.y/T}},s=function(C){for(var T=0,P=0;P<C.length;P++){var k=C[P],D=C[(P+1)%C.length];T+=k.x*D.y-D.x*k.y}return T/2},l=function(C,T,P,k){var D=n(T,C),M=n(k,P),I=i(D,M);if(Math.abs(I)<1e-9)return r(C,a(D,.5));var B=i(n(P,C),M)/I;return r(C,a(D,B))},u=t.map(function(b){return{x:b.x,y:b.y}});s(u)<0&&u.reverse();for(var c=u.length,f=[],d=0;d<c;d++){var h=u[d],v=u[(d+1)%c],y=n(v,h),w=o({x:y.y,y:-y.x});f.push(w)}for(var g=f.map(function(b,C){var T=r(u[C],a(b,e)),P=r(u[(C+1)%c],a(b,e));return{p1:T,p2:P}}),p=[],m=0;m<c;m++){var x=g[(m-1+c)%c],E=g[m],S=l(x.p1,x.p2,E.p1,E.p2);p.push(S)}return p}function jI(t,e,r,n,a,i){var o=QI(t,e,r,n,a),s=HI(o,i),l=ir();return s.forEach(function(u){return AS(l,u.x,u.y)}),l}var MS=function(e,r,n,a,i,o,s){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",u=l==="auto"?va(i,o):l,c=i/2,f=o/2;u=Math.min(u,c,f);var d=u!==c,h=u!==f,v;if(d){var y=n-c+u-s,w=a-f-s,g=n+c-u+s,p=w;if(v=Xn(e,r,n,a,y,w,g,p,!1),v.length>0)return v}if(h){var m=n+c+s,x=a-f+u-s,E=m,S=a+f-u+s;if(v=Xn(e,r,n,a,m,x,E,S,!1),v.length>0)return v}if(d){var b=n-c+u-s,C=a+f+s,T=n+c-u+s,P=C;if(v=Xn(e,r,n,a,b,C,T,P,!1),v.length>0)return v}if(h){var k=n-c-s,D=a-f+u-s,M=k,I=a+f-u+s;if(v=Xn(e,r,n,a,k,D,M,I,!1),v.length>0)return v}var B;{var L=n-c+u,N=a-f+u;if(B=$o(e,r,n,a,L,N,u+s),B.length>0&&B[0]<=L&&B[1]<=N)return[B[0],B[1]]}{var R=n+c-u,F=a-f+u;if(B=$o(e,r,n,a,R,F,u+s),B.length>0&&B[0]>=R&&B[1]<=F)return[B[0],B[1]]}{var z=n+c-u,O=a+f-u;if(B=$o(e,r,n,a,z,O,u+s),B.length>0&&B[0]>=z&&B[1]>=O)return[B[0],B[1]]}{var V=n-c+u,W=a+f-u;if(B=$o(e,r,n,a,V,W,u+s),B.length>0&&B[0]<=V&&B[1]>=W)return[B[0],B[1]]}return[]},GI=function(e,r,n,a,i,o,s){var l=s,u=Math.min(n,i),c=Math.max(n,i),f=Math.min(a,o),d=Math.max(a,o);return u-l<=e&&e<=c+l&&f-l<=r&&r<=d+l},qI=function(e,r,n,a,i,o,s,l,u){var c={x1:Math.min(n,s,i)-u,x2:Math.max(n,s,i)+u,y1:Math.min(a,l,o)-u,y2:Math.max(a,l,o)+u};return!(e<c.x1||e>c.x2||r<c.y1||r>c.y2)},WI=function(e,r,n,a){n-=a;var i=r*r-4*e*n;if(i<0)return[];var o=Math.sqrt(i),s=2*e,l=(-r+o)/s,u=(-r-o)/s;return[l,u]},$I=function(e,r,n,a,i){var o=1e-5;e===0&&(e=o),r/=e,n/=e,a/=e;var s,l,u,c,f,d,h,v;if(l=(3*n-r*r)/9,u=-(27*a)+r*(9*n-2*(r*r)),u/=54,s=l*l*l+u*u,i[1]=0,h=r/3,s>0){f=u+Math.sqrt(s),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),d=u-Math.sqrt(s),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),i[0]=-h+f+d,h+=(f+d)/2,i[4]=i[2]=-h,h=Math.sqrt(3)*(-d+f)/2,i[3]=h,i[5]=-h;return}if(i[5]=i[3]=0,s===0){v=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),i[0]=-h+2*v,i[4]=i[2]=-(v+h);return}l=-l,c=l*l*l,c=Math.acos(u/Math.sqrt(c)),v=2*Math.sqrt(l),i[0]=-h+v*Math.cos(c/3),i[2]=-h+v*Math.cos((c+2*Math.PI)/3),i[4]=-h+v*Math.cos((c+4*Math.PI)/3)},KI=function(e,r,n,a,i,o,s,l){var u=1*n*n-4*n*i+2*n*s+4*i*i-4*i*s+s*s+a*a-4*a*o+2*a*l+4*o*o-4*o*l+l*l,c=1*9*n*i-3*n*n-3*n*s-6*i*i+3*i*s+9*a*o-3*a*a-3*a*l-6*o*o+3*o*l,f=1*3*n*n-6*n*i+n*s-n*e+2*i*i+2*i*e-s*e+3*a*a-6*a*o+a*l-a*r+2*o*o+2*o*r-l*r,d=1*n*i-n*n+n*e-i*e+a*o-a*a+a*r-o*r,h=[];$I(u,c,f,d,h);for(var v=1e-7,y=[],w=0;w<6;w+=2)Math.abs(h[w+1])<v&&h[w]>=0&&h[w]<=1&&y.push(h[w]);y.push(1),y.push(0);for(var g=-1,p,m,x,E=0;E<y.length;E++)p=Math.pow(1-y[E],2)*n+2*(1-y[E])*y[E]*i+y[E]*y[E]*s,m=Math.pow(1-y[E],2)*a+2*(1-y[E])*y[E]*o+y[E]*y[E]*l,x=Math.pow(p-e,2)+Math.pow(m-r,2),g>=0?x<g&&(g=x):g=x;return g},YI=function(e,r,n,a,i,o){var s=[e-n,r-a],l=[i-n,o-a],u=l[0]*l[0]+l[1]*l[1],c=s[0]*s[0]+s[1]*s[1],f=s[0]*l[0]+s[1]*l[1],d=f*f/u;return f<0?c:d>u?(e-i)*(e-i)+(r-o)*(r-o):c-d},hr=function(e,r,n){for(var a,i,o,s,l,u=0,c=0;c<n.length/2;c++)if(a=n[c*2],i=n[c*2+1],c+1<n.length/2?(o=n[(c+1)*2],s=n[(c+1)*2+1]):(o=n[(c+1-n.length/2)*2],s=n[(c+1-n.length/2)*2+1]),!(a==e&&o==e))if(a>=e&&e>=o||a<=e&&e<=o)l=(e-a)/(o-a)*(s-i)+i,l>r&&u++;else continue;return u%2!==0},Rn=function(e,r,n,a,i,o,s,l,u){var c=new Array(n.length),f;l[0]!=null?(f=Math.atan(l[1]/l[0]),l[0]<0?f=f+Math.PI/2:f=-f-Math.PI/2):f=l;for(var d=Math.cos(-f),h=Math.sin(-f),v=0;v<c.length/2;v++)c[v*2]=o/2*(n[v*2]*d-n[v*2+1]*h),c[v*2+1]=s/2*(n[v*2+1]*d+n[v*2]*h),c[v*2]+=a,c[v*2+1]+=i;var y;if(u>0){var w=rc(c,-u);y=tc(w)}else y=c;return hr(e,r,y)},XI=function(e,r,n,a,i,o,s,l){for(var u=new Array(n.length*2),c=0;c<l.length;c++){var f=l[c];u[c*4+0]=f.startX,u[c*4+1]=f.startY,u[c*4+2]=f.stopX,u[c*4+3]=f.stopY;var d=Math.pow(f.cx-e,2)+Math.pow(f.cy-r,2);if(d<=Math.pow(f.radius,2))return!0}return hr(e,r,u)},tc=function(e){for(var r=new Array(e.length/2),n,a,i,o,s,l,u,c,f=0;f<e.length/4;f++){n=e[f*4],a=e[f*4+1],i=e[f*4+2],o=e[f*4+3],f<e.length/4-1?(s=e[(f+1)*4],l=e[(f+1)*4+1],u=e[(f+1)*4+2],c=e[(f+1)*4+3]):(s=e[0],l=e[1],u=e[2],c=e[3]);var d=Xn(n,a,i,o,s,l,u,c,!0);r[f*2]=d[0],r[f*2+1]=d[1]}return r},rc=function(e,r){for(var n=new Array(e.length*2),a,i,o,s,l=0;l<e.length/2;l++){a=e[l*2],i=e[l*2+1],l<e.length/2-1?(o=e[(l+1)*2],s=e[(l+1)*2+1]):(o=e[0],s=e[1]);var u=s-i,c=-(o-a),f=Math.sqrt(u*u+c*c),d=u/f,h=c/f;n[l*4]=a+d*r,n[l*4+1]=i+h*r,n[l*4+2]=o+d*r,n[l*4+3]=s+h*r}return n},ZI=function(e,r,n,a,i,o){var s=n-e,l=a-r;s/=i,l/=o;var u=Math.sqrt(s*s+l*l),c=u-1;if(c<0)return[];var f=c/u;return[(n-e)*f+e,(a-r)*f+r]},Wa=function(e,r,n,a,i,o,s){return e-=i,r-=o,e/=n/2+s,r/=a/2+s,e*e+r*r<=1},$o=function(e,r,n,a,i,o,s){var l=[n-e,a-r],u=[e-i,r-o],c=l[0]*l[0]+l[1]*l[1],f=2*(u[0]*l[0]+u[1]*l[1]),d=u[0]*u[0]+u[1]*u[1]-s*s,h=f*f-4*c*d;if(h<0)return[];var v=(-f+Math.sqrt(h))/(2*c),y=(-f-Math.sqrt(h))/(2*c),w=Math.min(v,y),g=Math.max(v,y),p=[];if(w>=0&&w<=1&&p.push(w),g>=0&&g<=1&&p.push(g),p.length===0)return[];var m=p[0]*l[0]+e,x=p[0]*l[1]+r;if(p.length>1){if(p[0]==p[1])return[m,x];var E=p[1]*l[0]+e,S=p[1]*l[1]+r;return[m,x,E,S]}else return[m,x]},id=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},Xn=function(e,r,n,a,i,o,s,l,u){var c=e-i,f=n-e,d=s-i,h=r-o,v=a-r,y=l-o,w=d*h-y*c,g=f*h-v*c,p=y*f-d*v;if(p!==0){var m=w/p,x=g/p,E=.001,S=0-E,b=1+E;return S<=m&&m<=b&&S<=x&&x<=b?[e+m*f,r+m*v]:u?[e+m*f,r+m*v]:[]}else return w===0||g===0?id(e,n,s)===s?[s,l]:id(e,n,i)===i?[i,o]:id(i,s,n)===n?[n,a]:[]:[]},QI=function(e,r,n,a,i){var o=[],s=a/2,l=i/2,u=r,c=n;o.push({x:u+s*e[0],y:c+l*e[1]});for(var f=1;f<e.length/2;f++)o.push({x:u+s*e[f*2],y:c+l*e[f*2+1]});return o},Os=function(e,r,n,a,i,o,s,l){var u=[],c,f=new Array(n.length),d=!0;o==null&&(d=!1);var h;if(d){for(var v=0;v<f.length/2;v++)f[v*2]=n[v*2]*o+a,f[v*2+1]=n[v*2+1]*s+i;if(l>0){var y=rc(f,-l);h=tc(y)}else h=f}else h=n;for(var w,g,p,m,x=0;x<h.length/2;x++)w=h[x*2],g=h[x*2+1],x<h.length/2-1?(p=h[(x+1)*2],m=h[(x+1)*2+1]):(p=h[0],m=h[1]),c=Xn(e,r,a,i,w,g,p,m),c.length!==0&&u.push(c[0],c[1]);return u},JI=function(e,r,n,a,i,o,s,l,u){var c=[],f,d=new Array(n.length*2);u.forEach(function(p,m){m===0?(d[d.length-2]=p.startX,d[d.length-1]=p.startY):(d[m*4-2]=p.startX,d[m*4-1]=p.startY),d[m*4]=p.stopX,d[m*4+1]=p.stopY,f=$o(e,r,a,i,p.cx,p.cy,p.radius),f.length!==0&&c.push(f[0],f[1])});for(var h=0;h<d.length/4;h++)f=Xn(e,r,a,i,d[h*4],d[h*4+1],d[h*4+2],d[h*4+3],!1),f.length!==0&&c.push(f[0],f[1]);if(c.length>2){for(var v=[c[0],c[1]],y=Math.pow(v[0]-e,2)+Math.pow(v[1]-r,2),w=1;w<c.length/2;w++){var g=Math.pow(c[w*2]-e,2)+Math.pow(c[w*2+1]-r,2);g<=y&&(v[0]=c[w*2],v[1]=c[w*2+1],y=g)}return v}return c},Bl=function(e,r,n){var a=[e[0]-r[0],e[1]-r[1]],i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=(i-n)/i;return o<0&&(o=1e-5),[r[0]+o*a[0],r[1]+o*a[1]]},tr=function(e,r){var n=Cv(e,r);return n=RS(n),n},RS=function(e){for(var r,n,a=e.length/2,i=1/0,o=1/0,s=-1/0,l=-1/0,u=0;u<a;u++)r=e[2*u],n=e[2*u+1],i=Math.min(i,r),s=Math.max(s,r),o=Math.min(o,n),l=Math.max(l,n);for(var c=2/(s-i),f=2/(l-o),d=0;d<a;d++)r=e[2*d]=e[2*d]*c,n=e[2*d+1]=e[2*d+1]*f,i=Math.min(i,r),s=Math.max(s,r),o=Math.min(o,n),l=Math.max(l,n);if(o<-1)for(var h=0;h<a;h++)n=e[2*h+1]=e[2*h+1]+(-1-o);return e},Cv=function(e,r){var n=1/e*2*Math.PI,a=e%2===0?Math.PI/2+n/2:Math.PI/2;a+=r;for(var i=new Array(e*2),o,s=0;s<e;s++)o=s*n+a,i[2*s]=Math.cos(o),i[2*s+1]=Math.sin(-o);return i},va=function(e,r){return Math.min(e/4,r/4,8)},IS=function(e,r){return Math.min(e/10,r/10,8)},mg=function(){return 8},eN=function(e,r,n){return[e-2*r+n,2*(r-e),e]},Tv=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function od(t,e){function r(f){for(var d=[],h=0;h<f.length;h++){var v=f[h],y=f[(h+1)%f.length],w={x:y.x-v.x,y:y.y-v.y},g={x:-w.y,y:w.x},p=Math.sqrt(g.x*g.x+g.y*g.y);d.push({x:g.x/p,y:g.y/p})}return d}function n(f,d){var h=1/0,v=-1/0,y=pr(f),w;try{for(y.s();!(w=y.n()).done;){var g=w.value,p=g.x*d.x+g.y*d.y;h=Math.min(h,p),v=Math.max(v,p)}}catch(m){y.e(m)}finally{y.f()}return{min:h,max:v}}function a(f,d){return!(f.max<d.min||d.max<f.min)}var i=[].concat(Zu(r(t)),Zu(r(e))),o=pr(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=n(t,l),c=n(e,l);if(!a(u,c))return!1}}catch(f){o.e(f)}finally{o.f()}return!0}var tN=Ht({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),rN={pageRank:function(e){for(var r=tN(e),n=r.dampingFactor,a=r.precision,i=r.iterations,o=r.weight,s=this._private.cy,l=this.byGroup(),u=l.nodes,c=l.edges,f=u.length,d=f*f,h=c.length,v=new Array(d),y=new Array(f),w=(1-n)/f,g=0;g<f;g++){for(var p=0;p<f;p++){var m=g*f+p;v[m]=0}y[g]=0}for(var x=0;x<h;x++){var E=c[x],S=E.data("source"),b=E.data("target");if(S!==b){var C=u.indexOfId(S),T=u.indexOfId(b),P=o(E),k=T*f+C;v[k]+=P,y[C]+=P}}for(var D=1/f+w,M=0;M<f;M++)if(y[M]===0)for(var I=0;I<f;I++){var B=I*f+M;v[B]=D}else for(var L=0;L<f;L++){var N=L*f+M;v[N]=v[N]/y[M]+w}for(var R=new Array(f),F=new Array(f),z,O=0;O<f;O++)R[O]=1;for(var V=0;V<i;V++){for(var W=0;W<f;W++)F[W]=0;for(var Y=0;Y<f;Y++)for(var $=0;$<f;$++){var X=Y*f+$;F[Y]+=v[X]*R[$]}OI(F),z=R,R=F,F=z;for(var te=0,se=0;se<f;se++){var ee=z[se]-R[se];te+=ee*ee}if(te<a)break}var _={rank:function(G){return G=s.collection(G)[0],R[u.indexOf(G)]}};return _}},b0=Ht({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Zi={degreeCentralityNormalized:function(e){e=b0(e);var r=this.cy(),n=this.nodes(),a=n.length;if(e.directed){for(var c={},f={},d=0,h=0,v=0;v<a;v++){var y=n[v],w=y.id();e.root=y;var g=this.degreeCentrality(e);d<g.indegree&&(d=g.indegree),h<g.outdegree&&(h=g.outdegree),c[w]=g.indegree,f[w]=g.outdegree}return{indegree:function(m){return d==0?0:(we(m)&&(m=r.filter(m)),c[m.id()]/d)},outdegree:function(m){return h===0?0:(we(m)&&(m=r.filter(m)),f[m.id()]/h)}}}else{for(var i={},o=0,s=0;s<a;s++){var l=n[s];e.root=l;var u=this.degreeCentrality(e);o<u.degree&&(o=u.degree),i[l.id()]=u.degree}return{degree:function(m){return o===0?0:(we(m)&&(m=r.filter(m)),i[m.id()]/o)}}}},degreeCentrality:function(e){e=b0(e);var r=this.cy(),n=this,a=e,i=a.root,o=a.weight,s=a.directed,l=a.alpha;if(i=r.collection(i)[0],s){for(var h=i.connectedEdges(),v=h.filter(function(S){return S.target().same(i)&&n.has(S)}),y=h.filter(function(S){return S.source().same(i)&&n.has(S)}),w=v.length,g=y.length,p=0,m=0,x=0;x<v.length;x++)p+=o(v[x]);for(var E=0;E<y.length;E++)m+=o(y[E]);return{indegree:Math.pow(w,1-l)*Math.pow(p,l),outdegree:Math.pow(g,1-l)*Math.pow(m,l)}}else{for(var u=i.connectedEdges().intersection(n),c=u.length,f=0,d=0;d<u.length;d++)f+=o(u[d]);return{degree:Math.pow(c,1-l)*Math.pow(f,l)}}}};Zi.dc=Zi.degreeCentrality;Zi.dcn=Zi.degreeCentralityNormalised=Zi.degreeCentralityNormalized;var E0=Ht({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Qi={closenessCentralityNormalized:function(e){for(var r=E0(e),n=r.harmonic,a=r.weight,i=r.directed,o=this.cy(),s={},l=0,u=this.nodes(),c=this.floydWarshall({weight:a,directed:i}),f=0;f<u.length;f++){for(var d=0,h=u[f],v=0;v<u.length;v++)if(f!==v){var y=c.distance(h,u[v]);n?d+=1/y:d+=y}n||(d=1/d),l<d&&(l=d),s[h.id()]=d}return{closeness:function(g){return l==0?0:(we(g)?g=o.filter(g)[0].id():g=g.id(),s[g]/l)}}},closenessCentrality:function(e){var r=E0(e),n=r.root,a=r.weight,i=r.directed,o=r.harmonic;n=this.filter(n)[0];for(var s=this.dijkstra({root:n,weight:a,directed:i}),l=0,u=this.nodes(),c=0;c<u.length;c++){var f=u[c];if(!f.same(n)){var d=s.distanceTo(f);o?l+=1/d:l+=d}}return o?l:1/l}};Qi.cc=Qi.closenessCentrality;Qi.ccn=Qi.closenessCentralityNormalised=Qi.closenessCentralityNormalized;var nN=Ht({weight:null,directed:!1}),Pv={betweennessCentrality:function(e){for(var r=nN(e),n=r.directed,a=r.weight,i=a!=null,o=this.cy(),s=this.nodes(),l={},u={},c=0,f={set:function(m,x){u[m]=x,x>c&&(c=x)},get:function(m){return u[m]}},d=0;d<s.length;d++){var h=s[d],v=h.id();n?l[v]=h.outgoers().nodes():l[v]=h.openNeighborhood().nodes(),f.set(v,0)}for(var y=function(){for(var m=s[w].id(),x=[],E={},S={},b={},C=new nl(function(Y,$){return b[Y]-b[$]}),T=0;T<s.length;T++){var P=s[T].id();E[P]=[],S[P]=0,b[P]=1/0}for(S[m]=1,b[m]=0,C.push(m);!C.empty();){var k=C.pop();if(x.push(k),i)for(var D=0;D<l[k].length;D++){var M=l[k][D],I=o.getElementById(k),B=void 0;I.edgesTo(M).length>0?B=I.edgesTo(M)[0]:B=M.edgesTo(I)[0];var L=a(B);M=M.id(),b[M]>b[k]+L&&(b[M]=b[k]+L,C.nodes.indexOf(M)<0?C.push(M):C.updateItem(M),S[M]=0,E[M]=[]),b[M]==b[k]+L&&(S[M]=S[M]+S[k],E[M].push(k))}else for(var N=0;N<l[k].length;N++){var R=l[k][N].id();b[R]==1/0&&(C.push(R),b[R]=b[k]+1),b[R]==b[k]+1&&(S[R]=S[R]+S[k],E[R].push(k))}}for(var F={},z=0;z<s.length;z++)F[s[z].id()]=0;for(;x.length>0;){for(var O=x.pop(),V=0;V<E[O].length;V++){var W=E[O][V];F[W]=F[W]+S[W]/S[O]*(1+F[O])}O!=s[w].id()&&f.set(O,f.get(O)+F[O])}},w=0;w<s.length;w++)y();var g={betweenness:function(m){var x=o.collection(m).id();return f.get(x)},betweennessNormalized:function(m){if(c==0)return 0;var x=o.collection(m).id();return f.get(x)/c}};return g.betweennessNormalised=g.betweennessNormalized,g}};Pv.bc=Pv.betweennessCentrality;var aN=Ht({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),iN=function(e){return aN(e)},oN=function(e,r){for(var n=0,a=0;a<r.length;a++)n+=r[a](e);return n},sN=function(e,r,n){for(var a=0;a<r;a++)e[a*r+a]=n},NS=function(e,r){for(var n,a=0;a<r;a++){n=0;for(var i=0;i<r;i++)n+=e[i*r+a];for(var o=0;o<r;o++)e[o*r+a]=e[o*r+a]/n}},lN=function(e,r,n){for(var a=new Array(n*n),i=0;i<n;i++){for(var o=0;o<n;o++)a[i*n+o]=0;for(var s=0;s<n;s++)for(var l=0;l<n;l++)a[i*n+l]+=e[i*n+s]*r[s*n+l]}return a},uN=function(e,r,n){for(var a=e.slice(0),i=1;i<n;i++)e=lN(e,a,r);return e},cN=function(e,r,n){for(var a=new Array(r*r),i=0;i<r*r;i++)a[i]=Math.pow(e[i],n);return NS(a,r),a},fN=function(e,r,n,a){for(var i=0;i<n;i++){var o=Math.round(e[i]*Math.pow(10,a))/Math.pow(10,a),s=Math.round(r[i]*Math.pow(10,a))/Math.pow(10,a);if(o!==s)return!1}return!0},dN=function(e,r,n,a){for(var i=[],o=0;o<r;o++){for(var s=[],l=0;l<r;l++)Math.round(e[o*r+l]*1e3)/1e3>0&&s.push(n[l]);s.length!==0&&i.push(a.collection(s))}return i},hN=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},vN=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&hN(e[r],e[n])&&e.splice(n,1);return e},S0=function(e){for(var r=this.nodes(),n=this.edges(),a=this.cy(),i=iN(e),o={},s=0;s<r.length;s++)o[r[s].id()]=s;for(var l=r.length,u=l*l,c=new Array(u),f,d=0;d<u;d++)c[d]=0;for(var h=0;h<n.length;h++){var v=n[h],y=o[v.source().id()],w=o[v.target().id()],g=oN(v,i.attributes);c[y*l+w]+=g,c[w*l+y]+=g}sN(c,l,i.multFactor),NS(c,l);for(var p=!0,m=0;p&&m<i.maxIterations;)p=!1,f=uN(c,l,i.expandFactor),c=cN(f,l,i.inflateFactor),fN(c,f,u,4)||(p=!0),m++;var x=dN(c,l,r,a);return x=vN(x),x},pN={markovClustering:S0,mcl:S0},gN=function(e){return e},LS=function(e,r){return Math.abs(r-e)},C0=function(e,r,n){return e+LS(r,n)},T0=function(e,r,n){return e+Math.pow(n-r,2)},mN=function(e){return Math.sqrt(e)},yN=function(e,r,n){return Math.max(e,LS(r,n))},Bo=function(e,r,n,a,i){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:gN,s=a,l,u,c=0;c<e;c++)l=r(c),u=n(c),s=i(s,l,u);return o(s)},co={euclidean:function(e,r,n){return e>=2?Bo(e,r,n,0,T0,mN):Bo(e,r,n,0,C0)},squaredEuclidean:function(e,r,n){return Bo(e,r,n,0,T0)},manhattan:function(e,r,n){return Bo(e,r,n,0,C0)},max:function(e,r,n){return Bo(e,r,n,-1/0,yN)}};co["squared-euclidean"]=co.squaredEuclidean;co.squaredeuclidean=co.squaredEuclidean;function Vc(t,e,r,n,a,i){var o;return lt(t)?o=t:o=co[t]||co.euclidean,e===0&&lt(t)?o(a,i):o(e,r,n,a,i)}var wN=Ht({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),yg=function(e){return wN(e)},nc=function(e,r,n,a,i){var o=i!=="kMedoids",s=o?function(f){return n[f]}:function(f){return a[f](n)},l=function(d){return a[d](r)},u=n,c=r;return Vc(e,a.length,s,l,u,c)},sd=function(e,r,n){for(var a=n.length,i=new Array(a),o=new Array(a),s=new Array(r),l=null,u=0;u<a;u++)i[u]=e.min(n[u]).value,o[u]=e.max(n[u]).value;for(var c=0;c<r;c++){l=[];for(var f=0;f<a;f++)l[f]=Math.random()*(o[f]-i[f])+i[f];s[c]=l}return s},BS=function(e,r,n,a,i){for(var o=1/0,s=0,l=0;l<r.length;l++){var u=nc(n,e,r[l],a,i);u<o&&(o=u,s=l)}return s},OS=function(e,r,n){for(var a=[],i=null,o=0;o<r.length;o++)i=r[o],n[i.id()]===e&&a.push(i);return a},xN=function(e,r,n){return Math.abs(r-e)<=n},bN=function(e,r,n){for(var a=0;a<e.length;a++)for(var i=0;i<e[a].length;i++){var o=Math.abs(e[a][i]-r[a][i]);if(o>n)return!1}return!0},EN=function(e,r,n){for(var a=0;a<n;a++)if(e===r[a])return!0;return!1},P0=function(e,r){var n=new Array(r);if(e.length<50)for(var a=0;a<r;a++){for(var i=e[Math.floor(Math.random()*e.length)];EN(i,n,a);)i=e[Math.floor(Math.random()*e.length)];n[a]=i}else for(var o=0;o<r;o++)n[o]=e[Math.floor(Math.random()*e.length)];return n},k0=function(e,r,n){for(var a=0,i=0;i<r.length;i++)a+=nc("manhattan",r[i],e,n,"kMedoids");return a},SN=function(e){var r=this.cy(),n=this.nodes(),a=null,i=yg(e),o=new Array(i.k),s={},l;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,l=sd(n,i.k,i.attributes)):kt(i.testCentroids)==="object"?l=i.testCentroids:l=sd(n,i.k,i.attributes):l=sd(n,i.k,i.attributes);for(var u=!0,c=0;u&&c<i.maxIterations;){for(var f=0;f<n.length;f++)a=n[f],s[a.id()]=BS(a,l,i.distance,i.attributes,"kMeans");u=!1;for(var d=0;d<i.k;d++){var h=OS(d,n,s);if(h.length!==0){for(var v=i.attributes.length,y=l[d],w=new Array(v),g=new Array(v),p=0;p<v;p++){g[p]=0;for(var m=0;m<h.length;m++)a=h[m],g[p]+=i.attributes[p](a);w[p]=g[p]/h.length,xN(w[p],y[p],i.sensitivityThreshold)||(u=!0)}l[d]=w,o[d]=r.collection(h)}}c++}return o},CN=function(e){var r=this.cy(),n=this.nodes(),a=null,i=yg(e),o=new Array(i.k),s,l={},u,c=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(kt(i.testCentroids)==="object"?s=i.testCentroids:s=P0(n,i.k)):s=P0(n,i.k);for(var f=!0,d=0;f&&d<i.maxIterations;){for(var h=0;h<n.length;h++)a=n[h],l[a.id()]=BS(a,s,i.distance,i.attributes,"kMedoids");f=!1;for(var v=0;v<s.length;v++){var y=OS(v,n,l);if(y.length!==0){c[v]=k0(s[v],y,i.attributes);for(var w=0;w<y.length;w++)u=k0(y[w],y,i.attributes),u<c[v]&&(c[v]=u,s[v]=y[w],f=!0);o[v]=r.collection(y)}}d++}return o},TN=function(e,r,n,a,i){for(var o,s,l=0;l<r.length;l++)for(var u=0;u<e.length;u++)a[l][u]=Math.pow(n[l][u],i.m);for(var c=0;c<e.length;c++)for(var f=0;f<i.attributes.length;f++){o=0,s=0;for(var d=0;d<r.length;d++)o+=a[d][c]*i.attributes[f](r[d]),s+=a[d][c];e[c][f]=o/s}},PN=function(e,r,n,a,i){for(var o=0;o<e.length;o++)r[o]=e[o].slice();for(var s,l,u,c=2/(i.m-1),f=0;f<n.length;f++)for(var d=0;d<a.length;d++){s=0;for(var h=0;h<n.length;h++)l=nc(i.distance,a[d],n[f],i.attributes,"cmeans"),u=nc(i.distance,a[d],n[h],i.attributes,"cmeans"),s+=Math.pow(l/u,c);e[d][f]=1/s}},kN=function(e,r,n,a){for(var i=new Array(n.k),o=0;o<i.length;o++)i[o]=[];for(var s,l,u=0;u<r.length;u++){s=-1/0,l=-1;for(var c=0;c<r[0].length;c++)r[u][c]>s&&(s=r[u][c],l=c);i[l].push(e[u])}for(var f=0;f<i.length;f++)i[f]=a.collection(i[f]);return i},A0=function(e){var r=this.cy(),n=this.nodes(),a=yg(e),i,o,s,l,u;l=new Array(n.length);for(var c=0;c<n.length;c++)l[c]=new Array(a.k);s=new Array(n.length);for(var f=0;f<n.length;f++)s[f]=new Array(a.k);for(var d=0;d<n.length;d++){for(var h=0,v=0;v<a.k;v++)s[d][v]=Math.random(),h+=s[d][v];for(var y=0;y<a.k;y++)s[d][y]=s[d][y]/h}o=new Array(a.k);for(var w=0;w<a.k;w++)o[w]=new Array(a.attributes.length);u=new Array(n.length);for(var g=0;g<n.length;g++)u[g]=new Array(a.k);for(var p=!0,m=0;p&&m<a.maxIterations;)p=!1,TN(o,n,s,u,a),PN(s,l,o,n,a),bN(s,l,a.sensitivityThreshold)||(p=!0),m++;return i=kN(n,s,a,r),{clusters:i,degreeOfMembership:s}},AN={kMeans:SN,kMedoids:CN,fuzzyCMeans:A0,fcm:A0},DN=Ht({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),MN={single:"min",complete:"max"},RN=function(e){var r=DN(e),n=MN[r.linkage];return n!=null&&(r.linkage=n),r},D0=function(e,r,n,a,i){for(var o=0,s=1/0,l,u=i.attributes,c=function(T,P){return Vc(i.distance,u.length,function(k){return u[k](T)},function(k){return u[k](P)},T,P)},f=0;f<e.length;f++){var d=e[f].key,h=n[d][a[d]];h<s&&(o=d,s=h)}if(i.mode==="threshold"&&s>=i.threshold||i.mode==="dendrogram"&&e.length===1)return!1;var v=r[o],y=r[a[o]],w;i.mode==="dendrogram"?w={left:v,right:y,key:v.key}:w={value:v.value.concat(y.value),key:v.key},e[v.index]=w,e.splice(y.index,1),r[v.key]=w;for(var g=0;g<e.length;g++){var p=e[g];v.key===p.key?l=1/0:i.linkage==="min"?(l=n[v.key][p.key],n[v.key][p.key]>n[y.key][p.key]&&(l=n[y.key][p.key])):i.linkage==="max"?(l=n[v.key][p.key],n[v.key][p.key]<n[y.key][p.key]&&(l=n[y.key][p.key])):i.linkage==="mean"?l=(n[v.key][p.key]*v.size+n[y.key][p.key]*y.size)/(v.size+y.size):i.mode==="dendrogram"?l=c(p.value,v.value):l=c(p.value[0],v.value[0]),n[v.key][p.key]=n[p.key][v.key]=l}for(var m=0;m<e.length;m++){var x=e[m].key;if(a[x]===v.key||a[x]===y.key){for(var E=x,S=0;S<e.length;S++){var b=e[S].key;n[x][b]<n[x][E]&&(E=b)}a[x]=E}e[m].index=m}return v.key=y.key=v.index=y.index=null,!0},Hi=function(e,r,n){e&&(e.value?r.push(e.value):(e.left&&Hi(e.left,r),e.right&&Hi(e.right,r)))},kv=function(e,r){if(!e)return"";if(e.left&&e.right){var n=kv(e.left,r),a=kv(e.right,r),i=r.add({group:"nodes",data:{id:n+","+a}});return r.add({group:"edges",data:{source:n,target:i.id()}}),r.add({group:"edges",data:{source:a,target:i.id()}}),i.id()}else if(e.value)return e.value.id()},Av=function(e,r,n){if(!e)return[];var a=[],i=[],o=[];return r===0?(e.left&&Hi(e.left,a),e.right&&Hi(e.right,i),o=a.concat(i),[n.collection(o)]):r===1?e.value?[n.collection(e.value)]:(e.left&&Hi(e.left,a),e.right&&Hi(e.right,i),[n.collection(a),n.collection(i)]):e.value?[n.collection(e.value)]:(e.left&&(a=Av(e.left,r-1,n)),e.right&&(i=Av(e.right,r-1,n)),a.concat(i))},M0=function(e){for(var r=this.cy(),n=this.nodes(),a=RN(e),i=a.attributes,o=function(m,x){return Vc(a.distance,i.length,function(E){return i[E](m)},function(E){return i[E](x)},m,x)},s=[],l=[],u=[],c=[],f=0;f<n.length;f++){var d={value:a.mode==="dendrogram"?n[f]:[n[f]],key:f,index:f};s[f]=d,c[f]=d,l[f]=[],u[f]=0}for(var h=0;h<s.length;h++)for(var v=0;v<=h;v++){var y=void 0;a.mode==="dendrogram"?y=h===v?1/0:o(s[h].value,s[v].value):y=h===v?1/0:o(s[h].value[0],s[v].value[0]),l[h][v]=y,l[v][h]=y,y<l[h][u[h]]&&(u[h]=v)}for(var w=D0(s,c,l,u,a);w;)w=D0(s,c,l,u,a);var g;return a.mode==="dendrogram"?(g=Av(s[0],a.dendrogramDepth,r),a.addDendrogram&&kv(s[0],r)):(g=new Array(s.length),s.forEach(function(p,m){p.key=p.index=null,g[m]=r.collection(p.value)})),g},IN={hierarchicalClustering:M0,hca:M0},NN=Ht({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),LN=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||at("Damping must range on [0.5, 1).  Got: ".concat(r));var a=["median","mean","min","max"];return a.some(function(i){return i===n})||oe(n)||at("Preference must be one of [".concat(a.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(n)),NN(e)},BN=function(e,r,n,a){var i=function(s,l){return a[l](s)};return-Vc(e,a.length,function(o){return i(r,o)},function(o){return i(n,o)},r,n)},ON=function(e,r){var n=null;return r==="median"?n=LI(e):r==="mean"?n=NI(e):r==="min"?n=RI(e):r==="max"?n=II(e):n=r,n},FN=function(e,r,n){for(var a=[],i=0;i<e;i++)r[i*e+i]+n[i*e+i]>0&&a.push(i);return a},R0=function(e,r,n){for(var a=[],i=0;i<e;i++){for(var o=-1,s=-1/0,l=0;l<n.length;l++){var u=n[l];r[i*e+u]>s&&(o=u,s=r[i*e+u])}o>0&&a.push(o)}for(var c=0;c<n.length;c++)a[n[c]]=n[c];return a},zN=function(e,r,n){for(var a=R0(e,r,n),i=0;i<n.length;i++){for(var o=[],s=0;s<a.length;s++)a[s]===n[i]&&o.push(s);for(var l=-1,u=-1/0,c=0;c<o.length;c++){for(var f=0,d=0;d<o.length;d++)f+=r[o[d]*e+o[c]];f>u&&(l=c,u=f)}n[i]=o[l]}return a=R0(e,r,n),a},I0=function(e){for(var r=this.cy(),n=this.nodes(),a=LN(e),i={},o=0;o<n.length;o++)i[n[o].id()]=o;var s,l,u,c,f,d;s=n.length,l=s*s,u=new Array(l);for(var h=0;h<l;h++)u[h]=-1/0;for(var v=0;v<s;v++)for(var y=0;y<s;y++)v!==y&&(u[v*s+y]=BN(a.distance,n[v],n[y],a.attributes));c=ON(u,a.preference);for(var w=0;w<s;w++)u[w*s+w]=c;f=new Array(l);for(var g=0;g<l;g++)f[g]=0;d=new Array(l);for(var p=0;p<l;p++)d[p]=0;for(var m=new Array(s),x=new Array(s),E=new Array(s),S=0;S<s;S++)m[S]=0,x[S]=0,E[S]=0;for(var b=new Array(s*a.minIterations),C=0;C<b.length;C++)b[C]=0;var T;for(T=0;T<a.maxIterations;T++){for(var P=0;P<s;P++){for(var k=-1/0,D=-1/0,M=-1,I=0,B=0;B<s;B++)m[B]=f[P*s+B],I=d[P*s+B]+u[P*s+B],I>=k?(D=k,k=I,M=B):I>D&&(D=I);for(var L=0;L<s;L++)f[P*s+L]=(1-a.damping)*(u[P*s+L]-k)+a.damping*m[L];f[P*s+M]=(1-a.damping)*(u[P*s+M]-D)+a.damping*m[M]}for(var N=0;N<s;N++){for(var R=0,F=0;F<s;F++)m[F]=d[F*s+N],x[F]=Math.max(0,f[F*s+N]),R+=x[F];R-=x[N],x[N]=f[N*s+N],R+=x[N];for(var z=0;z<s;z++)d[z*s+N]=(1-a.damping)*Math.min(0,R-x[z])+a.damping*m[z];d[N*s+N]=(1-a.damping)*(R-x[N])+a.damping*m[N]}for(var O=0,V=0;V<s;V++){var W=d[V*s+V]+f[V*s+V]>0?1:0;b[T%a.minIterations*s+V]=W,O+=W}if(O>0&&(T>=a.minIterations-1||T==a.maxIterations-1)){for(var Y=0,$=0;$<s;$++){E[$]=0;for(var X=0;X<a.minIterations;X++)E[$]+=b[X*s+$];(E[$]===0||E[$]===a.minIterations)&&Y++}if(Y===s)break}}for(var te=FN(s,f,d),se=zN(s,u,te),ee={},_=0;_<te.length;_++)ee[te[_]]=[];for(var U=0;U<n.length;U++){var G=i[n[U].id()],Q=se[G];Q!=null&&ee[Q].push(n[U])}for(var ie=new Array(te.length),ge=0;ge<te.length;ge++)ie[ge]=r.collection(ee[te[ge]]);return ie},VN={affinityPropagation:I0,ap:I0},_N=Ht({root:void 0,directed:!1}),UN={hierholzer:function(e){if(!_e(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=_N(e),a=n.root,i=n.directed,o=this,s=!1,l,u,c;a&&(c=we(a)?this.filter(a)[0].id():a[0].id());var f={},d={};i?o.forEach(function(p){var m=p.id();if(p.isNode()){var x=p.indegree(!0),E=p.outdegree(!0),S=x-E,b=E-x;S==1?l?s=!0:l=m:b==1?u?s=!0:u=m:(b>1||S>1)&&(s=!0),f[m]=[],p.outgoers().forEach(function(C){C.isEdge()&&f[m].push(C.id())})}else d[m]=[void 0,p.target().id()]}):o.forEach(function(p){var m=p.id();if(p.isNode()){var x=p.degree(!0);x%2&&(l?u?s=!0:u=m:l=m),f[m]=[],p.connectedEdges().forEach(function(E){return f[m].push(E.id())})}else d[m]=[p.source().id(),p.target().id()]});var h={found:!1,trail:void 0};if(s)return h;if(u&&l)if(i){if(c&&u!=c)return h;c=u}else{if(c&&u!=c&&l!=c)return h;c||(c=u)}else c||(c=o[0].id());var v=function(m){for(var x=m,E=[m],S,b,C;f[x].length;)S=f[x].shift(),b=d[S][0],C=d[S][1],x!=C?(f[C]=f[C].filter(function(T){return T!=S}),x=C):!i&&x!=b&&(f[b]=f[b].filter(function(T){return T!=S}),x=b),E.unshift(S),E.unshift(x);return E},y=[],w=[];for(w=v(c);w.length!=1;)f[w[0]].length==0?(y.unshift(o.getElementById(w.shift())),y.unshift(o.getElementById(w.shift()))):w=v(w.shift()).concat(w);y.unshift(o.getElementById(w.shift()));for(var g in f)if(f[g].length)return h;return h.found=!0,h.trail=this.spawn(y,!0),h}},Ol=function(){var e=this,r={},n=0,a=0,i=[],o=[],s={},l=function(d,h){for(var v=o.length-1,y=[],w=e.spawn();o[v].x!=d||o[v].y!=h;)y.push(o.pop().edge),v--;y.push(o.pop().edge),y.forEach(function(g){var p=g.connectedNodes().intersection(e);w.merge(g),p.forEach(function(m){var x=m.id(),E=m.connectedEdges().intersection(e);w.merge(m),r[x].cutVertex?w.merge(E.filter(function(S){return S.isLoop()})):w.merge(E)})}),i.push(w)},u=function(d,h,v){d===v&&(a+=1),r[h]={id:n,low:n++,cutVertex:!1};var y=e.getElementById(h).connectedEdges().intersection(e);if(y.size()===0)i.push(e.spawn(e.getElementById(h)));else{var w,g,p,m;y.forEach(function(x){w=x.source().id(),g=x.target().id(),p=w===h?g:w,p!==v&&(m=x.id(),s[m]||(s[m]=!0,o.push({x:h,y:p,edge:x})),p in r?r[h].low=Math.min(r[h].low,r[p].id):(u(d,p,h),r[h].low=Math.min(r[h].low,r[p].low),r[h].id<=r[p].low&&(r[h].cutVertex=!0,l(h,p))))})}};e.forEach(function(f){if(f.isNode()){var d=f.id();d in r||(a=0,u(d,d),r[d].cutVertex=a>1)}});var c=Object.keys(r).filter(function(f){return r[f].cutVertex}).map(function(f){return e.getElementById(f)});return{cut:e.spawn(c),components:i}},HN={hopcroftTarjanBiconnected:Ol,htbc:Ol,htb:Ol,hopcroftTarjanBiconnectedComponents:Ol},Fl=function(){var e=this,r={},n=0,a=[],i=[],o=e.spawn(e),s=function(u){i.push(u),r[u]={index:n,low:n++,explored:!1};var c=e.getElementById(u).connectedEdges().intersection(e);if(c.forEach(function(y){var w=y.target().id();w!==u&&(w in r||s(w),r[w].explored||(r[u].low=Math.min(r[u].low,r[w].low)))}),r[u].index===r[u].low){for(var f=e.spawn();;){var d=i.pop();if(f.merge(e.getElementById(d)),r[d].low=r[u].index,r[d].explored=!0,d===u)break}var h=f.edgesWith(f),v=f.merge(h);a.push(v),o=o.difference(v)}};return e.forEach(function(l){if(l.isNode()){var u=l.id();u in r||s(u)}}),{cut:o,components:a}},jN={tarjanStronglyConnected:Fl,tsc:Fl,tscc:Fl,tarjanStronglyConnectedComponents:Fl},FS={};[Ls,wI,xI,EI,CI,PI,DI,rN,Zi,Qi,Pv,pN,AN,IN,VN,UN,HN,jN].forEach(function(t){Se(FS,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var zS=0,VS=1,_S=2,Zr=function(e){if(!(this instanceof Zr))return new Zr(e);this.id="Thenable/1.0.7",this.state=zS,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Zr.prototype={fulfill:function(e){return N0(this,VS,"fulfillValue",e)},reject:function(e){return N0(this,_S,"rejectReason",e)},then:function(e,r){var n=this,a=new Zr;return n.onFulfilled.push(B0(e,a,"fulfill")),n.onRejected.push(B0(r,a,"reject")),US(n),a.proxy}};var N0=function(e,r,n,a){return e.state===zS&&(e.state=r,e[n]=a,US(e)),e},US=function(e){e.state===VS?L0(e,"onFulfilled",e.fulfillValue):e.state===_S&&L0(e,"onRejected",e.rejectReason)},L0=function(e,r,n){if(e[r].length!==0){var a=e[r];e[r]=[];var i=function(){for(var s=0;s<a.length;s++)a[s](n)};typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},B0=function(e,r,n){return function(a){if(typeof e!="function")r[n].call(r,a);else{var i;try{i=e(a)}catch(o){r.reject(o);return}HS(r,i)}}},HS=function(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(kt(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(i){e.reject(i);return}if(typeof n=="function"){var a=!1;try{n.call(r,function(i){a||(a=!0,i===r?e.reject(new TypeError("circular thenable chain")):HS(e,i))},function(i){a||(a=!0,e.reject(i))})}catch(i){a||e.reject(i)}return}e.fulfill(r)};Zr.all=function(t){return new Zr(function(e,r){for(var n=new Array(t.length),a=0,i=function(l,u){n[l]=u,a++,a===t.length&&e(n)},o=0;o<t.length;o++)(function(s){var l=t[s],u=l!=null&&l.then!=null;if(u)l.then(function(f){i(s,f)},function(f){r(f)});else{var c=l;i(s,c)}})(o)})};Zr.resolve=function(t){return new Zr(function(e,r){e(t)})};Zr.reject=function(t){return new Zr(function(e,r){r(t)})};var mo=typeof Promise<"u"?Promise:Zr,Dv=function(e,r,n){var a=lg(e),i=!a,o=this._private=Se({duration:1e3},r,n);if(o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&lt(o.complete)&&o.completes.push(o.complete),i){var s=e.position();o.startPosition=o.startPosition||{x:s.x,y:s.y},o.startStyle=o.startStyle||e.cy().style().getAnimationStartStyle(e,o.style)}if(a){var l=e.pan();o.startPan={x:l.x,y:l.y},o.startZoom=e.zoom()}this.length=1,this[0]=this},ni=Dv.prototype;Se(ni,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),Sr(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(u,c){var f=e[u];f!=null&&(e[u]=e[c],e[c]=f)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var a=0;a<e.style.length;a++){var i=e.style[a],o=i.name,s=e.startStyle[o];e.startStyle[o]=i,e.style[a]=s}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new mo(function(a,i){n.push(function(){a()})})}});ni.complete=ni.completed;ni.run=ni.play;ni.running=ni.playing;var GN={animated:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return!1;var o=a[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var o=0;o<a.length;o++){var s=a[o];s._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this,l=!i,u=!l;if(!s.styleEnabled())return this;var c=s.style();r=Se({},r,n);var f=Object.keys(r).length===0;if(f)return new Dv(o[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(u&&(r.style=c.getPropsList(r.style||r.css),r.css=void 0),u&&r.renderedPosition!=null){var d=r.renderedPosition,h=s.pan(),v=s.zoom();r.position=kS(d,v,h)}if(l&&r.panBy!=null){var y=r.panBy,w=s.pan();r.pan={x:w.x+y.x,y:w.y+y.y}}var g=r.center||r.centre;if(l&&g!=null){var p=s.getCenterPan(g.eles,r.zoom);p!=null&&(r.pan=p)}if(l&&r.fit!=null){var m=r.fit,x=s.getFitViewport(m.eles||m.boundingBox,m.padding);x!=null&&(r.pan=x.pan,r.zoom=x.zoom)}if(l&&_e(r.zoom)){var E=s.getZoomedViewport(r.zoom);E!=null?(E.zoomed&&(r.zoom=E.zoom),E.panned&&(r.pan=E.pan)):r.zoom=null}return new Dv(o[0],r)}},animate:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this;if(!s.styleEnabled())return this;n&&(r=Se({},r,n));for(var l=0;l<o.length;l++){var u=o[l],c=u.animated()&&(r.queue===void 0||r.queue),f=u.animation(r,c?{queue:!0}:void 0);f.play()}return this}},stop:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var l=0;l<o.length;l++){for(var u=o[l],c=u._private,f=c.animation.current,d=0;d<f.length;d++){var h=f[d],v=h._private;n&&(v.duration=0)}r&&(c.animation.queue=[]),n||(c.animation.current=[])}return s.notify("draw"),this}}},ld,O0;function _c(){if(O0)return ld;O0=1;var t=Array.isArray;return ld=t,ld}var ud,F0;function qN(){if(F0)return ud;F0=1;var t=_c(),e=tl(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(t(i))return!1;var s=typeof i;return s=="number"||s=="symbol"||s=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return ud=a,ud}var cd,z0;function WN(){if(z0)return cd;z0=1;var t=yS(),e=el(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(s){if(!e(s))return!1;var l=t(s);return l==n||l==a||l==r||l==i}return cd=o,cd}var fd,V0;function $N(){if(V0)return fd;V0=1;var t=Oc(),e=t["__core-js_shared__"];return fd=e,fd}var dd,_0;function KN(){if(_0)return dd;_0=1;var t=$N(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return dd=r,dd}var hd,U0;function YN(){if(U0)return hd;U0=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return hd=r,hd}var vd,H0;function XN(){if(H0)return vd;H0=1;var t=WN(),e=KN(),r=el(),n=YN(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,u=s.hasOwnProperty,c=RegExp("^"+l.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!r(d)||e(d))return!1;var h=t(d)?c:i;return h.test(n(d))}return vd=f,vd}var pd,j0;function ZN(){if(j0)return pd;j0=1;function t(e,r){return e==null?void 0:e[r]}return pd=t,pd}var gd,G0;function wg(){if(G0)return gd;G0=1;var t=XN(),e=ZN();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return gd=r,gd}var md,q0;function Uc(){if(q0)return md;q0=1;var t=wg(),e=t(Object,"create");return md=e,md}var yd,W0;function QN(){if(W0)return yd;W0=1;var t=Uc();function e(){this.__data__=t?t(null):{},this.size=0}return yd=e,yd}var wd,$0;function JN(){if($0)return wd;$0=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return wd=t,wd}var xd,K0;function eL(){if(K0)return xd;K0=1;var t=Uc(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(t){var s=o[i];return s===e?void 0:s}return n.call(o,i)?o[i]:void 0}return xd=a,xd}var bd,Y0;function tL(){if(Y0)return bd;Y0=1;var t=Uc(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return bd=n,bd}var Ed,X0;function rL(){if(X0)return Ed;X0=1;var t=Uc(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return Ed=r,Ed}var Sd,Z0;function nL(){if(Z0)return Sd;Z0=1;var t=QN(),e=JN(),r=eL(),n=tL(),a=rL();function i(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Sd=i,Sd}var Cd,Q0;function aL(){if(Q0)return Cd;Q0=1;function t(){this.__data__=[],this.size=0}return Cd=t,Cd}var Td,J0;function jS(){if(J0)return Td;J0=1;function t(e,r){return e===r||e!==e&&r!==r}return Td=t,Td}var Pd,e1;function Hc(){if(e1)return Pd;e1=1;var t=jS();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return Pd=e,Pd}var kd,t1;function iL(){if(t1)return kd;t1=1;var t=Hc(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,o=t(i,a);if(o<0)return!1;var s=i.length-1;return o==s?i.pop():r.call(i,o,1),--this.size,!0}return kd=n,kd}var Ad,r1;function oL(){if(r1)return Ad;r1=1;var t=Hc();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return Ad=e,Ad}var Dd,n1;function sL(){if(n1)return Dd;n1=1;var t=Hc();function e(r){return t(this.__data__,r)>-1}return Dd=e,Dd}var Md,a1;function lL(){if(a1)return Md;a1=1;var t=Hc();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return Md=e,Md}var Rd,i1;function uL(){if(i1)return Rd;i1=1;var t=aL(),e=iL(),r=oL(),n=sL(),a=lL();function i(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Rd=i,Rd}var Id,o1;function cL(){if(o1)return Id;o1=1;var t=wg(),e=Oc(),r=t(e,"Map");return Id=r,Id}var Nd,s1;function fL(){if(s1)return Nd;s1=1;var t=nL(),e=uL(),r=cL();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Nd=n,Nd}var Ld,l1;function dL(){if(l1)return Ld;l1=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Ld=t,Ld}var Bd,u1;function jc(){if(u1)return Bd;u1=1;var t=dL();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return Bd=e,Bd}var Od,c1;function hL(){if(c1)return Od;c1=1;var t=jc();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Od=e,Od}var Fd,f1;function vL(){if(f1)return Fd;f1=1;var t=jc();function e(r){return t(this,r).get(r)}return Fd=e,Fd}var zd,d1;function pL(){if(d1)return zd;d1=1;var t=jc();function e(r){return t(this,r).has(r)}return zd=e,zd}var Vd,h1;function gL(){if(h1)return Vd;h1=1;var t=jc();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return Vd=e,Vd}var _d,v1;function mL(){if(v1)return _d;v1=1;var t=fL(),e=hL(),r=vL(),n=pL(),a=gL();function i(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,_d=i,_d}var Ud,p1;function yL(){if(p1)return Ud;p1=1;var t=mL(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var o=arguments,s=a?a.apply(this,o):o[0],l=i.cache;if(l.has(s))return l.get(s);var u=n.apply(this,o);return i.cache=l.set(s,u)||l,u};return i.cache=new(r.Cache||t),i}return r.Cache=t,Ud=r,Ud}var Hd,g1;function wL(){if(g1)return Hd;g1=1;var t=yL(),e=500;function r(n){var a=t(n,function(o){return i.size===e&&i.clear(),o}),i=a.cache;return a}return Hd=r,Hd}var jd,m1;function GS(){if(m1)return jd;m1=1;var t=wL(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(o,s,l,u){i.push(l?u.replace(r,"$1"):s||o)}),i});return jd=n,jd}var Gd,y1;function qS(){if(y1)return Gd;y1=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return Gd=t,Gd}var qd,w1;function xL(){if(w1)return qd;w1=1;var t=cg(),e=qS(),r=_c(),n=tl(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function o(s){if(typeof s=="string")return s;if(r(s))return e(s,o)+"";if(n(s))return i?i.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return qd=o,qd}var Wd,x1;function WS(){if(x1)return Wd;x1=1;var t=xL();function e(r){return r==null?"":t(r)}return Wd=e,Wd}var $d,b1;function $S(){if(b1)return $d;b1=1;var t=_c(),e=qN(),r=GS(),n=WS();function a(i,o){return t(i)?i:e(i,o)?[i]:r(n(i))}return $d=a,$d}var Kd,E1;function xg(){if(E1)return Kd;E1=1;var t=tl();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Kd=e,Kd}var Yd,S1;function bL(){if(S1)return Yd;S1=1;var t=$S(),e=xg();function r(n,a){a=t(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[e(a[i++])];return i&&i==o?n:void 0}return Yd=r,Yd}var Xd,C1;function EL(){if(C1)return Xd;C1=1;var t=bL();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return Xd=e,Xd}var SL=EL(),CL=Js(SL),Zd,T1;function TL(){if(T1)return Zd;T1=1;var t=wg(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Zd=e,Zd}var Qd,P1;function PL(){if(P1)return Qd;P1=1;var t=TL();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return Qd=e,Qd}var Jd,k1;function kL(){if(k1)return Jd;k1=1;var t=PL(),e=jS(),r=Object.prototype,n=r.hasOwnProperty;function a(i,o,s){var l=i[o];(!(n.call(i,o)&&e(l,s))||s===void 0&&!(o in i))&&t(i,o,s)}return Jd=a,Jd}var eh,A1;function AL(){if(A1)return eh;A1=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return eh=r,eh}var th,D1;function DL(){if(D1)return th;D1=1;var t=kL(),e=$S(),r=AL(),n=el(),a=xg();function i(o,s,l,u){if(!n(o))return o;s=e(s,o);for(var c=-1,f=s.length,d=f-1,h=o;h!=null&&++c<f;){var v=a(s[c]),y=l;if(v==="__proto__"||v==="constructor"||v==="prototype")return o;if(c!=d){var w=h[v];y=u?u(w,v,h):void 0,y===void 0&&(y=n(w)?w:r(s[c+1])?[]:{})}t(h,v,y),h=h[v]}return o}return th=i,th}var rh,M1;function ML(){if(M1)return rh;M1=1;var t=DL();function e(r,n,a){return r==null?r:t(r,n,a)}return rh=e,rh}var RL=ML(),IL=Js(RL),nh,R1;function NL(){if(R1)return nh;R1=1;function t(e,r){var n=-1,a=e.length;for(r||(r=Array(a));++n<a;)r[n]=e[n];return r}return nh=t,nh}var ah,I1;function LL(){if(I1)return ah;I1=1;var t=qS(),e=NL(),r=_c(),n=tl(),a=GS(),i=xg(),o=WS();function s(l){return r(l)?t(l,i):n(l)?[l]:e(a(o(l)))}return ah=s,ah}var BL=LL(),OL=Js(BL),FL={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,i){},onSet:function(a){},canSet:function(a){return!0}};return e=Se({},r,e),function(a,i){var o=e,s=this,l=s.length!==void 0,u=l?s:[s],c=l?s[0]:s;if(we(a)){var f=a.indexOf(".")!==-1,d=f&&OL(a);if(o.allowGetting&&i===void 0){var h;return c&&(o.beforeGet(c),d&&c._private[o.field][a]===void 0?h=CL(c._private[o.field],d):h=c._private[o.field][a]),h}else if(o.allowSetting&&i!==void 0){var v=!o.immutableKeys[a];if(v){var y=lS({},a,i);o.beforeSet(s,y);for(var w=0,g=u.length;w<g;w++){var p=u[w];o.canSet(p)&&(d&&c._private[o.field][a]===void 0?IL(p._private[o.field],d,i):p._private[o.field][a]=i)}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&_e(a)){var m=a,x,E,S=Object.keys(m);o.beforeSet(s,m);for(var b=0;b<S.length;b++){x=S[b],E=m[x];var C=!o.immutableKeys[x];if(C)for(var T=0;T<u.length;T++){var P=u[T];o.canSet(P)&&(P._private[o.field][x]=E)}}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&lt(a)){var k=a;s.on(o.bindingEvent,k)}else if(o.allowGetting&&a===void 0){var D;return c&&(o.beforeGet(c),D=c._private[o.field]),D}return s}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Se({},r,e),function(a){var i=e,o=this,s=o.length!==void 0,l=s?o:[o];if(we(a)){for(var u=a.split(/\s+/),c=u.length,f=0;f<c;f++){var d=u[f];if(!da(d)){var h=!i.immutableKeys[d];if(h)for(var v=0,y=l.length;v<y;v++)l[v]._private[i.field][d]=void 0}}i.triggerEvent&&o[i.triggerFnName](i.event)}else if(a===void 0){for(var w=0,g=l.length;w<g;w++)for(var p=l[w]._private[i.field],m=Object.keys(p),x=0;x<m.length;x++){var E=m[x],S=!i.immutableKeys[E];S&&(p[E]=void 0)}i.triggerEvent&&o[i.triggerFnName](i.event)}return o}}},zL={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,a){var i=this,o=Array.prototype.slice.call(arguments,0);return new mo(function(s,l){var u=function(h){i.off.apply(i,f),s(h)},c=o.concat([u]),f=c.concat([]);i.on.apply(i,c)})}}},qe={};[GN,FL,zL].forEach(function(t){Se(qe,t)});var VL={animate:qe.animate(),animation:qe.animation(),animated:qe.animated(),clearQueue:qe.clearQueue(),delay:qe.delay(),delayAnimation:qe.delayAnimation(),stop:qe.stop()},cu={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(v){return n.push(v)}),n}else Ye(e)||(e=(e||"").match(/\S+/g)||[]);for(var a=[],i=new go(e),o=0;o<r.length;o++){for(var s=r[o],l=s._private,u=l.classes,c=!1,f=0;f<e.length;f++){var d=e[f],h=u.has(d);if(!h){c=!0;break}}c||(c=u.size!==e.length),c&&(l.classes=i,a.push(s))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){Ye(e)||(e=e.match(/\S+/g)||[]);for(var n=this,a=r===void 0,i=[],o=0,s=n.length;o<s;o++)for(var l=n[o],u=l._private.classes,c=!1,f=0;f<e.length;f++){var d=e[f],h=u.has(d),v=!1;r||a&&!h?(u.add(d),v=!0):(!r||a&&h)&&(u.delete(d),v=!0),!c&&v&&(i.push(l),c=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};cu.className=cu.classNames=cu.classes;var ze={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Pt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};ze.variable="(?:[\\w-.]|(?:\\\\"+ze.metaChar+"))+";ze.className="(?:[\\w-]|(?:\\\\"+ze.metaChar+"))+";ze.value=ze.string+"|"+ze.number;ze.id=ze.variable;(function(){var t,e,r;for(t=ze.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],ze.comparatorOp+="|@"+e;for(t=ze.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(ze.comparatorOp+="|\\!"+e)})();var Ke=function(){return{checks:[]}},ce={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},Mv=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return FR(t.selector,e.selector)}),_L=function(){for(var t={},e,r=0;r<Mv.length;r++)e=Mv[r],t[e.selector]=e.matches;return t}(),UL=function(e,r){return _L[e](r)},HL="("+Mv.map(function(t){return t.selector}).join("|")+")",pi=function(e){return e.replace(new RegExp("\\\\("+ze.metaChar+")","g"),function(r,n){return n})},zn=function(e,r,n){e[e.length-1]=n},Rv=[{name:"group",query:!0,regex:"("+ze.group+")",populate:function(e,r,n){var a=wt(n,1),i=a[0];r.checks.push({type:ce.GROUP,value:i==="*"?i:i+"s"})}},{name:"state",query:!0,regex:HL,populate:function(e,r,n){var a=wt(n,1),i=a[0];r.checks.push({type:ce.STATE,value:i})}},{name:"id",query:!0,regex:"\\#("+ze.id+")",populate:function(e,r,n){var a=wt(n,1),i=a[0];r.checks.push({type:ce.ID,value:pi(i)})}},{name:"className",query:!0,regex:"\\.("+ze.className+")",populate:function(e,r,n){var a=wt(n,1),i=a[0];r.checks.push({type:ce.CLASS,value:pi(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+ze.variable+")\\s*\\]",populate:function(e,r,n){var a=wt(n,1),i=a[0];r.checks.push({type:ce.DATA_EXIST,field:pi(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+ze.variable+")\\s*("+ze.comparatorOp+")\\s*("+ze.value+")\\s*\\]",populate:function(e,r,n){var a=wt(n,3),i=a[0],o=a[1],s=a[2],l=new RegExp("^"+ze.string+"$").exec(s)!=null;l?s=s.substring(1,s.length-1):s=parseFloat(s),r.checks.push({type:ce.DATA_COMPARE,field:pi(i),operator:o,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+ze.boolOp+")\\s*("+ze.variable+")\\s*\\]",populate:function(e,r,n){var a=wt(n,2),i=a[0],o=a[1];r.checks.push({type:ce.DATA_BOOL,field:pi(o),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+ze.meta+")\\s*("+ze.comparatorOp+")\\s*("+ze.number+")\\s*\\]\\]",populate:function(e,r,n){var a=wt(n,3),i=a[0],o=a[1],s=a[2];r.checks.push({type:ce.META_COMPARE,field:pi(i),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:ze.separator,populate:function(e,r){var n=e.currentSubject,a=e.edgeCount,i=e.compoundCount,o=e[e.length-1];n!=null&&(o.subject=n,e.currentSubject=null),o.edgeCount=a,o.compoundCount=i,e.edgeCount=0,e.compoundCount=0;var s=e[e.length++]=Ke();return s}},{name:"directedEdge",separator:!0,regex:ze.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=Ke(),a=r,i=Ke();return n.checks.push({type:ce.DIRECTED_EDGE,source:a,target:i}),zn(e,r,n),e.edgeCount++,i}else{var o=Ke(),s=r,l=Ke();return o.checks.push({type:ce.NODE_SOURCE,source:s,target:l}),zn(e,r,o),e.edgeCount++,l}}},{name:"undirectedEdge",separator:!0,regex:ze.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=Ke(),a=r,i=Ke();return n.checks.push({type:ce.UNDIRECTED_EDGE,nodes:[a,i]}),zn(e,r,n),e.edgeCount++,i}else{var o=Ke(),s=r,l=Ke();return o.checks.push({type:ce.NODE_NEIGHBOR,node:s,neighbor:l}),zn(e,r,o),l}}},{name:"child",separator:!0,regex:ze.child,populate:function(e,r){if(e.currentSubject==null){var n=Ke(),a=Ke(),i=e[e.length-1];return n.checks.push({type:ce.CHILD,parent:i,child:a}),zn(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var o=Ke(),s=e[e.length-1],l=Ke(),u=Ke(),c=Ke(),f=Ke();return o.checks.push({type:ce.COMPOUND_SPLIT,left:s,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:ce.TRUE}],f.checks.push({type:ce.TRUE}),l.checks.push({type:ce.PARENT,parent:f,child:c}),zn(e,s,o),e.currentSubject=u,e.compoundCount++,c}else{var d=Ke(),h=Ke(),v=[{type:ce.PARENT,parent:d,child:h}];return d.checks=r.checks,r.checks=v,e.compoundCount++,h}}},{name:"descendant",separator:!0,regex:ze.descendant,populate:function(e,r){if(e.currentSubject==null){var n=Ke(),a=Ke(),i=e[e.length-1];return n.checks.push({type:ce.DESCENDANT,ancestor:i,descendant:a}),zn(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var o=Ke(),s=e[e.length-1],l=Ke(),u=Ke(),c=Ke(),f=Ke();return o.checks.push({type:ce.COMPOUND_SPLIT,left:s,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:ce.TRUE}],f.checks.push({type:ce.TRUE}),l.checks.push({type:ce.ANCESTOR,ancestor:f,descendant:c}),zn(e,s,o),e.currentSubject=u,e.compoundCount++,c}else{var d=Ke(),h=Ke(),v=[{type:ce.ANCESTOR,ancestor:d,descendant:h}];return d.checks=r.checks,r.checks=v,e.compoundCount++,h}}},{name:"subject",modifier:!0,regex:ze.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return We("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],a=n.checks[0],i=a==null?null:a.type;i===ce.DIRECTED_EDGE?a.type=ce.NODE_TARGET:i===ce.UNDIRECTED_EDGE&&(a.type=ce.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];Rv.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var jL=function(e){for(var r,n,a,i=0;i<Rv.length;i++){var o=Rv[i],s=o.name,l=e.match(o.regexObj);if(l!=null){n=l,r=o,a=s;var u=l[0];e=e.substring(u.length);break}}return{expr:r,match:n,name:a,remaining:e}},GL=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},qL=function(e){var r=this,n=r.inputText=e,a=r[0]=Ke();for(r.length=1,n=GL(n);;){var i=jL(n);if(i.expr==null)return We("The selector `"+e+"`is invalid"),!1;var o=i.match.slice(1),s=i.expr.populate(r,a,o);if(s===!1)return!1;if(s!=null&&(a=s),n=i.remaining,n.match(/^\s*$/))break}var l=r[r.length-1];r.currentSubject!=null&&(l.subject=r.currentSubject),l.edgeCount=r.edgeCount,l.compoundCount=r.compoundCount;for(var u=0;u<r.length;u++){var c=r[u];if(c.compoundCount>0&&c.edgeCount>0)return We("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return We("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&We("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},WL=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(c){return c??""},r=function(c){return we(c)?'"'+c+'"':e(c)},n=function(c){return" "+c+" "},a=function(c,f){var d=c.type,h=c.value;switch(d){case ce.GROUP:{var v=e(h);return v.substring(0,v.length-1)}case ce.DATA_COMPARE:{var y=c.field,w=c.operator;return"["+y+n(e(w))+r(h)+"]"}case ce.DATA_BOOL:{var g=c.operator,p=c.field;return"["+e(g)+p+"]"}case ce.DATA_EXIST:{var m=c.field;return"["+m+"]"}case ce.META_COMPARE:{var x=c.operator,E=c.field;return"[["+E+n(e(x))+r(h)+"]]"}case ce.STATE:return h;case ce.ID:return"#"+h;case ce.CLASS:return"."+h;case ce.PARENT:case ce.CHILD:return i(c.parent,f)+n(">")+i(c.child,f);case ce.ANCESTOR:case ce.DESCENDANT:return i(c.ancestor,f)+" "+i(c.descendant,f);case ce.COMPOUND_SPLIT:{var S=i(c.left,f),b=i(c.subject,f),C=i(c.right,f);return S+(S.length>0?" ":"")+b+C}case ce.TRUE:return""}},i=function(c,f){return c.checks.reduce(function(d,h,v){return d+(f===c&&v===0?"$":"")+a(h,f)},"")},o="",s=0;s<this.length;s++){var l=this[s];o+=i(l,l.subject),this.length>1&&s<this.length-1&&(o+=", ")}return this.toStringCache=o,o},$L={parse:qL,toString:WL},KS=function(e,r,n){var a,i=we(e),o=oe(e),s=we(n),l,u,c=!1,f=!1,d=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),f=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),c=!0),(i||s||c)&&(l=!i&&!o?"":""+e,u=""+n),c&&(e=l=l.toLowerCase(),n=u=u.toLowerCase()),r){case"*=":a=l.indexOf(u)>=0;break;case"$=":a=l.indexOf(u,l.length-u.length)>=0;break;case"^=":a=l.indexOf(u)===0;break;case"=":a=e===n;break;case">":d=!0,a=e>n;break;case">=":d=!0,a=e>=n;break;case"<":d=!0,a=e<n;break;case"<=":d=!0,a=e<=n;break;default:a=!1;break}return f&&(e!=null||!d)&&(a=!a),a},KL=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},YL=function(e){return e!==void 0},bg=function(e,r){return e.data(r)},XL=function(e,r){return e[r]()},dt=[],rt=function(e,r){return e.checks.every(function(n){return dt[n.type](n,r)})};dt[ce.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};dt[ce.STATE]=function(t,e){var r=t.value;return UL(r,e)};dt[ce.ID]=function(t,e){var r=t.value;return e.id()===r};dt[ce.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};dt[ce.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return KS(XL(e,r),n,a)};dt[ce.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return KS(bg(e,r),n,a)};dt[ce.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return KL(bg(e,r),n)};dt[ce.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,YL(bg(e,r))};dt[ce.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],a=e.source(),i=e.target();return rt(r,a)&&rt(n,i)||rt(n,a)&&rt(r,i)};dt[ce.NODE_NEIGHBOR]=function(t,e){return rt(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&rt(t.neighbor,r)})};dt[ce.DIRECTED_EDGE]=function(t,e){return rt(t.source,e.source())&&rt(t.target,e.target())};dt[ce.NODE_SOURCE]=function(t,e){return rt(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&rt(t.target,r)})};dt[ce.NODE_TARGET]=function(t,e){return rt(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&rt(t.source,r)})};dt[ce.CHILD]=function(t,e){return rt(t.child,e)&&rt(t.parent,e.parent())};dt[ce.PARENT]=function(t,e){return rt(t.parent,e)&&e.children().some(function(r){return rt(t.child,r)})};dt[ce.DESCENDANT]=function(t,e){return rt(t.descendant,e)&&e.ancestors().some(function(r){return rt(t.ancestor,r)})};dt[ce.ANCESTOR]=function(t,e){return rt(t.ancestor,e)&&e.descendants().some(function(r){return rt(t.descendant,r)})};dt[ce.COMPOUND_SPLIT]=function(t,e){return rt(t.subject,e)&&rt(t.left,e)&&rt(t.right,e)};dt[ce.TRUE]=function(){return!0};dt[ce.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};dt[ce.FILTER]=function(t,e){var r=t.value;return r(e)};var ZL=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===ce.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(i){for(var o=0;o<r.length;o++){var s=r[o];if(rt(s,i))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},QL=function(e){for(var r=this,n=0;n<r.length;n++){var a=r[n];if(rt(a,e))return!0}return!1},JL={matches:QL,filter:ZL},pa=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||we(e)&&e.match(/^\s*$/)||(Sr(e)?this.addQuery({checks:[{type:ce.COLLECTION,value:e.collection()}]}):lt(e)?this.addQuery({checks:[{type:ce.FILTER,value:e}]}):we(e)?this.parse(e)||(this.invalid=!0):at("A selector must be created from a string; found "))},ga=pa.prototype;[$L,JL].forEach(function(t){return Se(ga,t)});ga.text=function(){return this.inputText};ga.size=function(){return this.length};ga.eq=function(t){return this[t]};ga.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};ga.addQuery=function(t){this[this.length++]=t};ga.selector=ga.toString;var oa={allAre:function(e){var r=new pa(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new pa(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(a)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!a)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(a){return e.hasElementWithId(a.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};oa.allAreNeighbours=oa.allAreNeighbors;oa.has=oa.contains;oa.equal=oa.equals=oa.same;var Or=function(e,r){return function(a,i,o,s){var l=a,u=this,c;if(l==null?c="":Sr(l)&&l.length===1&&(c=l.id()),u.length===1&&c){var f=u[0]._private,d=f.traversalCache=f.traversalCache||{},h=d[r]=d[r]||[],v=ti(c),y=h[v];return y||(h[v]=e.call(u,a,i,o,s))}else return e.call(u,a,i,o,s)}},fo={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var i=this[a],o=i._private.parent;o&&r.push(o)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var i=n[a];r.push(i)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var a=this[n],i=a.parents();r=r||i,r=r.intersect(i)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:Or(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],a=n._private.children,i=0;i<a.length;i++)e.push(a[i]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(a){for(var i=0;i<a.length;i++){var o=a[i];r.push(o),o.children().nonempty()&&n(o.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function Eg(t,e,r,n){for(var a=[],i=new go,o=t.cy(),s=o.hasCompoundNodes(),l=0;l<t.length;l++){var u=t[l];r?a.push(u):s&&n(a,i,u)}for(;a.length>0;){var c=a.shift();e(c),i.add(c.id()),s&&n(a,i,c)}return t}function YS(t,e,r){if(r.isParent())for(var n=r._private.children,a=0;a<n.length;a++){var i=n[a];e.has(i.id())||t.push(i)}}fo.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Eg(this,t,e,YS)};function XS(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}fo.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Eg(this,t,e,XS)};function eB(t,e,r){XS(t,e,r),YS(t,e,r)}fo.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Eg(this,t,e,eB)};fo.ancestors=fo.parents;var Fs,ZS;Fs=ZS={data:qe.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:qe.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:qe.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:qe.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:qe.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:qe.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Fs.attr=Fs.data;Fs.removeAttr=Fs.removeData;var tB=ZS,Gc={};function ih(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,a=r[0],i=a._private.edges,o=0;o<i.length;o++){var s=i[o];!e&&s.isLoop()||(n+=t(a,s))}return n}else return}}Se(Gc,{degree:ih(function(t,e){return e.source().same(e.target())?2:1}),indegree:ih(function(t,e){return e.target().same(t)?1:0}),outdegree:ih(function(t,e){return e.source().same(t)?1:0})});function gi(t,e){return function(r){for(var n,a=this.nodes(),i=0;i<a.length;i++){var o=a[i],s=o[t](r);s!==void 0&&(n===void 0||e(s,n))&&(n=s)}return n}}Se(Gc,{minDegree:gi("degree",function(t,e){return t<e}),maxDegree:gi("degree",function(t,e){return t>e}),minIndegree:gi("indegree",function(t,e){return t<e}),maxIndegree:gi("indegree",function(t,e){return t>e}),minOutdegree:gi("outdegree",function(t,e){return t<e}),maxOutdegree:gi("outdegree",function(t,e){return t>e})});Se(Gc,{totalDegree:function(e){for(var r=0,n=this.nodes(),a=0;a<n.length;a++)r+=n[a].degree(e);return r}});var Yr,QS,JS=function(e,r,n){for(var a=0;a<e.length;a++){var i=e[a];if(!i.locked()){var o=i._private.position,s={x:r.x!=null?r.x-o.x:0,y:r.y!=null?r.y-o.y:0};i.isParent()&&!(s.x===0&&s.y===0)&&i.children().shift(s,n),i.dirtyBoundingBoxCache()}}},N1={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){JS(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Yr=QS={position:qe.data(N1),silentPosition:qe.data(Se({},N1,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){JS(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(_e(e))r?this.silentPosition(e):this.position(e);else if(lt(e)){var n=e,a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var o=this[i],s=void 0;(s=n(o,i))&&(r?o.silentPosition(s):o.position(s))}a.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var a;if(_e(e)?(a={x:oe(e.x)?e.x:0,y:oe(e.y)?e.y:0},n=r):we(e)&&oe(r)&&(a={x:0,y:0},a[e]=r),a!=null){var i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var s=this[o];if(!(i.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var l=s.position(),u={x:l.x+a.x,y:l.y+a.y};n?s.silentPosition(u):s.position(u)}}i.endBatch()}return this},silentShift:function(e,r){return _e(e)?this.shift(e,!0):we(e)&&oe(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],a=this.cy(),i=a.zoom(),o=a.pan(),s=_e(e)?e:void 0,l=s!==void 0||r!==void 0&&we(e);if(n&&n.isNode())if(l)for(var u=0;u<this.length;u++){var c=this[u];r!==void 0?c.position(e,(r-o[e])/i):s!==void 0&&c.position(kS(s,i,o))}else{var f=n.position();return s=zc(f,i,o),e===void 0?s:s[e]}else if(!l)return;return this},relativePosition:function(e,r){var n=this[0],a=this.cy(),i=_e(e)?e:void 0,o=i!==void 0||r!==void 0&&we(e),s=a.hasCompoundNodes();if(n&&n.isNode())if(o)for(var l=0;l<this.length;l++){var u=this[l],c=s?u.parent():null,f=c&&c.length>0,d=f;f&&(c=c[0]);var h=d?c.position():{x:0,y:0};r!==void 0?u.position(e,r+h[e]):i!==void 0&&u.position({x:i.x+h.x,y:i.y+h.y})}else{var v=n.position(),y=s?n.parent():null,w=y&&y.length>0,g=w;w&&(y=y[0]);var p=g?y.position():{x:0,y:0};return i={x:v.x-p.x,y:v.y-p.y},e===void 0?i:i[e]}else if(!o)return;return this}};Yr.modelPosition=Yr.point=Yr.position;Yr.modelPositions=Yr.points=Yr.positions;Yr.renderedPoint=Yr.renderedPosition;Yr.relativePoint=Yr.relativePosition;var rB=QS,Ji,Ca;Ji=Ca={};Ca.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),a=r.pan(),i=e.x1*n+a.x,o=e.x2*n+a.x,s=e.y1*n+a.y,l=e.y2*n+a.y;return{x1:i,x2:o,y1:s,y2:l,w:o-i,h:l-s}};Ca.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};Ca.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(o){if(!o.isParent())return;var s=o._private,l=o.children(),u=o.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},f=l.boundingBox({includeLabels:u,includeOverlays:!1,useCache:!1}),d=s.position;(f.w===0||f.h===0)&&(f={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},f.x1=d.x-f.w/2,f.x2=d.x+f.w/2,f.y1=d.y-f.h/2,f.y2=d.y+f.h/2);function h(T,P,k){var D=0,M=0,I=P+k;return T>0&&I>0&&(D=P/I*T,M=k/I*T),{biasDiff:D,biasComplementDiff:M}}function v(T,P,k,D){if(k.units==="%")switch(D){case"width":return T>0?k.pfValue*T:0;case"height":return P>0?k.pfValue*P:0;case"average":return T>0&&P>0?k.pfValue*(T+P)/2:0;case"min":return T>0&&P>0?T>P?k.pfValue*P:k.pfValue*T:0;case"max":return T>0&&P>0?T>P?k.pfValue*T:k.pfValue*P:0;default:return 0}else return k.units==="px"?k.pfValue:0}var y=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(y=y*100/c.width.val);var w=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(w=w*100/c.width.val);var g=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(g=g*100/c.height.val);var p=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(p=p*100/c.height.val);var m=h(c.width.val-f.w,y,w),x=m.biasDiff,E=m.biasComplementDiff,S=h(c.height.val-f.h,g,p),b=S.biasDiff,C=S.biasComplementDiff;s.autoPadding=v(f.w,f.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),s.autoWidth=Math.max(f.w,c.width.val),d.x=(-x+f.x1+f.x2+E)/2,s.autoHeight=Math.max(f.h,c.height.val),d.y=(-b+f.y1+f.y2+C)/2}for(var n=0;n<this.length;n++){var a=this[n],i=a._private;(!i.compoundBoundsClean||t)&&(r(a),e.batching()||(i.compoundBoundsClean=!0))}return this};var Lr=function(e){return e===1/0||e===-1/0?0:e},qr=function(e,r,n,a,i){a-r===0||i-n===0||r==null||n==null||a==null||i==null||(e.x1=r<e.x1?r:e.x1,e.x2=a>e.x2?a:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},jn=function(e,r){return r==null?e:qr(e,r.x1,r.y1,r.x2,r.y2)},Oo=function(e,r,n){return dr(e,r,n)},zl=function(e,r,n){if(!r.cy().headless()){var a=r._private,i=a.rstyle,o=i.arrowWidth/2,s=r.pstyle(n+"-arrow-shape").value,l,u;if(s!=="none"){n==="source"?(l=i.srcX,u=i.srcY):n==="target"?(l=i.tgtX,u=i.tgtY):(l=i.midX,u=i.midY);var c=a.arrowBounds=a.arrowBounds||{},f=c[n]=c[n]||{};f.x1=l-o,f.y1=u-o,f.x2=l+o,f.y2=u+o,f.w=f.x2-f.x1,f.h=f.y2-f.y1,lu(f,1),qr(e,f.x1,f.y1,f.x2,f.y2)}}},oh=function(e,r,n){if(!r.cy().headless()){var a;n?a=n+"-":a="";var i=r._private,o=i.rstyle,s=r.pstyle(a+"label").strValue;if(s){var l=r.pstyle("text-halign"),u=r.pstyle("text-valign"),c=Oo(o,"labelWidth",n),f=Oo(o,"labelHeight",n),d=Oo(o,"labelX",n),h=Oo(o,"labelY",n),v=r.pstyle(a+"text-margin-x").pfValue,y=r.pstyle(a+"text-margin-y").pfValue,w=r.isEdge(),g=r.pstyle(a+"text-rotation"),p=r.pstyle("text-outline-width").pfValue,m=r.pstyle("text-border-width").pfValue,x=m/2,E=r.pstyle("text-background-padding").pfValue,S=2,b=f,C=c,T=C/2,P=b/2,k,D,M,I;if(w)k=d-T,D=d+T,M=h-P,I=h+P;else{switch(l.value){case"left":k=d-C,D=d;break;case"center":k=d-T,D=d+T;break;case"right":k=d,D=d+C;break}switch(u.value){case"top":M=h-b,I=h;break;case"center":M=h-P,I=h+P;break;case"bottom":M=h,I=h+b;break}}var B=v-Math.max(p,x)-E-S,L=v+Math.max(p,x)+E+S,N=y-Math.max(p,x)-E-S,R=y+Math.max(p,x)+E+S;k+=B,D+=L,M+=N,I+=R;var F=n||"main",z=i.labelBounds,O=z[F]=z[F]||{};O.x1=k,O.y1=M,O.x2=D,O.y2=I,O.w=D-k,O.h=I-M,O.leftPad=B,O.rightPad=L,O.topPad=N,O.botPad=R;var V=w&&g.strValue==="autorotate",W=g.pfValue!=null&&g.pfValue!==0;if(V||W){var Y=V?Oo(i.rstyle,"labelAngle",n):g.pfValue,$=Math.cos(Y),X=Math.sin(Y),te=(k+D)/2,se=(M+I)/2;if(!w){switch(l.value){case"left":te=D;break;case"right":te=k;break}switch(u.value){case"top":se=I;break;case"bottom":se=M;break}}var ee=function(Ae,Ce){return Ae=Ae-te,Ce=Ce-se,{x:Ae*$-Ce*X+te,y:Ae*X+Ce*$+se}},_=ee(k,M),U=ee(k,I),G=ee(D,M),Q=ee(D,I);k=Math.min(_.x,U.x,G.x,Q.x),D=Math.max(_.x,U.x,G.x,Q.x),M=Math.min(_.y,U.y,G.y,Q.y),I=Math.max(_.y,U.y,G.y,Q.y)}var ie=F+"Rot",ge=z[ie]=z[ie]||{};ge.x1=k,ge.y1=M,ge.x2=D,ge.y2=I,ge.w=D-k,ge.h=I-M,qr(e,k,M,D,I),qr(i.labelBounds.all,k,M,D,I)}return e}},L1=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,a=r.pstyle("outline-width").value,i=r.pstyle("outline-offset").value,o=a+i;eC(e,r,n,o,"outside",o/2)}},eC=function(e,r,n,a,i,o){if(!(n===0||a<=0||i==="inside")){var s=r.cy(),l=r.pstyle("shape").value,u=s.renderer().nodeShapes[l],c=r.position(),f=c.x,d=c.y,h=r.width(),v=r.height();if(u.hasMiterBounds){i==="center"&&(a/=2);var y=u.miterBounds(f,d,h,v,a);jn(e,y)}else o!=null&&o>0&&uu(e,[o,o,o,o])}},nB=function(e,r){if(!r.cy().headless()){var n=r.pstyle("border-opacity").value,a=r.pstyle("border-width").pfValue,i=r.pstyle("border-position").value;eC(e,r,n,a,i)}},aB=function(e,r){var n=e._private.cy,a=n.styleEnabled(),i=n.headless(),o=ir(),s=e._private,l=e.isNode(),u=e.isEdge(),c,f,d,h,v,y,w=s.rstyle,g=l&&a?e.pstyle("bounds-expansion").pfValue:[0],p=function(Oe){return Oe.pstyle("display").value!=="none"},m=!a||p(e)&&(!u||p(e.source())&&p(e.target()));if(m){var x=0,E=0;a&&r.includeOverlays&&(x=e.pstyle("overlay-opacity").value,x!==0&&(E=e.pstyle("overlay-padding").value));var S=0,b=0;a&&r.includeUnderlays&&(S=e.pstyle("underlay-opacity").value,S!==0&&(b=e.pstyle("underlay-padding").value));var C=Math.max(E,b),T=0,P=0;if(a&&(T=e.pstyle("width").pfValue,P=T/2),l&&r.includeNodes){var k=e.position();v=k.x,y=k.y;var D=e.outerWidth(),M=D/2,I=e.outerHeight(),B=I/2;c=v-M,f=v+M,d=y-B,h=y+B,qr(o,c,d,f,h),a&&L1(o,e),a&&r.includeOutlines&&!i&&L1(o,e),a&&nB(o,e)}else if(u&&r.includeEdges)if(a&&!i){var L=e.pstyle("curve-style").strValue;if(c=Math.min(w.srcX,w.midX,w.tgtX),f=Math.max(w.srcX,w.midX,w.tgtX),d=Math.min(w.srcY,w.midY,w.tgtY),h=Math.max(w.srcY,w.midY,w.tgtY),c-=P,f+=P,d-=P,h+=P,qr(o,c,d,f,h),L==="haystack"){var N=w.haystackPts;if(N&&N.length===2){if(c=N[0].x,d=N[0].y,f=N[1].x,h=N[1].y,c>f){var R=c;c=f,f=R}if(d>h){var F=d;d=h,h=F}qr(o,c-P,d-P,f+P,h+P)}}else if(L==="bezier"||L==="unbundled-bezier"||Kn(L,"segments")||Kn(L,"taxi")){var z;switch(L){case"bezier":case"unbundled-bezier":z=w.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":z=w.linePts;break}if(z!=null)for(var O=0;O<z.length;O++){var V=z[O];c=V.x-P,f=V.x+P,d=V.y-P,h=V.y+P,qr(o,c,d,f,h)}}}else{var W=e.source(),Y=W.position(),$=e.target(),X=$.position();if(c=Y.x,f=X.x,d=Y.y,h=X.y,c>f){var te=c;c=f,f=te}if(d>h){var se=d;d=h,h=se}c-=P,f+=P,d-=P,h+=P,qr(o,c,d,f,h)}if(a&&r.includeEdges&&u&&(zl(o,e,"mid-source"),zl(o,e,"mid-target"),zl(o,e,"source"),zl(o,e,"target")),a){var ee=e.pstyle("ghost").value==="yes";if(ee){var _=e.pstyle("ghost-offset-x").pfValue,U=e.pstyle("ghost-offset-y").pfValue;qr(o,o.x1+_,o.y1+U,o.x2+_,o.y2+U)}}var G=s.bodyBounds=s.bodyBounds||{};w0(G,o),uu(G,g),lu(G,1),a&&(c=o.x1,f=o.x2,d=o.y1,h=o.y2,qr(o,c-C,d-C,f+C,h+C));var Q=s.overlayBounds=s.overlayBounds||{};w0(Q,o),uu(Q,g),lu(Q,1);var ie=s.labelBounds=s.labelBounds||{};ie.all!=null?VI(ie.all):ie.all=ir(),a&&r.includeLabels&&(r.includeMainLabels&&oh(o,e,null),u&&(r.includeSourceLabels&&oh(o,e,"source"),r.includeTargetLabels&&oh(o,e,"target")))}return o.x1=Lr(o.x1),o.y1=Lr(o.y1),o.x2=Lr(o.x2),o.y2=Lr(o.y2),o.w=Lr(o.x2-o.x1),o.h=Lr(o.y2-o.y1),o.w>0&&o.h>0&&m&&(uu(o,g),lu(o,1)),o},tC=function(e){var r=0,n=function(o){return(o?1:0)<<r++},a=0;return a+=n(e.incudeNodes),a+=n(e.includeEdges),a+=n(e.includeLabels),a+=n(e.includeMainLabels),a+=n(e.includeSourceLabels),a+=n(e.includeTargetLabels),a+=n(e.includeOverlays),a+=n(e.includeOutlines),a},rC=function(e){var r=function(s){return Math.round(s)};if(e.isEdge()){var n=e.source().position(),a=e.target().position();return h0([r(n.x),r(n.y),r(a.x),r(a.y)])}else{var i=e.position();return h0([r(i.x),r(i.y)])}},B1=function(e,r){var n=e._private,a,i=e.isEdge(),o=r==null?O1:tC(r),s=o===O1;if(n.bbCache==null?(a=aB(e,zs),n.bbCache=a,n.bbCachePosKey=rC(e)):a=n.bbCache,!s){var l=e.isNode();a=ir(),(r.includeNodes&&l||r.includeEdges&&!l)&&(r.includeOverlays?jn(a,n.overlayBounds):jn(a,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!i||r.includeSourceLabels&&r.includeTargetLabels)?jn(a,n.labelBounds.all):(r.includeMainLabels&&jn(a,n.labelBounds.mainRot),r.includeSourceLabels&&jn(a,n.labelBounds.sourceRot),r.includeTargetLabels&&jn(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},zs={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},O1=tC(zs),F1=Ht(zs);Ca.boundingBox=function(t){var e,r=t===void 0||t.useCache===void 0||t.useCache===!0,n=uo(function(c){var f=c._private;return f.bbCache==null||f.styleDirty||f.bbCachePosKey!==rC(c)},function(c){return c.id()});if(r&&this.length===1&&!n(this[0]))t===void 0?t=zs:t=F1(t),e=B1(this[0],t);else{e=ir(),t=t||zs;var a=F1(t),i=this,o=i.cy(),s=o.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),s&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var l=0;l<i.length;l++){var u=i[l];n(u)&&u.dirtyBoundingBoxCache(),jn(e,B1(u,a))}}return e.x1=Lr(e.x1),e.y1=Lr(e.y1),e.x2=Lr(e.x2),e.y2=Lr(e.y2),e.w=Lr(e.x2-e.x1),e.h=Lr(e.y2-e.y1),e};Ca.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Ca.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),a=r.collection();if(n&&(a=e.filter(function(u){return u.isParent()}),e=e.not(a)),_e(t)){var i=t;t=function(){return i}}var o=function(c,f){return c._private.bbAtOldPos=t(c,f)},s=function(c){return c._private.bbAtOldPos};r.startBatch(),e.forEach(o).silentPositions(t),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var l=zI(this.boundingBox({useCache:!1}));return e.silentPositions(s),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),r.endBatch(),l};Ji.boundingbox=Ji.bb=Ji.boundingBox;Ji.renderedBoundingbox=Ji.renderedBoundingBox;var iB=Ca,Ko,al;Ko=al={};var nC=function(e){e.uppercaseName=Qy(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Qy(e.outerName),Ko[e.name]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){if(n.isParent())return n.updateCompoundBounds(),a[e.autoName]||0;var s=n.pstyle(e.name);switch(s.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[e.labelName]||0;default:return s.pfValue}}else return 1},Ko["outer"+e.uppercaseName]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){var s=n[e.name](),l=n.pstyle("border-position").value,u;l==="center"?u=n.pstyle("border-width").pfValue:l==="outside"?u=2*n.pstyle("border-width").pfValue:u=0;var c=2*n.padding();return s+u+c}else return 1},Ko["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var a=n[e.name]();return a*this.cy().zoom()}},Ko["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[e.outerName]();return a*this.cy().zoom()}}};nC({name:"width"});nC({name:"height"});al.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};al.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};al.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var oB=al,sB=function(e,r){if(e.isEdge()&&e.takesUpSpace())return r(e)},lB=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return zc(r(e),n.zoom(),n.pan())}},uB=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),a=n.pan(),i=n.zoom();return r(e).map(function(o){return zc(o,i,a)})}},cB=function(e){return e.renderer().getControlPoints(e)},fB=function(e){return e.renderer().getSegmentPoints(e)},dB=function(e){return e.renderer().getSourceEndpoint(e)},hB=function(e){return e.renderer().getTargetEndpoint(e)},vB=function(e){return e.renderer().getEdgeMidpoint(e)},z1={controlPoints:{get:cB,mult:!0},segmentPoints:{get:fB,mult:!0},sourceEndpoint:{get:dB},targetEndpoint:{get:hB},midpoint:{get:vB}},pB=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},gB=Object.keys(z1).reduce(function(t,e){var r=z1[e],n=pB(e);return t[e]=function(){return sB(this,r.get)},r.mult?t[n]=function(){return uB(this,r.get)}:t[n]=function(){return lB(this,r.get)},t},{}),mB=Se({},rB,iB,oB,gB);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var aC=function(e,r){this.recycle(e,r)};function Fo(){return!1}function Vl(){return!0}aC.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Fo,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Vl:Fo):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*a+i.x,y:n.y*a+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Vl;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Vl;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Vl,this.stopPropagation()},isDefaultPrevented:Fo,isPropagationStopped:Fo,isImmediatePropagationStopped:Fo};var iC=/^([^.]+)(\.(?:[^.]+))?$/,yB=".*",oC={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},V1=Object.keys(oC),wB={};function qc(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wB,e=arguments.length>1?arguments[1]:void 0,r=0;r<V1.length;r++){var n=V1[r];this[n]=t[n]||oC[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var ma=qc.prototype,sC=function(e,r,n,a,i,o,s){lt(a)&&(i=a,a=null),s&&(o==null?o=s:o=Se({},o,s));for(var l=Ye(n)?n:n.split(/\s+/),u=0;u<l.length;u++){var c=l[u];if(!da(c)){var f=c.match(iC);if(f){var d=f[1],h=f[2]?f[2]:null,v=r(e,c,d,h,a,i,o);if(v===!1)break}}}},_1=function(e,r){return e.addEventFields(e.context,r),new aC(r.type,r)},xB=function(e,r,n){if(PR(n)){r(e,n);return}else if(_e(n)){r(e,_1(e,n));return}for(var a=Ye(n)?n:n.split(/\s+/),i=0;i<a.length;i++){var o=a[i];if(!da(o)){var s=o.match(iC);if(s){var l=s[1],u=s[2]?s[2]:null,c=_1(e,{type:l,namespace:u,target:e.context});r(e,c)}}}};ma.on=ma.addListener=function(t,e,r,n,a){return sC(this,function(i,o,s,l,u,c,f){lt(c)&&i.listeners.push({event:o,callback:c,type:s,namespace:l,qualifier:u,conf:f})},t,e,r,n,a),this};ma.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};ma.removeListener=ma.off=function(t,e,r,n){var a=this;this.emitting!==0&&(this.listeners=lI(this.listeners));for(var i=this.listeners,o=function(u){var c=i[u];sC(a,function(f,d,h,v,y,w){if((c.type===h||t==="*")&&(!v&&c.namespace!==".*"||c.namespace===v)&&(!y||f.qualifierCompare(c.qualifier,y))&&(!w||c.callback===w))return i.splice(u,1),!1},t,e,r,n)},s=i.length-1;s>=0;s--)o(s);return this};ma.removeAllListeners=function(){return this.removeListener("*")};ma.emit=ma.trigger=function(t,e,r){var n=this.listeners,a=n.length;return this.emitting++,Ye(e)||(e=[e]),xB(this,function(i,o){r!=null&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:r}],a=n.length);for(var s=function(){var c=n[l];if(c.type===o.type&&(!c.namespace||c.namespace===o.namespace||c.namespace===yB)&&i.eventMatches(i.context,c,o)){var f=[o];e!=null&&cI(f,e),i.beforeEmit(i.context,c,o),c.conf&&c.conf.one&&(i.listeners=i.listeners.filter(function(v){return v!==c}));var d=i.callbackContext(i.context,c,o),h=c.callback.apply(d,f);i.afterEmit(i.context,c,o),h===!1&&(o.stopPropagation(),o.preventDefault())}},l=0;l<a;l++)s();i.bubble(i.context)&&!o.isPropagationStopped()&&i.parent(i.context).emit(o,e)},t),this.emitting--,this};var bB={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&Qs(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},_l=function(e){return we(e)?new pa(e):e},lC={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new qc(bB,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var a=_l(r),i=0;i<this.length;i++){var o=this[i];o.emitter().on(e,a,n)}return this},removeListener:function(e,r,n){for(var a=_l(r),i=0;i<this.length;i++){var o=this[i];o.emitter().removeListener(e,a,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var a=_l(r),i=0;i<this.length;i++){var o=this[i];o.emitter().one(e,a,n)}return this},once:function(e,r,n){for(var a=_l(r),i=0;i<this.length;i++){var o=this[i];o.emitter().on(e,a,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};qe.eventAliasesOn(lC);var uC={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?e.push(a):r.push(a)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(we(e)||Sr(e))return new pa(e).filter(this);if(lt(e)){for(var n=this.spawn(),a=this,i=0;i<a.length;i++){var o=a[i],s=r?e.apply(r,[o,i,a]):e(o,i,a);s&&n.push(o)}return n}return this.spawn()},not:function(e){if(e){we(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var a=this[n],i=e.has(a);i||r.push(a)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(we(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),a=this,i=e,o=this.length<e.length,s=o?a:i,l=o?i:a,u=0;u<s.length;u++){var c=s[u];l.has(c)&&n.push(c)}return n},xor:function(e){var r=this._private.cy;we(e)&&(e=r.$(e));var n=this.spawn(),a=this,i=e,o=function(l,u){for(var c=0;c<l.length;c++){var f=l[c],d=f._private.data.id,h=u.hasElementWithId(d);h||n.push(f)}};return o(a,i),o(i,a),n},diff:function(e){var r=this._private.cy;we(e)&&(e=r.$(e));var n=this.spawn(),a=this.spawn(),i=this.spawn(),o=this,s=e,l=function(c,f,d){for(var h=0;h<c.length;h++){var v=c[h],y=v._private.data.id,w=f.hasElementWithId(y);w?i.merge(v):d.push(v)}};return l(o,s,n),l(s,o,a),{left:n,right:a,both:i}},add:function(e){var r=this._private.cy;if(!e)return this;if(we(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=this.spawnSelf(),i=0;i<e.length;i++){var o=e[i],s=!this.has(o);s&&a.push(o)}return a},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&we(e)){var a=e;e=n.mutableElements().filter(a)}for(var i=r.map,o=0;o<e.length;o++){var s=e[o],l=s._private.data.id,u=!i.has(l);if(u){var c=this.length++;this[c]=s,i.set(l,{ele:s,index:c})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),a=this._private,i=a.map;this[e]=void 0,i.delete(n);var o=e===this.length-1;if(this.length>1&&!o){var s=this.length-1,l=this[s],u=l._private.data.id;this[s]=void 0,this[e]=l,i.set(u,{ele:l,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,a=r.map,i=a.get(n);if(!i)return this;var o=i.index;return this.unmergeAt(o),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&we(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=0;a<e.length;a++)this.unmergeOne(e[a]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],a=this,i=0;i<a.length;i++){var o=a[i],s=r?e.apply(r,[o,i,a]):e(o,i,a);n.push(s)}return n},reduce:function(e,r){for(var n=r,a=this,i=0;i<a.length;i++)n=e(n,a[i],i,a);return n},max:function(e,r){for(var n=-1/0,a,i=this,o=0;o<i.length;o++){var s=i[o],l=r?e.apply(r,[s,o,i]):e(s,o,i);l>n&&(n=l,a=s)}return{value:n,ele:a}},min:function(e,r){for(var n=1/0,a,i=this,o=0;o<i.length;o++){var s=i[o],l=r?e.apply(r,[s,o,i]):e(s,o,i);l<n&&(n=l,a=s)}return{value:n,ele:a}}},Ue=uC;Ue.u=Ue["|"]=Ue["+"]=Ue.union=Ue.or=Ue.add;Ue["\\"]=Ue["!"]=Ue["-"]=Ue.difference=Ue.relativeComplement=Ue.subtract=Ue.not;Ue.n=Ue["&"]=Ue["."]=Ue.and=Ue.intersection=Ue.intersect;Ue["^"]=Ue["(+)"]=Ue["(-)"]=Ue.symmetricDifference=Ue.symdiff=Ue.xor;Ue.fnFilter=Ue.filterFn=Ue.stdFilter=Ue.filter;Ue.complement=Ue.abscomp=Ue.absoluteComplement;var EB={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},cC=function(e,r){var n=e.cy(),a=n.hasCompoundNodes();function i(c){var f=c.pstyle("z-compound-depth");return f.value==="auto"?a?c.zDepth():0:f.value==="bottom"?-1:f.value==="top"?fg:0}var o=i(e)-i(r);if(o!==0)return o;function s(c){var f=c.pstyle("z-index-compare");return f.value==="auto"&&c.isNode()?1:0}var l=s(e)-s(r);if(l!==0)return l;var u=e.pstyle("z-index").value-r.pstyle("z-index").value;return u!==0?u:e.poolIndex()-r.poolIndex()},ac={forEach:function(e,r){if(lt(e))for(var n=this.length,a=0;a<n;a++){var i=this[a],o=r?e.apply(r,[i,a,this]):e(i,a,this);if(o===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],a=this.length;r==null&&(r=a),e==null&&(e=0),e<0&&(e=a+e),r<0&&(r=a+r);for(var i=e;i>=0&&i<r&&i<a;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!lt(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(cC)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var a=r.data.parent?e.parents().size():0;return e.isParent()?a:fg-1}else{var i=r.source,o=r.target,s=i.zDepth(),l=o.zDepth();return Math.max(s,l,0)}}}};ac.each=ac.forEach;var SB=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":kt(Symbol))!=e&&kt(Symbol.iterator)!=e;r&&(ac[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},i=0,o=this.length;return lS({next:function(){return i<o?a.value=n[i++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};SB();var CB=Ht({nodeDimensionsIncludeLabels:!1}),fu={layoutDimensions:function(e){e=CB(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var a=this.nodes().filter(function(E){return!E.isParent()}),i=this.cy(),o=r.eles,s=function(S){return S.id()},l=uo(n,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var u=function(S,b,C){var T={x:b.x1+b.w/2,y:b.y1+b.h/2},P={x:(C.x-T.x)*S,y:(C.y-T.y)*S};return{x:T.x+P.x,y:T.y+P.y}},c=r.spacingFactor&&r.spacingFactor!==1,f=function(){if(!c)return null;for(var S=ir(),b=0;b<a.length;b++){var C=a[b],T=l(C,b);AS(S,T.x,T.y)}return S},d=f(),h=uo(function(E,S){var b=l(E,S);if(c){var C=Math.abs(r.spacingFactor);b=u(C,d,b)}return r.transform!=null&&(b=r.transform(E,b)),b},s);if(r.animate){for(var v=0;v<a.length;v++){var y=a[v],w=h(y,v),g=r.animateFilter==null||r.animateFilter(y,v);if(g){var p=y.animation({position:w,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(p)}else y.position(w)}if(r.fit){var m=i.animation({fit:{boundingBox:o.boundingBoxAt(h),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(m)}else if(r.zoom!==void 0&&r.pan!==void 0){var x=i.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(x)}e.animations.forEach(function(E){return E.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),mo.all(e.animations.map(function(E){return E.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else a.positions(h),r.fit&&i.fit(r.eles,r.padding),r.zoom!=null&&i.zoom(r.zoom),r.pan&&i.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(Se({},e,{eles:this}))}};fu.createLayout=fu.makeLayout=fu.layout;function fC(t,e,r){var n=r._private,a=n.styleCache=n.styleCache||[],i;return(i=a[t])!=null||(i=a[t]=e(r)),i}function Wc(t,e){return t=ti(t),function(n){return fC(t,e,n)}}function $c(t,e){t=ti(t);var r=function(a){return e.call(a)};return function(){var a=this[0];if(a)return fC(t,r,a)}}var Vt={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),a=r.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(i){return i._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(a){r(a),a.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var a=r.hasCompoundNodes(),i=this;e=!!(e||e===void 0),a&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=i;return e?o.emitAndNotify("style"):o.emit("style"),i.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(a.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,a.style().apply(n));var i=n._private.style[e];return i??(r?a.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,i=n.style();if(_e(e)){var o=e;i.applyBypass(this,o,a),this.emitAndNotify("style")}else if(we(e))if(r===void 0){var s=this[0];return s?i.getStylePropertyValue(s,e):void 0}else i.applyBypass(this,e,r,a),this.emitAndNotify("style");else if(e===void 0){var l=this[0];return l?i.getRawStyle(l):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,a=r.style(),i=this;if(e===void 0)for(var o=0;o<i.length;o++){var s=i[o];a.removeAllBypasses(s,n)}else{e=e.split(/\s+/);for(var l=0;l<i.length;l++){var u=i[l];a.removeBypasses(u,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var a=n._private,i=n.pstyle("opacity").value;if(!r)return i;var o=a.data.parent?n.parents():null;if(o)for(var s=0;s<o.length;s++){var l=o[s],u=l.pstyle("opacity").value;i=u*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function sh(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var a=0;a<n.length;a++){var i=n[a];if(!e(i))return!1}return!0}function Sg(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var i=this[0],o=a.hasCompoundNodes();if(i){var s=i._private;if(!e(i))return!1;if(i.isNode())return!o||sh(i,n);var l=s.source,u=s.target;return r(l)&&(!o||sh(l,r))&&(l===u||r(u)&&(!o||sh(u,r)))}}}var yo=Wc("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});Vt.takesUpSpace=$c("takesUpSpace",Sg({ok:yo}));var TB=Wc("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&yo(t)}),PB=Wc("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&yo(t)});Vt.interactive=$c("interactive",Sg({ok:TB,parentOk:PB,edgeOkViaNode:yo}));Vt.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var kB=Wc("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&yo(t)}),AB=yo;Vt.visible=$c("visible",Sg({ok:kB,edgeOkViaNode:AB}));Vt.hidden=function(){var t=this[0];if(t)return!t.visible()};Vt.isBundledBezier=$c("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Vt.bypass=Vt.css=Vt.style;Vt.renderedCss=Vt.renderedStyle;Vt.removeBypass=Vt.removeCss=Vt.removeStyle;Vt.pstyle=Vt.parsedStyle;var sa={};function U1(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],a=e[1];this.on(t.event,n,a)}else if(e.length===1&&lt(e[0])){var i=e[0];this.on(t.event,i)}else if(e.length===0||e.length===1&&Ye(e[0])){for(var o=e.length===1?e[0]:null,s=0;s<this.length;s++){var l=this[s],u=!t.ableField||l._private[t.ableField],c=l._private[t.field]!=t.value;if(t.overrideAble){var f=t.overrideAble(l);if(f!==void 0&&(u=f,!f))return this}u&&(l._private[t.field]=t.value,c&&r.push(l))}var d=this.spawn(r);d.updateStyle(),d.emit(t.event),o&&d.emit(o)}return this}}function wo(t){sa[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},sa[t.on]=U1({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),sa[t.off]=U1({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}wo({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});wo({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});wo({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});wo({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});sa.deselect=sa.unselect;sa.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};wo({field:"active",on:"activate",off:"unactivate"});wo({field:"pannable",on:"panify",off:"unpanify"});sa.inactive=function(){var t=this[0];if(t)return!t._private.active};var Xt={},H1=function(e){return function(n){for(var a=this,i=[],o=0;o<a.length;o++){var s=a[o];if(s.isNode()){for(var l=!1,u=s.connectedEdges(),c=0;c<u.length;c++){var f=u[c],d=f.source(),h=f.target();if(e.noIncomingEdges&&h===s&&d!==s||e.noOutgoingEdges&&d===s&&h!==s){l=!0;break}}l||i.push(s)}}return this.spawn(i,!0).filter(n)}},j1=function(e){return function(r){for(var n=this,a=[],i=0;i<n.length;i++){var o=n[i];if(o.isNode())for(var s=o.connectedEdges(),l=0;l<s.length;l++){var u=s[l],c=u.source(),f=u.target();e.outgoing&&c===o?(a.push(u),a.push(f)):e.incoming&&f===o&&(a.push(u),a.push(c))}}return this.spawn(a,!0).filter(r)}},G1=function(e){return function(r){for(var n=this,a=[],i={};;){var o=e.outgoing?n.outgoers():n.incomers();if(o.length===0)break;for(var s=!1,l=0;l<o.length;l++){var u=o[l],c=u.id();i[c]||(i[c]=!0,a.push(u),s=!0)}if(!s)break;n=o}return this.spawn(a,!0).filter(r)}};Xt.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};Se(Xt,{roots:H1({noIncomingEdges:!0}),leaves:H1({noOutgoingEdges:!0}),outgoers:Or(j1({outgoing:!0}),"outgoers"),successors:G1({outgoing:!0}),incomers:Or(j1({incoming:!0}),"incomers"),predecessors:G1({})});Se(Xt,{neighborhood:Or(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var a=r[n],i=a.connectedEdges(),o=0;o<i.length;o++){var s=i[o],l=s.source(),u=s.target(),c=a===l?u:l;c.length>0&&e.push(c[0]),e.push(s[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Xt.neighbourhood=Xt.neighborhood;Xt.closedNeighbourhood=Xt.closedNeighborhood;Xt.openNeighbourhood=Xt.openNeighborhood;Se(Xt,{source:Or(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:Or(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:q1({attr:"source"}),targets:q1({attr:"target"})});function q1(t){return function(r){for(var n=[],a=0;a<this.length;a++){var i=this[a],o=i._private[t.attr];o&&n.push(o)}return this.spawn(n,!0).filter(r)}}Se(Xt,{edgesWith:Or(W1(),"edgesWith"),edgesTo:Or(W1({thisIsSrc:!0}),"edgesTo")});function W1(t){return function(r){var n=[],a=this._private.cy,i=t||{};we(r)&&(r=a.$(r));for(var o=0;o<r.length;o++)for(var s=r[o]._private.edges,l=0;l<s.length;l++){var u=s[l],c=u._private.data,f=this.hasElementWithId(c.source)&&r.hasElementWithId(c.target),d=r.hasElementWithId(c.source)&&this.hasElementWithId(c.target),h=f||d;h&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!f||i.thisIsTgt&&!d)||n.push(u))}return this.spawn(n,!0)}}Se(Xt,{connectedEdges:Or(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];if(a.isNode())for(var i=a._private.edges,o=0;o<i.length;o++){var s=i[o];e.push(s)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:Or(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];a.isEdge()&&(e.push(a.source()[0]),e.push(a.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:Or($1(),"parallelEdges"),codirectedEdges:Or($1({codirected:!0}),"codirectedEdges")});function $1(t){var e={codirected:!1};return t=Se({},e,t),function(n){for(var a=[],i=this.edges(),o=t,s=0;s<i.length;s++)for(var l=i[s],u=l._private,c=u.source,f=c._private.data.id,d=u.data.target,h=c._private.edges,v=0;v<h.length;v++){var y=h[v],w=y._private.data,g=w.target,p=w.source,m=g===d&&p===f,x=f===g&&d===p;(o.codirected&&m||!o.codirected&&(m||x))&&a.push(y)}return this.spawn(a,!0).filter(n)}}Se(Xt,{components:function(e){var r=this,n=r.cy(),a=n.collection(),i=e==null?r.nodes():e.nodes(),o=[];e!=null&&i.empty()&&(i=e.sources());var s=function(c,f){a.merge(c),i.unmerge(c),f.merge(c)};if(i.empty())return r.spawn();var l=function(){var c=n.collection();o.push(c);var f=i[0];s(f,c),r.bfs({directed:!1,roots:f,visit:function(h){return s(h,c)}}),c.forEach(function(d){d.connectedEdges().forEach(function(h){r.has(h)&&c.has(h.source())&&c.has(h.target())&&c.merge(h)})})};do l();while(i.length>0);return o},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Xt.componentsOf=Xt.components;var _t=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){at("A collection must have a reference to the core");return}var i=new bn,o=!1;if(!r)r=[];else if(r.length>0&&_e(r[0])&&!Qs(r[0])){o=!0;for(var s=[],l=new go,u=0,c=r.length;u<c;u++){var f=r[u];f.data==null&&(f.data={});var d=f.data;if(d.id==null)d.id=TS();else if(e.hasElementWithId(d.id)||l.has(d.id))continue;var h=new Fc(e,f,!1);s.push(h),l.add(d.id)}r=s}this.length=0;for(var v=0,y=r.length;v<y;v++){var w=r[v][0];if(w!=null){var g=w._private.data.id;(!n||!i.has(g))&&(n&&i.set(g,{index:this.length,ele:w}),this[this.length]=w,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(p){this.lazyMap=p},rebuildMap:function(){for(var m=this.lazyMap=new bn,x=this.eles,E=0;E<x.length;E++){var S=x[E];m.set(S.id(),{index:E,ele:S})}}},n&&(this._private.map=i),o&&!a&&this.restore()},Je=Fc.prototype=_t.prototype=Object.create(Array.prototype);Je.instanceString=function(){return"collection"};Je.spawn=function(t,e){return new _t(this.cy(),t,e)};Je.spawnSelf=function(){return this.spawn(this)};Je.cy=function(){return this._private.cy};Je.renderer=function(){return this._private.cy.renderer()};Je.element=function(){return this[0]};Je.collection=function(){return fS(this)?this:new _t(this._private.cy,[this])};Je.unique=function(){return new _t(this._private.cy,this,!0)};Je.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};Je.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new _t(e)};Je.$id=Je.getElementById;Je.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};Je.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};Je.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};Je.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(_e(t)){if(r.startBatch(),t.data){e.data(t.data);var a=n.data;if(e.isEdge()){var i=!1,o={},s=t.data.source,l=t.data.target;s!=null&&s!=a.source&&(o.source=""+s,i=!0),l!=null&&l!=a.target&&(o.target=""+l,i=!0),i&&(e=e.move(o))}else{var u="parent"in t.data,c=t.data.parent;u&&(c!=null||a.parent!=null)&&c!=a.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),e=e.move({parent:c}))}}t.position&&e.position(t.position);var f=function(y,w,g){var p=t[y];p!=null&&p!==n[y]&&(p?e[w]():e[g]())};return f("removed","remove","restore"),f("selected","select","unselect"),f("selectable","selectify","unselectify"),f("locked","lock","unlock"),f("grabbable","grabify","ungrabify"),f("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var d={data:an(n.data),position:an(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};d.classes="";var h=0;return n.classes.forEach(function(v){return d.classes+=h++===0?v:" "+v}),d}}};Je.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};Je.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],a=n.json(),i=new Fc(t,a,!1);e.push(i)}return new _t(t,e)};Je.copy=Je.clone;Je.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),a=n._private,i=[],o=[],s,l=0,u=r.length;l<u;l++){var c=r[l];e&&!c.removed()||(c.isNode()?i.push(c):o.push(c))}s=i.concat(o);var f,d=function(){s.splice(f,1),f--};for(f=0;f<s.length;f++){var h=s[f],v=h._private,y=v.data;if(h.clearTraversalCache(),!(!e&&!v.removed)){if(y.id===void 0)y.id=TS();else if(oe(y.id))y.id=""+y.id;else if(da(y.id)||!we(y.id)){at("Can not create element with invalid string ID `"+y.id+"`"),d();continue}else if(n.hasElementWithId(y.id)){at("Can not create second element with ID `"+y.id+"`"),d();continue}}var w=y.id;if(h.isNode()){var g=v.position;g.x==null&&(g.x=0),g.y==null&&(g.y=0)}if(h.isEdge()){for(var p=h,m=["source","target"],x=m.length,E=!1,S=0;S<x;S++){var b=m[S],C=y[b];oe(C)&&(C=y[b]=""+y[b]),C==null||C===""?(at("Can not create edge `"+w+"` with unspecified "+b),E=!0):n.hasElementWithId(C)||(at("Can not create edge `"+w+"` with nonexistant "+b+" `"+C+"`"),E=!0)}if(E){d();continue}var T=n.getElementById(y.source),P=n.getElementById(y.target);T.same(P)?T._private.edges.push(p):(T._private.edges.push(p),P._private.edges.push(p)),p._private.source=T,p._private.target=P}v.map=new bn,v.map.set(w,{ele:h,index:0}),v.removed=!1,e&&n.addToPool(h)}for(var k=0;k<i.length;k++){var D=i[k],M=D._private.data;oe(M.parent)&&(M.parent=""+M.parent);var I=M.parent,B=I!=null;if(B||D._private.parent){var L=D._private.parent?n.collection().merge(D._private.parent):n.getElementById(I);if(L.empty())M.parent=void 0;else if(L[0].removed())We("Node added with missing parent, reference to parent removed"),M.parent=void 0,D._private.parent=null;else{for(var N=!1,R=L;!R.empty();){if(D.same(R)){N=!0,M.parent=void 0;break}R=R.parent()}N||(L[0]._private.children.push(D),D._private.parent=L[0],a.hasCompoundNodes=!0)}}}if(s.length>0){for(var F=s.length===r.length?r:new _t(n,s),z=0;z<F.length;z++){var O=F[z];O.isNode()||(O.parallelEdges().clearTraversalCache(),O.source().clearTraversalCache(),O.target().clearTraversalCache())}var V;a.hasCompoundNodes?V=n.collection().merge(F).merge(F.connectedNodes()).merge(F.parent()):V=F,V.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?F.emitAndNotify("add"):e&&F.emit("add")}return r};Je.removed=function(){var t=this[0];return t&&t._private.removed};Je.inside=function(){var t=this[0];return t&&!t._private.removed};Je.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],a={},i=r._private.cy;function o(I){for(var B=I._private.edges,L=0;L<B.length;L++)l(B[L])}function s(I){for(var B=I._private.children,L=0;L<B.length;L++)l(B[L])}function l(I){var B=a[I.id()];e&&I.removed()||B||(a[I.id()]=!0,I.isNode()?(n.push(I),o(I),s(I)):n.unshift(I))}for(var u=0,c=r.length;u<c;u++){var f=r[u];l(f)}function d(I,B){var L=I._private.edges;ha(L,B),I.clearTraversalCache()}function h(I){I.clearTraversalCache()}var v=[];v.ids={};function y(I,B){B=B[0],I=I[0];var L=I._private.children,N=I.id();ha(L,B),B._private.parent=null,v.ids[N]||(v.ids[N]=!0,v.push(I))}r.dirtyCompoundBoundsCache(),e&&i.removeFromPool(n);for(var w=0;w<n.length;w++){var g=n[w];if(g.isEdge()){var p=g.source()[0],m=g.target()[0];d(p,g),d(m,g);for(var x=g.parallelEdges(),E=0;E<x.length;E++){var S=x[E];h(S),S.isBundledBezier()&&S.dirtyBoundingBoxCache()}}else{var b=g.parent();b.length!==0&&y(b,g)}e&&(g._private.removed=!0)}var C=i._private.elements;i._private.hasCompoundNodes=!1;for(var T=0;T<C.length;T++){var P=C[T];if(P.isParent()){i._private.hasCompoundNodes=!0;break}}var k=new _t(this.cy(),n);k.size()>0&&(t?k.emitAndNotify("remove"):e&&k.emit("remove"));for(var D=0;D<v.length;D++){var M=v[D];(!e||!M.removed())&&M.updateStyle()}return k};Je.move=function(t){var e=this._private.cy,r=this,n=!1,a=!1,i=function(v){return v==null?v:""+v};if(t.source!==void 0||t.target!==void 0){var o=i(t.source),s=i(t.target),l=o!=null&&e.hasElementWithId(o),u=s!=null&&e.hasElementWithId(s);(l||u)&&(e.batch(function(){r.remove(n,a),r.emitAndNotify("moveout");for(var h=0;h<r.length;h++){var v=r[h],y=v._private.data;v.isEdge()&&(l&&(y.source=o),u&&(y.target=s))}r.restore(n,a)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var c=i(t.parent),f=c===null||e.hasElementWithId(c);if(f){var d=c===null?void 0:c;e.batch(function(){var h=r.remove(n,a);h.emitAndNotify("moveout");for(var v=0;v<r.length;v++){var y=r[v],w=y._private.data;y.isNode()&&(w.parent=d)}h.restore(n,a)}),r.emitAndNotify("move")}}return this};[FS,VL,cu,oa,fo,tB,Gc,mB,lC,uC,EB,ac,fu,Vt,sa,Xt].forEach(function(t){Se(Je,t)});var DB={add:function(e){var r,n=this;if(Sr(e)){var a=e;if(a._private.cy===n)r=a.restore();else{for(var i=[],o=0;o<a.length;o++){var s=a[o];i.push(s.json())}r=new _t(n,i)}}else if(Ye(e)){var l=e;r=new _t(n,l)}else if(_e(e)&&(Ye(e.nodes)||Ye(e.edges))){for(var u=e,c=[],f=["nodes","edges"],d=0,h=f.length;d<h;d++){var v=f[d],y=u[v];if(Ye(y))for(var w=0,g=y.length;w<g;w++){var p=Se({group:v},y[w]);c.push(p)}}r=new _t(n,c)}else{var m=e;r=new Fc(n,m).collection()}return r},remove:function(e){if(!Sr(e)){if(we(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function MB(t,e,r,n){var a=4,i=.001,o=1e-7,s=10,l=11,u=1/(l-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var f=0;f<4;++f)if(typeof arguments[f]!="number"||isNaN(arguments[f])||!isFinite(arguments[f]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var d=c?new Float32Array(l):new Array(l);function h(P,k){return 1-3*k+3*P}function v(P,k){return 3*k-6*P}function y(P){return 3*P}function w(P,k,D){return((h(k,D)*P+v(k,D))*P+y(k))*P}function g(P,k,D){return 3*h(k,D)*P*P+2*v(k,D)*P+y(k)}function p(P,k){for(var D=0;D<a;++D){var M=g(k,t,r);if(M===0)return k;var I=w(k,t,r)-P;k-=I/M}return k}function m(){for(var P=0;P<l;++P)d[P]=w(P*u,t,r)}function x(P,k,D){var M,I,B=0;do I=k+(D-k)/2,M=w(I,t,r)-P,M>0?D=I:k=I;while(Math.abs(M)>o&&++B<s);return I}function E(P){for(var k=0,D=1,M=l-1;D!==M&&d[D]<=P;++D)k+=u;--D;var I=(P-d[D])/(d[D+1]-d[D]),B=k+I*u,L=g(B,t,r);return L>=i?p(P,B):L===0?B:x(P,k,k+u)}var S=!1;function b(){S=!0,(t!==e||r!==n)&&m()}var C=function(k){return S||b(),t===e&&r===n?k:k===0?0:k===1?1:w(E(k),e,n)};C.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var T="generateBezier("+[t,e,r,n]+")";return C.toString=function(){return T},C}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var RB=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,a,i){var o={x:n.x+i.dx*a,v:n.v+i.dv*a,tension:n.tension,friction:n.friction};return{dx:o.v,dv:t(o)}}function r(n,a){var i={dx:n.v,dv:t(n)},o=e(n,a*.5,i),s=e(n,a*.5,o),l=e(n,a,s),u=1/6*(i.dx+2*(o.dx+s.dx)+l.dx),c=1/6*(i.dv+2*(o.dv+s.dv)+l.dv);return n.x=n.x+u*a,n.v=n.v+c*a,n}return function n(a,i,o){var s={x:-1,v:0,tension:null,friction:null},l=[0],u=0,c=1/1e4,f=16/1e3,d,h,v;for(a=parseFloat(a)||500,i=parseFloat(i)||20,o=o||null,s.tension=a,s.friction=i,d=o!==null,d?(u=n(a,i),h=u/o*f):h=f;v=r(v||s,h),l.push(1+v.x),u+=16,Math.abs(v.x)>c&&Math.abs(v.v)>c;);return d?function(y){return l[y*(l.length-1)|0]}:u}}(),Xe=function(e,r,n,a){var i=MB(e,r,n,a);return function(o,s,l){return o+(s-o)*i(l)}},du={linear:function(e,r,n){return e+(r-e)*n},ease:Xe(.25,.1,.25,1),"ease-in":Xe(.42,0,1,1),"ease-out":Xe(0,0,.58,1),"ease-in-out":Xe(.42,0,.58,1),"ease-in-sine":Xe(.47,0,.745,.715),"ease-out-sine":Xe(.39,.575,.565,1),"ease-in-out-sine":Xe(.445,.05,.55,.95),"ease-in-quad":Xe(.55,.085,.68,.53),"ease-out-quad":Xe(.25,.46,.45,.94),"ease-in-out-quad":Xe(.455,.03,.515,.955),"ease-in-cubic":Xe(.55,.055,.675,.19),"ease-out-cubic":Xe(.215,.61,.355,1),"ease-in-out-cubic":Xe(.645,.045,.355,1),"ease-in-quart":Xe(.895,.03,.685,.22),"ease-out-quart":Xe(.165,.84,.44,1),"ease-in-out-quart":Xe(.77,0,.175,1),"ease-in-quint":Xe(.755,.05,.855,.06),"ease-out-quint":Xe(.23,1,.32,1),"ease-in-out-quint":Xe(.86,0,.07,1),"ease-in-expo":Xe(.95,.05,.795,.035),"ease-out-expo":Xe(.19,1,.22,1),"ease-in-out-expo":Xe(1,0,0,1),"ease-in-circ":Xe(.6,.04,.98,.335),"ease-out-circ":Xe(.075,.82,.165,1),"ease-in-out-circ":Xe(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return du.linear;var a=RB(e,r,n);return function(i,o,s){return i+(o-i)*a(s)}},"cubic-bezier":Xe};function K1(t,e,r,n,a){if(n===1||e===r)return r;var i=a(e,r,n);return t==null||((t.roundValue||t.color)&&(i=Math.round(i)),t.min!==void 0&&(i=Math.max(i,t.min)),t.max!==void 0&&(i=Math.min(i,t.max))),i}function Y1(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function mi(t,e,r,n,a){var i=a!=null?a.type:null;r<0?r=0:r>1&&(r=1);var o=Y1(t,a),s=Y1(e,a);if(oe(o)&&oe(s))return K1(i,o,s,r,n);if(Ye(o)&&Ye(s)){for(var l=[],u=0;u<s.length;u++){var c=o[u],f=s[u];if(c!=null&&f!=null){var d=K1(i,c,f,r,n);l.push(d)}else l.push(f)}return l}}function IB(t,e,r,n){var a=!n,i=t._private,o=e._private,s=o.easing,l=o.startTime,u=n?t:t.cy(),c=u.style();if(!o.easingImpl)if(s==null)o.easingImpl=du.linear;else{var f;if(we(s)){var d=c.parse("transition-timing-function",s);f=d.value}else f=s;var h,v;we(f)?(h=f,v=[]):(h=f[1],v=f.slice(2).map(function(F){return+F})),v.length>0?(h==="spring"&&v.push(o.duration),o.easingImpl=du[h].apply(null,v)):o.easingImpl=du[h]}var y=o.easingImpl,w;if(o.duration===0?w=1:w=(r-l)/o.duration,o.applying&&(w=o.progress),w<0?w=0:w>1&&(w=1),o.delay==null){var g=o.startPosition,p=o.position;if(p&&a&&!t.locked()){var m={};zo(g.x,p.x)&&(m.x=mi(g.x,p.x,w,y)),zo(g.y,p.y)&&(m.y=mi(g.y,p.y,w,y)),t.position(m)}var x=o.startPan,E=o.pan,S=i.pan,b=E!=null&&n;b&&(zo(x.x,E.x)&&(S.x=mi(x.x,E.x,w,y)),zo(x.y,E.y)&&(S.y=mi(x.y,E.y,w,y)),t.emit("pan"));var C=o.startZoom,T=o.zoom,P=T!=null&&n;P&&(zo(C,T)&&(i.zoom=Bs(i.minZoom,mi(C,T,w,y),i.maxZoom)),t.emit("zoom")),(b||P)&&t.emit("viewport");var k=o.style;if(k&&k.length>0&&a){for(var D=0;D<k.length;D++){var M=k[D],I=M.name,B=M,L=o.startStyle[I],N=c.properties[L.name],R=mi(L,B,w,y,N);c.overrideBypass(t,I,R)}t.emit("style")}}return o.progress=w,w}function zo(t,e){return t==null||e==null?!1:oe(t)&&oe(e)?!0:!!(t&&e)}function NB(t,e,r,n){var a=e._private;a.started=!0,a.startTime=r-a.progress*a.duration}function X1(t,e){var r=e._private.aniEles,n=[];function a(c,f){var d=c._private,h=d.animation.current,v=d.animation.queue,y=!1;if(h.length===0){var w=v.shift();w&&h.push(w)}for(var g=function(S){for(var b=S.length-1;b>=0;b--){var C=S[b];C()}S.splice(0,S.length)},p=h.length-1;p>=0;p--){var m=h[p],x=m._private;if(x.stopped){h.splice(p,1),x.hooked=!1,x.playing=!1,x.started=!1,g(x.frames);continue}!x.playing&&!x.applying||(x.playing&&x.applying&&(x.applying=!1),x.started||NB(c,m,t),IB(c,m,t,f),x.applying&&(x.applying=!1),g(x.frames),x.step!=null&&x.step(t),m.completed()&&(h.splice(p,1),x.hooked=!1,x.playing=!1,x.started=!1,g(x.completes)),y=!0)}return!f&&h.length===0&&v.length===0&&n.push(c),y}for(var i=!1,o=0;o<r.length;o++){var s=r[o],l=a(s);i=i||l}var u=a(e,!0);(i||u)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var LB={animate:qe.animate(),animation:qe.animation(),animated:qe.animated(),clearQueue:qe.clearQueue(),delay:qe.delay(),delayAnimation:qe.delayAnimation(),stop:qe.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&Ju(function(i){X1(i,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(i,o){X1(o,e)},n.beforeRenderPriorities.animations):r()}},BB={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&Qs(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},Ul=function(e){return we(e)?new pa(e):e},dC={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new qc(BB,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,Ul(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,Ul(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,Ul(r),n),this},once:function(e,r,n){return this.emitter().one(e,Ul(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};qe.eventAliasesOn(dC);var Iv={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};Iv.jpeg=Iv.jpg;var hu={layout:function(e){var r=this;if(e==null){at("Layout options must be specified to make a layout");return}if(e.name==null){at("A `name` must be specified to make a layout");return}var n=e.name,a=r.extension("layout",n);if(a==null){at("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;we(e.eles)?i=r.$(e.eles):i=e.eles!=null?e.eles:r.$();var o=new a(Se({},e,{cy:r,eles:i}));return o}};hu.createLayout=hu.makeLayout=hu.layout;var OB={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&a.merge(r);return}if(n.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var a=e.batchNotifications[n];a.empty()?r.notify(n):r.notify(n,a)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),a=0;a<n.length;a++){var i=n[a],o=e[i],s=r.getElementById(i);s.data(o)}})}},FB=Ht({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),Nv={renderTo:function(e,r,n,a){var i=this._private.renderer;return i.renderTo(e,r,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){at("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&We("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=FB(e);a.cy=r,r._private.renderer=new n(a),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};Nv.invalidateDimensions=Nv.resize;var vu={collection:function(e,r){return we(e)?this.$(e):Sr(e)?e.collection():Ye(e)?(r||(r={}),new _t(this,e,r.unique,r.removed)):new _t(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};vu.elements=vu.filter=vu.$;var Lt={},us="t",zB="f";Lt.apply=function(t){for(var e=this,r=e._private,n=r.cy,a=n.collection(),i=0;i<t.length;i++){var o=t[i],s=e.getContextMeta(o);if(!s.empty){var l=e.getContextStyle(s),u=e.applyContextStyle(s,l,o);o._private.appliedInitStyle?e.updateTransitions(o,u.diffProps):o._private.appliedInitStyle=!0;var c=e.updateStyleHints(o);c&&a.push(o)}}return a};Lt.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},a=t+"-"+e,i=n[a];if(i)return i;for(var o=[],s={},l=0;l<r.length;l++){var u=r[l],c=t[l]===us,f=e[l]===us,d=c!==f,h=u.mappedProperties.length>0;if(d||f&&h){var v=void 0;d&&h||d?v=u.properties:h&&(v=u.mappedProperties);for(var y=0;y<v.length;y++){for(var w=v[y],g=w.name,p=!1,m=l+1;m<r.length;m++){var x=r[m],E=e[m]===us;if(E&&(p=x.properties[w.name]!=null,p))break}!s[g]&&!p&&(s[g]=!0,o.push(g))}}}return n[a]=o,o};Lt.getContextMeta=function(t){for(var e=this,r="",n,a=t._private.styleCxtKey||"",i=0;i<e.length;i++){var o=e[i],s=o.selector&&o.selector.matches(t);s?r+=us:r+=zB}return n=e.getPropertiesDiff(a,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};Lt.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var a={_private:{key:e}},i=0;i<r.length;i++){var o=r[i],s=e[i]===us;if(s)for(var l=0;l<o.properties.length;l++){var u=o.properties[l];a[u.name]=u}}return n[e]=a,a};Lt.applyContextStyle=function(t,e,r){for(var n=this,a=t.diffPropNames,i={},o=n.types,s=0;s<a.length;s++){var l=a[s],u=e[l],c=r.pstyle(l);if(!u)if(c)c.bypass?u={name:l,deleteBypassed:!0}:u={name:l,delete:!0};else continue;if(c!==u){if(u.mapped===o.fn&&c!=null&&c.mapping!=null&&c.mapping.value===u.value){var f=c.mapping,d=f.fnValue=u.value(r);if(d===f.prevFnValue)continue}var h=i[l]={prev:c};n.applyParsedProperty(r,u),h.next=r.pstyle(l),h.next&&h.next.bypass&&(h.next=h.next.bypassed)}}return{diffProps:i}};Lt.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,a=r.propertyGroupKeys,i=function(G,Q,ie){return r.getPropertiesHash(G,Q,ie)},o=e.styleKey;if(t.removed())return!1;var s=e.group==="nodes",l=t._private.style;n=Object.keys(l);for(var u=0;u<a.length;u++){var c=a[u];e.styleKeys[c]=[_a,Ci]}for(var f=function(G,Q){return e.styleKeys[Q][0]=Is(G,e.styleKeys[Q][0])},d=function(G,Q){return e.styleKeys[Q][1]=Ns(G,e.styleKeys[Q][1])},h=function(G,Q){f(G,Q),d(G,Q)},v=function(G,Q){for(var ie=0;ie<G.length;ie++){var ge=G.charCodeAt(ie);f(ge,Q),d(ge,Q)}},y=2e9,w=function(G){return-128<G&&G<128&&Math.floor(G)!==G?y-(G*1024|0):G},g=0;g<n.length;g++){var p=n[g],m=l[p];if(m!=null){var x=this.properties[p],E=x.type,S=x.groupKey,b=void 0;x.hashOverride!=null?b=x.hashOverride(t,m):m.pfValue!=null&&(b=m.pfValue);var C=x.enums==null?m.value:null,T=b!=null,P=C!=null,k=T||P,D=m.units;if(E.number&&k&&!E.multiple){var M=T?b:C;h(w(M),S),!T&&D!=null&&v(D,S)}else v(m.strValue,S)}}for(var I=[_a,Ci],B=0;B<a.length;B++){var L=a[B],N=e.styleKeys[L];I[0]=Is(N[0],I[0]),I[1]=Ns(N[1],I[1])}e.styleKey=eI(I[0],I[1]);var R=e.styleKeys;e.labelDimsKey=Fn(R.labelDimensions);var F=i(t,["label"],R.labelDimensions);if(e.labelKey=Fn(F),e.labelStyleKey=Fn(Nl(R.commonLabel,F)),!s){var z=i(t,["source-label"],R.labelDimensions);e.sourceLabelKey=Fn(z),e.sourceLabelStyleKey=Fn(Nl(R.commonLabel,z));var O=i(t,["target-label"],R.labelDimensions);e.targetLabelKey=Fn(O),e.targetLabelStyleKey=Fn(Nl(R.commonLabel,O))}if(s){var V=e.styleKeys,W=V.nodeBody,Y=V.nodeBorder,$=V.nodeOutline,X=V.backgroundImage,te=V.compound,se=V.pie,ee=V.stripe,_=[W,Y,$,X,te,se,ee].filter(function(U){return U!=null}).reduce(Nl,[_a,Ci]);e.nodeKey=Fn(_),e.hasPie=se!=null&&se[0]!==_a&&se[1]!==Ci,e.hasStripe=ee!=null&&ee[0]!==_a&&ee[1]!==Ci}return o!==e.styleKey};Lt.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null,e.hasStripe=null};Lt.applyParsedProperty=function(t,e){var r=this,n=e,a=t._private.style,i,o=r.types,s=r.properties[n.name].type,l=n.bypass,u=a[n.name],c=u&&u.bypass,f=t._private,d="mapping",h=function(W){return W==null?null:W.pfValue!=null?W.pfValue:W.value},v=function(){var W=h(u),Y=h(n);r.checkTriggers(t,n.name,W,Y)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",l)),n.delete)return a[n.name]=void 0,v(),!0;if(n.deleteBypassed)return u?u.bypass?(u.bypassed=void 0,v(),!0):!1:(v(),!0);if(n.deleteBypass)return u?u.bypass?(a[n.name]=u.bypassed,v(),!0):!1:(v(),!0);var y=function(){We("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case o.mapData:{for(var w=n.field.split("."),g=f.data,p=0;p<w.length&&g;p++){var m=w[p];g=g[m]}if(g==null)return y(),!1;var x;if(oe(g)){var E=n.fieldMax-n.fieldMin;E===0?x=0:x=(g-n.fieldMin)/E}else return We("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+g+"` for `"+t.id()+"` is non-numeric)"),!1;if(x<0?x=0:x>1&&(x=1),s.color){var S=n.valueMin[0],b=n.valueMax[0],C=n.valueMin[1],T=n.valueMax[1],P=n.valueMin[2],k=n.valueMax[2],D=n.valueMin[3]==null?1:n.valueMin[3],M=n.valueMax[3]==null?1:n.valueMax[3],I=[Math.round(S+(b-S)*x),Math.round(C+(T-C)*x),Math.round(P+(k-P)*x),Math.round(D+(M-D)*x)];i={bypass:n.bypass,name:n.name,value:I,strValue:"rgb("+I[0]+", "+I[1]+", "+I[2]+")"}}else if(s.number){var B=n.valueMin+(n.valueMax-n.valueMin)*x;i=this.parse(n.name,B,n.bypass,d)}else return!1;if(!i)return y(),!1;i.mapping=n,n=i;break}case o.data:{for(var L=n.field.split("."),N=f.data,R=0;R<L.length&&N;R++){var F=L[R];N=N[F]}if(N!=null&&(i=this.parse(n.name,N,n.bypass,d)),!i)return y(),!1;i.mapping=n,n=i;break}case o.fn:{var z=n.value,O=n.fnValue!=null?n.fnValue:z(t);if(n.prevFnValue=O,O==null)return We("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(i=this.parse(n.name,O,n.bypass,d),!i)return We("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;i.mapping=an(n),n=i;break}case void 0:break;default:return!1}return l?(c?n.bypassed=u.bypassed:n.bypassed=u,a[n.name]=n):c?u.bypassed=n:a[n.name]=n,v(),!0};Lt.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var a=n._private.style,i=Object.keys(a),o=0;o<i.length;o++){var s=i[o],l=a[s];l!=null&&(l.bypass?l.bypassed=null:a[s]=null)}}};Lt.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};Lt.updateTransitions=function(t,e){var r=this,n=t._private,a=t.pstyle("transition-property").value,i=t.pstyle("transition-duration").pfValue,o=t.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var s={},l=!1,u=0;u<a.length;u++){var c=a[u],f=t.pstyle(c),d=e[c];if(d){var h=d.prev,v=h,y=d.next!=null?d.next:f,w=!1,g=void 0,p=1e-6;v&&(oe(v.pfValue)&&oe(y.pfValue)?(w=y.pfValue-v.pfValue,g=v.pfValue+p*w):oe(v.value)&&oe(y.value)?(w=y.value-v.value,g=v.value+p*w):Ye(v.value)&&Ye(y.value)&&(w=v.value[0]!==y.value[0]||v.value[1]!==y.value[1]||v.value[2]!==y.value[2],g=v.strValue),w&&(s[c]=y.strValue,this.applyBypass(t,c,g),l=!0))}}if(!l)return;n.transitioning=!0,new mo(function(m){o>0?t.delayAnimation(o).play().promise().then(m):m()}).then(function(){return t.animation({style:s,duration:i,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1)};Lt.checkTrigger=function(t,e,r,n,a,i){var o=this.properties[e],s=a(o);t.removed()||s!=null&&s(r,n,t)&&i(o)};Lt.checkZOrderTrigger=function(t,e,r,n){var a=this;this.checkTrigger(t,e,r,n,function(i){return i.triggersZOrder},function(){a._private.cy.notify("zorder",t)})};Lt.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBounds},function(a){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache()})};Lt.checkConnectedEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBoundsOfConnectedEdges},function(a){t.connectedEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};Lt.checkParallelEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBoundsOfParallelEdges},function(a){t.parallelEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};Lt.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n),this.checkConnectedEdgesBoundsTrigger(t,e,r,n),this.checkParallelEdgesBoundsTrigger(t,e,r,n)};var il={};il.applyBypass=function(t,e,r,n){var a=this,i=[],o=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var s=0;s<a.properties.length;s++){var l=a.properties[s],u=l.name,c=this.parse(u,r,!0);c&&i.push(c)}}else if(we(e)){var f=this.parse(e,r,!0);f&&i.push(f)}else if(_e(e)){var d=e;n=r;for(var h=Object.keys(d),v=0;v<h.length;v++){var y=h[v],w=d[y];if(w===void 0&&(w=d[Bc(y)]),w!==void 0){var g=this.parse(y,w,!0);g&&i.push(g)}}}else return!1;if(i.length===0)return!1;for(var p=!1,m=0;m<t.length;m++){for(var x=t[m],E={},S=void 0,b=0;b<i.length;b++){var C=i[b];if(n){var T=x.pstyle(C.name);S=E[C.name]={prev:T}}p=this.applyParsedProperty(x,an(C))||p,n&&(S.next=x.pstyle(C.name))}p&&this.updateStyleHints(x),n&&this.updateTransitions(x,E,o)}return p};il.overrideBypass=function(t,e,r){e=ug(e);for(var n=0;n<t.length;n++){var a=t[n],i=a._private.style[e],o=this.properties[e].type,s=o.color,l=o.mutiple,u=i?i.pfValue!=null?i.pfValue:i.value:null;!i||!i.bypass?this.applyBypass(a,e,r):(i.value=r,i.pfValue!=null&&(i.pfValue=r),s?i.strValue="rgb("+r.join(",")+")":l?i.strValue=r.join(" "):i.strValue=""+r,this.updateStyleHints(a)),this.checkTriggers(a,e,u,r)}};il.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};il.removeBypasses=function(t,e,r){for(var n=!0,a=0;a<t.length;a++){for(var i=t[a],o={},s=0;s<e.length;s++){var l=e[s],u=this.properties[l],c=i.pstyle(u.name);if(!(!c||!c.bypass)){var f="",d=this.parse(l,f,!0),h=o[u.name]={prev:c};this.applyParsedProperty(i,d),h.next=i.pstyle(u.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,o,n)}};var Cg={};Cg.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};Cg.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var un={};un.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};un.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},a=0;a<r.properties.length;a++){var i=r.properties[a],o=r.getStylePropertyValue(t,i.name,e);o!=null&&(n[i.name]=o,n[Bc(i.name)]=o)}return n}};un.getIndexedStyle=function(t,e,r,n){var a=t.pstyle(e)[r][n];return a??t.cy().style().getDefaultProperty(e)[r][0]};un.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var a=n.properties[e];a.alias&&(a=a.pointsTo);var i=a.type,o=t.pstyle(a.name);if(o){var s=o.value,l=o.units,u=o.strValue;if(r&&i.number&&s!=null&&oe(s)){var c=t.cy().zoom(),f=function(w){return w*c},d=function(w,g){return f(w)+g},h=Ye(s),v=h?l.every(function(y){return y!=null}):l!=null;return v?h?s.map(function(y,w){return d(y,l[w])}).join(" "):d(s,l):h?s.map(function(y){return we(y)?y:""+f(y)}).join(" "):""+f(s)}else if(u!=null)return u}return null}};un.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var a=e[n],i=a.name,o=t.pstyle(i);o!==void 0&&(_e(o)?o=this.parse(i,o.strValue):o=this.parse(i,o)),o&&(r[i]=o)}return r};un.getPropsList=function(t){var e=this,r=[],n=t,a=e.properties;if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var s=i[o],l=n[s],u=a[s]||a[ug(s)],c=this.parse(u.name,l);c&&r.push(c)}return r};un.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),a,i,o,s,l,u;for(l=0;l<e.length;l++)if(a=e[l],i=t.pstyle(a,!1),i!=null)if(i.pfValue!=null)n[0]=Is(s,n[0]),n[1]=Ns(s,n[1]);else for(o=i.strValue,u=0;u<o.length;u++)s=o.charCodeAt(u),n[0]=Is(s,n[0]),n[1]=Ns(s,n[1]);return n};un.getPropertiesHash=un.getNonDefaultPropertiesHash;var Kc={};Kc.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],a=n.selector,i=n.style||n.css,o=Object.keys(i);e.selector(a);for(var s=0;s<o.length;s++){var l=o[s],u=i[l];e.css(l,u)}}return e};Kc.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};Kc.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,a=r.properties,i={},o=0;o<a.length;o++){var s=a[o];i[s.name]=s.strValue}t.push({selector:n?n.toString():"core",style:i})}return t};var Tg={};Tg.appendFromString=function(t){var e=this,r=this,n=""+t,a,i,o;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){n.length>a.length?n=n.substr(a.length):n=""}function l(){i.length>o.length?i=i.substr(o.length):i=""}for(;;){var u=n.match(/^\s*$/);if(u)break;var c=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){We("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=c[0];var f=c[1];if(f!=="core"){var d=new pa(f);if(d.invalid){We("Skipping parsing of block: Invalid selector found in string stylesheet: "+f),s();continue}}var h=c[2],v=!1;i=h;for(var y=[];;){var w=i.match(/^\s*$/);if(w)break;var g=i.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!g){We("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+h),v=!0;break}o=g[0];var p=g[1],m=g[2],x=e.properties[p];if(!x){We("Skipping property: Invalid property name in: "+o),l();continue}var E=r.parse(p,m);if(!E){We("Skipping property: Invalid property definition in: "+o),l();continue}y.push({name:p,val:m}),l()}if(v){s();break}r.selector(f);for(var S=0;S<y.length;S++){var b=y[S];r.css(b.name,b.val)}s()}return r};Tg.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var yt={};(function(){var t=Pt,e=IR,r=LR,n=BR,a=OR,i=function(U){return"^"+U+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(U){var G=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+a;return"^"+U+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+G+")\\s*\\,\\s*("+G+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];yt.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:i("data")},layoutData:{mapping:!0,regex:i("layoutData")},scratch:{mapping:!0,regex:i("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(U,G){switch(U.length){case 2:return G[0]!=="deg"&&G[0]!=="rad"&&G[1]!=="deg"&&G[1]!=="rad";case 1:return we(U[0])||G[0]==="deg"||G[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(U){var G=U.length;return G===1||G===2||G===4}}};var l={zeroNonZero:function(U,G){return(U==null||G==null)&&U!==G||U==0&&G!=0?!0:U!=0&&G==0},any:function(U,G){return U!=G},emptyNonEmpty:function(U,G){var Q=da(U),ie=da(G);return Q&&!ie||!Q&&ie}},u=yt.types,c=[{name:"label",type:u.text,triggersBounds:l.any,triggersZOrder:l.emptyNonEmpty},{name:"text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any}],f=[{name:"source-label",type:u.text,triggersBounds:l.any},{name:"source-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:u.size,triggersBounds:l.any}],d=[{name:"target-label",type:u.text,triggersBounds:l.any},{name:"target-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:u.size,triggersBounds:l.any}],h=[{name:"font-family",type:u.fontFamily,triggersBounds:l.any},{name:"font-style",type:u.fontStyle,triggersBounds:l.any},{name:"font-weight",type:u.fontWeight,triggersBounds:l.any},{name:"font-size",type:u.size,triggersBounds:l.any},{name:"text-transform",type:u.textTransform,triggersBounds:l.any},{name:"text-wrap",type:u.textWrap,triggersBounds:l.any},{name:"text-overflow-wrap",type:u.textOverflowWrap,triggersBounds:l.any},{name:"text-max-width",type:u.size,triggersBounds:l.any},{name:"text-outline-width",type:u.size,triggersBounds:l.any},{name:"line-height",type:u.positiveNumber,triggersBounds:l.any}],v=[{name:"text-valign",type:u.valign,triggersBounds:l.any},{name:"text-halign",type:u.halign,triggersBounds:l.any},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-background-padding",type:u.size,triggersBounds:l.any},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size,triggersBounds:l.any},{name:"text-border-style",type:u.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:u.textBackgroundShape,triggersBounds:l.any},{name:"text-justification",type:u.justification},{name:"box-select-labels",type:u.bool,triggersBounds:l.any}],y=[{name:"events",type:u.bool,triggersZOrder:l.any},{name:"text-events",type:u.bool,triggersZOrder:l.any},{name:"box-selection",type:u.boxSelection,triggersZOrder:l.any}],w=[{name:"display",type:u.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfConnectedEdges:l.any,triggersBoundsOfParallelEdges:function(U,G,Q){return U===G?!1:Q.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:u.visibility,triggersZOrder:l.any},{name:"opacity",type:u.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:u.zeroOneNumber},{name:"min-zoomed-font-size",type:u.size},{name:"z-compound-depth",type:u.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:u.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:u.number,triggersZOrder:l.any}],g=[{name:"overlay-padding",type:u.size,triggersBounds:l.any},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"overlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"overlay-corner-radius",type:u.cornerRadius}],p=[{name:"underlay-padding",type:u.size,triggersBounds:l.any},{name:"underlay-color",type:u.color},{name:"underlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"underlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"underlay-corner-radius",type:u.cornerRadius}],m=[{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing}],x=function(U,G){return G.value==="label"?-U.poolIndex():G.pfValue},E=[{name:"height",type:u.nodeSize,triggersBounds:l.any,hashOverride:x},{name:"width",type:u.nodeSize,triggersBounds:l.any,hashOverride:x},{name:"shape",type:u.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:u.polygonPointList,triggersBounds:l.any},{name:"corner-radius",type:u.cornerRadius},{name:"background-color",type:u.color},{name:"background-fill",type:u.fill},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"background-gradient-stop-colors",type:u.colors},{name:"background-gradient-stop-positions",type:u.percentages},{name:"background-gradient-direction",type:u.gradientDirection},{name:"padding",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:u.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:u.boundsExpansion,triggersBounds:l.any}],S=[{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size,triggersBounds:l.any},{name:"border-style",type:u.borderStyle},{name:"border-cap",type:u.lineCap},{name:"border-join",type:u.lineJoin},{name:"border-dash-pattern",type:u.numbers},{name:"border-dash-offset",type:u.number},{name:"border-position",type:u.linePosition}],b=[{name:"outline-color",type:u.color},{name:"outline-opacity",type:u.zeroOneNumber},{name:"outline-width",type:u.size,triggersBounds:l.any},{name:"outline-style",type:u.borderStyle},{name:"outline-offset",type:u.size,triggersBounds:l.any}],C=[{name:"background-image",type:u.urls},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumbers},{name:"background-image-containment",type:u.bgContainment},{name:"background-image-smoothing",type:u.bools},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-width-relative-to",type:u.bgRelativeTo},{name:"background-height-relative-to",type:u.bgRelativeTo},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"background-offset-x",type:u.bgPos},{name:"background-offset-y",type:u.bgPos}],T=[{name:"position",type:u.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:u.size,triggersBounds:l.any},{name:"min-width-bias-left",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:u.size,triggersBounds:l.any},{name:"min-height-bias-top",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:u.sizeMaybePercent,triggersBounds:l.any}],P=[{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"line-fill",type:u.fill},{name:"line-cap",type:u.lineCap},{name:"line-opacity",type:u.zeroOneNumber},{name:"line-dash-pattern",type:u.numbers},{name:"line-dash-offset",type:u.number},{name:"line-outline-width",type:u.size},{name:"line-outline-color",type:u.color},{name:"line-gradient-stop-colors",type:u.colors},{name:"line-gradient-stop-positions",type:u.percentages},{name:"curve-style",type:u.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelEdges:function(U,G){return U===G?!1:U==="bezier"||G==="bezier"}},{name:"haystack-radius",type:u.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:u.size,triggersBounds:l.any},{name:"control-point-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-radii",type:u.numbers,triggersBounds:l.any},{name:"radius-type",type:u.radiusType,triggersBounds:l.any},{name:"taxi-turn",type:u.bidirectionalSizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:u.size,triggersBounds:l.any},{name:"taxi-direction",type:u.axisDirection,triggersBounds:l.any},{name:"taxi-radius",type:u.number,triggersBounds:l.any},{name:"edge-distances",type:u.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:u.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:u.angle,triggersBounds:l.any},{name:"loop-sweep",type:u.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:u.size,triggersBounds:l.any},{name:"target-distance-from-node",type:u.size,triggersBounds:l.any}],k=[{name:"ghost",type:u.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:u.zeroOneNumber}],D=[{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],M=[];yt.pieBackgroundN=16,M.push({name:"pie-size",type:u.sizeMaybePercent}),M.push({name:"pie-hole",type:u.sizeMaybePercent}),M.push({name:"pie-start-angle",type:u.angle});for(var I=1;I<=yt.pieBackgroundN;I++)M.push({name:"pie-"+I+"-background-color",type:u.color}),M.push({name:"pie-"+I+"-background-size",type:u.percent}),M.push({name:"pie-"+I+"-background-opacity",type:u.zeroOneNumber});var B=[];yt.stripeBackgroundN=16,B.push({name:"stripe-size",type:u.sizeMaybePercent}),B.push({name:"stripe-direction",type:u.axisDirectionPrimary});for(var L=1;L<=yt.stripeBackgroundN;L++)B.push({name:"stripe-"+L+"-background-color",type:u.color}),B.push({name:"stripe-"+L+"-background-size",type:u.percent}),B.push({name:"stripe-"+L+"-background-opacity",type:u.zeroOneNumber});var N=[],R=yt.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape,triggersBounds:l.any},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill},{name:"arrow-width",type:u.arrowWidth}].forEach(function(_){R.forEach(function(U){var G=U+"-"+_.name,Q=_.type,ie=_.triggersBounds;N.push({name:G,type:Q,triggersBounds:ie})})},{});var F=yt.properties=[].concat(y,m,w,g,p,k,v,h,c,f,d,E,S,b,C,M,B,T,P,N,D),z=yt.propertyGroups={behavior:y,transition:m,visibility:w,overlay:g,underlay:p,ghost:k,commonLabel:v,labelDimensions:h,mainLabel:c,sourceLabel:f,targetLabel:d,nodeBody:E,nodeBorder:S,nodeOutline:b,backgroundImage:C,pie:M,stripe:B,compound:T,edgeLine:P,edgeArrow:N,core:D},O=yt.propertyGroupNames={},V=yt.propertyGroupKeys=Object.keys(z);V.forEach(function(_){O[_]=z[_].map(function(U){return U.name}),z[_].forEach(function(U){return U.groupKey=_})});var W=yt.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];yt.propertyNames=F.map(function(_){return _.name});for(var Y=0;Y<F.length;Y++){var $=F[Y];F[$.name]=$}for(var X=0;X<W.length;X++){var te=W[X],se=F[te.pointsTo],ee={name:te.name,alias:!0,pointsTo:se};F.push(ee),F[te.name]=ee}})();yt.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};yt.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=Se({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var c=1;c<=yt.pieBackgroundN;c++){var f=u.name.replace("{{i}}",c),d=u.value;l[f]=d}return l},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var c=1;c<=yt.stripeBackgroundN;c++){var f=u.name.replace("{{i}}",c),d=u.value;l[f]=d}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(l,u){return yt.arrowPrefixes.forEach(function(c){var f=c+"-"+u.name,d=u.value;l[f]=d}),l},{})),r={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var i=a.name,o=e[i],s=this.parse(i,o);r[i]=s}}return t.defaultProperties=r,t.defaultProperties};yt.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Yc={};Yc.parse=function(t,e,r,n){var a=this;if(lt(e))return a.parseImplWarn(t,e,r,n);var i=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,o=r?"t":"f",s=""+e,l=ES(t,s,o,i),u=a.propCache=a.propCache||[],c;return(c=u[l])||(c=u[l]=a.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(c=an(c),c&&(c.value=an(c.value))),c};Yc.parseImplWarn=function(t,e,r,n){var a=this.parseImpl(t,e,r,n);return!a&&e!=null&&We("The style property `".concat(t,": ").concat(e,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&e==="label"&&We("The style value of `label` is deprecated for `"+a.name+"`"),a};Yc.parseImpl=function(t,e,r,n){var a=this;t=ug(t);var i=a.properties[t],o=e,s=a.types;if(!i||e===void 0)return null;i.alias&&(i=i.pointsTo,t=i.name);var l=we(e);l&&(e=e.trim());var u=i.type;if(!u)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(lt(e))return{name:t,value:e,strValue:"fn",mapped:s.fn,bypass:r};var c,f;if(!(!l||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(c=new RegExp(s.data.regex).exec(e))){if(r)return!1;var d=s.data;return{name:t,value:c,strValue:""+e,mapped:d,field:c[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(f=new RegExp(s.mapData.regex).exec(e))){if(r||u.multiple)return!1;var h=s.mapData;if(!(u.color||u.number))return!1;var v=this.parse(t,f[4]);if(!v||v.mapped)return!1;var y=this.parse(t,f[5]);if(!y||y.mapped)return!1;if(v.pfValue===y.pfValue||v.strValue===y.strValue)return We("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+v.strValue+"`"),this.parse(t,v.strValue);if(u.color){var w=v.value,g=y.value,p=w[0]===g[0]&&w[1]===g[1]&&w[2]===g[2]&&(w[3]===g[3]||(w[3]==null||w[3]===1)&&(g[3]==null||g[3]===1));if(p)return!1}return{name:t,value:f,strValue:""+e,mapped:h,field:f[1],fieldMin:parseFloat(f[2]),fieldMax:parseFloat(f[3]),valueMin:v.value,valueMax:y.value,bypass:r}}}if(u.multiple&&n!=="multiple"){var m;if(l?m=e.split(/\s+/):Ye(e)?m=e:m=[e],u.evenMultiple&&m.length%2!==0)return null;for(var x=[],E=[],S=[],b="",C=!1,T=0;T<m.length;T++){var P=a.parse(t,m[T],r,"multiple");C=C||we(P.value),x.push(P.value),S.push(P.pfValue!=null?P.pfValue:P.value),E.push(P.units),b+=(T>0?" ":"")+P.strValue}return u.validate&&!u.validate(x,E)?null:u.singleEnum&&C?x.length===1&&we(x[0])?{name:t,value:x[0],strValue:x[0],bypass:r}:null:{name:t,value:x,pfValue:S,strValue:b,bypass:r,units:E}}var k=function(){for(var ee=0;ee<u.enums.length;ee++){var _=u.enums[ee];if(_===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(u.number){var D,M="px";if(u.units&&(D=u.units),u.implicitUnits&&(M=u.implicitUnits),!u.unitless)if(l){var I="px|em"+(u.allowPercent?"|\\%":"");D&&(I=D);var B=e.match("^("+Pt+")("+I+")?$");B&&(e=B[1],D=B[2]||M)}else(!D||u.implicitUnits)&&(D=M);if(e=parseFloat(e),isNaN(e)&&u.enums===void 0)return null;if(isNaN(e)&&u.enums!==void 0)return e=o,k();if(u.integer&&!TR(e)||u.min!==void 0&&(e<u.min||u.strictMin&&e===u.min)||u.max!==void 0&&(e>u.max||u.strictMax&&e===u.max))return null;var L={name:t,value:e,strValue:""+e+(D||""),units:D,bypass:r};return u.unitless||D!=="px"&&D!=="em"?L.pfValue=e:L.pfValue=D==="px"||!D?e:this.getEmSizeInPixels()*e,(D==="ms"||D==="s")&&(L.pfValue=D==="ms"?e:1e3*e),(D==="deg"||D==="rad")&&(L.pfValue=D==="rad"?e:BI(e)),D==="%"&&(L.pfValue=e/100),L}else if(u.propList){var N=[],R=""+e;if(R!=="none"){for(var F=R.split(/\s*,\s*|\s+/),z=0;z<F.length;z++){var O=F[z].trim();a.properties[O]?N.push(O):We("`"+O+"` is not a valid property name")}if(N.length===0)return null}return{name:t,value:N,strValue:N.length===0?"none":N.join(" "),bypass:r}}else if(u.color){var V=pS(e);return V?{name:t,value:V,pfValue:V,strValue:"rgb("+V[0]+","+V[1]+","+V[2]+")",bypass:r}:null}else if(u.regex||u.regexes){if(u.enums){var W=k();if(W)return W}for(var Y=u.regexes?u.regexes:[u.regex],$=0;$<Y.length;$++){var X=new RegExp(Y[$]),te=X.exec(e);if(te)return{name:t,value:u.singleRegexMatchValue?te[1]:te,strValue:""+e,bypass:r}}return null}else return u.string?{name:t,value:""+e,strValue:""+e,bypass:r}:u.enums?k():null};var Nt=function(e){if(!(this instanceof Nt))return new Nt(e);if(!lg(e)){at("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Zt=Nt.prototype;Zt.instanceString=function(){return"style"};Zt.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(a){var i=a[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this};Zt.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Zt.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};Zt.selector=function(t){var e=t==="core"?null:new pa(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};Zt.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var a=t.properties[n],i=r[a.name];i===void 0&&(i=r[Bc(a.name)]),i!==void 0&&this.cssRule(a.name,i)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Zt.style=Zt.css;Zt.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.name.match(/stripe-(\d+)-background-size/)&&r.value&&(this._private.hasStripe=!0),r.mapped&&this[n].mappedProperties.push(r);var a=!this[n].selector;a&&(this._private.coreStyle[r.name]=r)}return this};Zt.append=function(t){return dS(t)?t.appendToStyle(this):Ye(t)?this.appendFromJson(t):we(t)&&this.appendFromString(t),this};Nt.fromJson=function(t,e){var r=new Nt(t);return r.fromJson(e),r};Nt.fromString=function(t,e){return new Nt(t).fromString(e)};[Lt,il,Cg,un,Kc,Tg,yt,Yc].forEach(function(t){Se(Zt,t)});Nt.types=Zt.types;Nt.properties=Zt.properties;Nt.propertyGroups=Zt.propertyGroups;Nt.propertyGroupNames=Zt.propertyGroupNames;Nt.propertyGroupKeys=Zt.propertyGroupKeys;var VB={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return dS(e)?r.style=e.generateStyle(this):Ye(e)?r.style=Nt.fromJson(this,e):we(e)?r.style=Nt.fromString(this,e):r.style=Nt(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},_B="single",ai={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=_B),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,a,i,o,s;switch(e.length){case 0:return r;case 1:if(we(e[0]))return n=e[0],r[n];if(_e(e[0])){if(!this._private.panningEnabled)return this;i=e[0],o=i.x,s=i.y,oe(o)&&(r.x=o),oe(s)&&(r.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],a=e[1],(n==="x"||n==="y")&&oe(a)&&(r[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,a=this._private.pan,i,o,s,l,u;if(!this._private.panningEnabled)return this;switch(n.length){case 1:_e(e)&&(s=n[0],l=s.x,u=s.y,oe(l)&&(a.x+=l),oe(u)&&(a.y+=u),this.emit("pan viewport"));break;case 2:i=e,o=r,(i==="x"||i==="y")&&oe(o)&&(a[i]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(oe(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(we(e)){var a=e;e=this.$(a)}else if(AR(e)){var i=e;n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Sr(e)||(e=this.mutableElements());if(!(Sr(e)&&e.empty())){n=n||e.boundingBox();var o=this.width(),s=this.height(),l;if(r=oe(r)?r:0,!isNaN(o)&&!isNaN(s)&&o>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){l=Math.min((o-2*r)/n.w,(s-2*r)/n.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var u={x:(o-l*(n.x1+n.x2))/2,y:(s-l*(n.y1+n.y2))/2};return{zoom:l,pan:u}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var a=e;e=a.min,r=a.max}return oe(e)&&oe(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):oe(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:oe(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,a=r.zoom,i,o,s=!1;if(r.zoomingEnabled||(s=!0),oe(e)?o=e:_e(e)&&(o=e.level,e.position!=null?i=zc(e.position,a,n):e.renderedPosition!=null&&(i=e.renderedPosition),i!=null&&!r.panningEnabled&&(s=!0)),o=o>r.maxZoom?r.maxZoom:o,o=o<r.minZoom?r.minZoom:o,s||!oe(o)||o===a||i!=null&&(!oe(i.x)||!oe(i.y)))return null;if(i!=null){var l=n,u=a,c=o,f={x:-c/u*(i.x-l.x)+i.x,y:-c/u*(i.y-l.y)+i.y};return{zoomed:!0,panned:!0,zoom:c,pan:f}}else return{zoomed:!0,panned:!1,zoom:o,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,a=!0,i=[],o=!1,s=!1;if(!e)return this;if(oe(e.zoom)||(n=!1),_e(e.pan)||(a=!1),!n&&!a)return this;if(n){var l=e.zoom;l<r.minZoom||l>r.maxZoom||!r.zoomingEnabled?o=!0:(r.zoom=l,i.push("zoom"))}if(a&&(!o||!e.cancelOnFailedZoom)&&r.panningEnabled){var u=e.pan;oe(u.x)&&(r.pan.x=u.x,s=!1),oe(u.y)&&(r.pan.y=u.y,s=!1),s||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(we(e)){var n=e;e=this.mutableElements().filter(n)}else Sr(e)||(e=this.mutableElements());if(e.length!==0){var a=e.boundingBox(),i=this.width(),o=this.height();r=r===void 0?this._private.zoom:r;var s={x:(i-r*(a.x1+a.x2))/2,y:(o-r*(a.y1+a.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?function(){var a=n.window().getComputedStyle(r),i=function(s){return parseFloat(a.getPropertyValue(s))};return{width:r.clientWidth-i("padding-left")-i("padding-right"),height:r.clientHeight-i("padding-top")-i("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};ai.centre=ai.center;ai.autolockNodes=ai.autolock;ai.autoungrabifyNodes=ai.autoungrabify;var Vs={data:qe.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:qe.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:qe.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:qe.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Vs.attr=Vs.data;Vs.removeAttr=Vs.removeData;var _s=function(e){var r=this;e=Se({},e);var n=e.container;n&&!Qu(n)&&Qu(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var i=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=r;var o=St!==void 0&&n!==void 0&&!e.headless,s=e;s.layout=Se({name:o?"grid":"null"},s.layout),s.renderer=Se({name:o?"canvas":"null"},s.renderer);var l=function(v,y,w){return y!==void 0?y:w!==void 0?w:v},u=this._private={container:n,ready:!1,options:s,elements:new _t(this),listeners:[],aniEles:new _t(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,s.zoomingEnabled),userZoomingEnabled:l(!0,s.userZoomingEnabled),panningEnabled:l(!0,s.panningEnabled),userPanningEnabled:l(!0,s.userPanningEnabled),boxSelectionEnabled:l(!0,s.boxSelectionEnabled),autolock:l(!1,s.autolock,s.autolockNodes),autoungrabify:l(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:l(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?o:s.styleEnabled,zoom:oe(s.zoom)?s.zoom:1,pan:{x:_e(s.pan)&&oe(s.pan.x)?s.pan.x:0,y:_e(s.pan)&&oe(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var c=function(v,y){var w=v.some(DR);if(w)return mo.all(v).then(y);y(v)};u.styleEnabled&&r.setStyle([]);var f=Se({},s,s.renderer);r.initRenderer(f);var d=function(v,y,w){r.notifications(!1);var g=r.mutableElements();g.length>0&&g.remove(),v!=null&&(_e(v)||Ye(v))&&r.add(v),r.one("layoutready",function(m){r.notifications(!0),r.emit(m),r.one("load",y),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",w),r.emit("done")});var p=Se({},r._private.options.layout);p.eles=r.elements(),r.layout(p).run()};c([s.style,s.elements],function(h){var v=h[0],y=h[1];u.styleEnabled&&r.style().append(v),d(y,function(){r.startAnimationLoop(),u.ready=!0,lt(s.ready)&&r.on("ready",s.ready);for(var w=0;w<i.length;w++){var g=i[w];r.on("ready",g)}a&&(a.readies=[]),r.emit("ready")},s.done)})},ic=_s.prototype;Se(ic,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return St;var r=this._private.container.ownerDocument;return r===void 0||r==null?St:r.defaultView||St},mount:function(e){if(e!=null){var r=this,n=r._private,a=n.options;return!Qu(e)&&Qu(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Se({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),r.startAnimationLoop(),r.style(a.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return an(this._private.options)},json:function(e){var r=this,n=r._private,a=r.mutableElements(),i=function(x){return r.getElementById(x.id())};if(_e(e)){if(r.startBatch(),e.elements){var o={},s=function(x,E){for(var S=[],b=[],C=0;C<x.length;C++){var T=x[C];if(!T.data.id){We("cy.json() cannot handle elements without an ID attribute");continue}var P=""+T.data.id,k=r.getElementById(P);o[P]=!0,k.length!==0?b.push({ele:k,json:T}):(E&&(T.group=E),S.push(T))}r.add(S);for(var D=0;D<b.length;D++){var M=b[D],I=M.ele,B=M.json;I.json(B)}};if(Ye(e.elements))s(e.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var c=l[u],f=e.elements[c];Ye(f)&&s(f,c)}var d=r.collection();a.filter(function(m){return!o[m.id()]}).forEach(function(m){m.isParent()?d.merge(m):m.remove()}),d.forEach(function(m){return m.children().move({parent:null})}),d.forEach(function(m){return i(m).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var h=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],v=0;v<h.length;v++){var y=h[v];e[y]!=null&&r[y](e[y])}return r.endBatch(),this}else{var w=!!e,g={};w?g.elements=this.elements().map(function(m){return m.json()}):(g.elements={},a.forEach(function(m){var x=m.group();g.elements[x]||(g.elements[x]=[]),g.elements[x].push(m.json())})),this._private.styleEnabled&&(g.style=r.style().json()),g.data=an(r.data());var p=n.options;return g.zoomingEnabled=n.zoomingEnabled,g.userZoomingEnabled=n.userZoomingEnabled,g.zoom=n.zoom,g.minZoom=n.minZoom,g.maxZoom=n.maxZoom,g.panningEnabled=n.panningEnabled,g.userPanningEnabled=n.userPanningEnabled,g.pan=an(n.pan),g.boxSelectionEnabled=n.boxSelectionEnabled,g.renderer=an(p.renderer),g.hideEdgesOnViewport=p.hideEdgesOnViewport,g.textureOnViewport=p.textureOnViewport,g.wheelSensitivity=p.wheelSensitivity,g.motionBlur=p.motionBlur,g.multiClickDebounceTime=p.multiClickDebounceTime,g}}});ic.$id=ic.getElementById;[DB,LB,dC,Iv,hu,OB,Nv,vu,VB,ai,Vs].forEach(function(t){Se(ic,t)});var UB={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},HB={maximal:!1,acyclic:!1},yi=function(e){return e.scratch("breadthfirst")},Z1=function(e,r){return e.scratch("breadthfirst",r)};function hC(t){this.options=Se({},UB,HB,t)}hC.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=r.nodes().filter(function(be){return be.isChildless()}),a=r,i=t.directed,o=t.acyclic||t.maximal||t.maximalAdjustments>0,s=!!t.boundingBox,l=ir(s?t.boundingBox:structuredClone(e.extent())),u;if(Sr(t.roots))u=t.roots;else if(Ye(t.roots)){for(var c=[],f=0;f<t.roots.length;f++){var d=t.roots[f],h=e.getElementById(d);c.push(h)}u=e.collection(c)}else if(we(t.roots))u=e.$(t.roots);else if(i)u=n.roots();else{var v=r.components();u=e.collection();for(var y=function(){var le=v[w],me=le.maxDegree(!1),ye=le.filter(function(ke){return ke.degree(!1)===me});u=u.add(ye)},w=0;w<v.length;w++)y()}var g=[],p={},m=function(le,me){g[me]==null&&(g[me]=[]);var ye=g[me].length;g[me].push(le),Z1(le,{index:ye,depth:me})},x=function(le,me){var ye=yi(le),ke=ye.depth,xe=ye.index;g[ke][xe]=null,le.isChildless()&&m(le,me)};a.bfs({roots:u,directed:t.directed,visit:function(le,me,ye,ke,xe){var Me=le[0],Fe=Me.id();Me.isChildless()&&m(Me,xe),p[Fe]=!0}});for(var E=[],S=0;S<n.length;S++){var b=n[S];p[b.id()]||E.push(b)}var C=function(le){for(var me=g[le],ye=0;ye<me.length;ye++){var ke=me[ye];if(ke==null){me.splice(ye,1),ye--;continue}Z1(ke,{depth:le,index:ye})}},T=function(le,me){for(var ye=yi(le),ke=le.incomers().filter(function(Pe){return Pe.isNode()&&r.has(Pe)}),xe=-1,Me=le.id(),Fe=0;Fe<ke.length;Fe++){var He=ke[Fe],je=yi(He);xe=Math.max(xe,je.depth)}if(ye.depth<=xe){if(!t.acyclic&&me[Me])return null;var Ge=xe+1;return x(le,Ge),me[Me]=Ge,!0}return!1};if(i&&o){var P=[],k={},D=function(le){return P.push(le)},M=function(){return P.shift()};for(n.forEach(function(be){return P.push(be)});P.length>0;){var I=M(),B=T(I,k);if(B)I.outgoers().filter(function(be){return be.isNode()&&r.has(be)}).forEach(D);else if(B===null){We("Detected double maximal shift for node `"+I.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var L=0;if(t.avoidOverlap)for(var N=0;N<n.length;N++){var R=n[N],F=R.layoutDimensions(t),z=F.w,O=F.h;L=Math.max(L,z,O)}var V={},W=function(le){if(V[le.id()])return V[le.id()];for(var me=yi(le).depth,ye=le.neighborhood(),ke=0,xe=0,Me=0;Me<ye.length;Me++){var Fe=ye[Me];if(!(Fe.isEdge()||Fe.isParent()||!n.has(Fe))){var He=yi(Fe);if(He!=null){var je=He.index,Ge=He.depth;if(!(je==null||Ge==null)){var Pe=g[Ge].length;Ge<me&&(ke+=je/Pe,xe++)}}}}return xe=Math.max(1,xe),ke=ke/xe,xe===0&&(ke=0),V[le.id()]=ke,ke},Y=function(le,me){var ye=W(le),ke=W(me),xe=ye-ke;return xe===0?vS(le.id(),me.id()):xe};t.depthSort!==void 0&&(Y=t.depthSort);for(var $=g.length,X=0;X<$;X++)g[X].sort(Y),C(X);for(var te=[],se=0;se<E.length;se++)te.push(E[se]);var ee=function(){for(var le=0;le<$;le++)C(le)};te.length&&(g.unshift(te),$=g.length,ee());for(var _=0,U=0;U<$;U++)_=Math.max(g[U].length,_);var G={x:l.x1+l.w/2,y:l.y1+l.h/2},Q=n.reduce(function(be,le){return function(me){return{w:be.w===-1?me.w:(be.w+me.w)/2,h:be.h===-1?me.h:(be.h+me.h)/2}}(le.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),ie=Math.max($===1?0:s?(l.h-t.padding*2-Q.h)/($-1):(l.h-t.padding*2-Q.h)/($+1),L),ge=g.reduce(function(be,le){return Math.max(be,le.length)},0),Oe=function(le){var me=yi(le),ye=me.depth,ke=me.index;if(t.circle){var xe=Math.min(l.w/2/$,l.h/2/$);xe=Math.max(xe,L);var Me=xe*ye+xe-($>0&&g[0].length<=3?xe/2:0),Fe=2*Math.PI/g[ye].length*ke;return ye===0&&g[0].length===1&&(Me=1),{x:G.x+Me*Math.cos(Fe),y:G.y+Me*Math.sin(Fe)}}else{var He=g[ye].length,je=Math.max(He===1?0:s?(l.w-t.padding*2-Q.w)/((t.grid?ge:He)-1):(l.w-t.padding*2-Q.w)/((t.grid?ge:He)+1),L),Ge={x:G.x+(ke+1-(He+1)/2)*je,y:G.y+(ye+1-($+1)/2)*ie};return Ge}},Ae={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(Ae).indexOf(t.direction)===-1&&at("Invalid direction '".concat(t.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(Ae).join(", ")));var Ce=function(le){return aI(Oe(le),l,Ae[t.direction])};return r.nodes().layoutPositions(this,t,Ce),this};var jB={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function vC(t){this.options=Se({},jB,t)}vC.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));for(var o=ir(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=e.sweep===void 0?2*Math.PI-2*Math.PI/i.length:e.sweep,u=l/Math.max(1,i.length-1),c,f=0,d=0;d<i.length;d++){var h=i[d],v=h.layoutDimensions(e),y=v.w,w=v.h;f=Math.max(f,y,w)}if(oe(e.radius)?c=e.radius:i.length<=1?c=0:c=Math.min(o.h,o.w)/2-f,i.length>1&&e.avoidOverlap){f*=1.75;var g=Math.cos(u)-Math.cos(0),p=Math.sin(u)-Math.sin(0),m=Math.sqrt(f*f/(g*g+p*p));c=Math.max(m,c)}var x=function(S,b){var C=e.startAngle+b*u*(a?1:-1),T=c*Math.cos(C),P=c*Math.sin(C),k={x:s.x+T,y:s.y+P};return k};return n.nodes().layoutPositions(this,e,x),this};var GB={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function pC(t){this.options=Se({},GB,t)}pC.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,a=e.eles,i=a.nodes().not(":parent"),o=ir(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=[],u=0,c=0;c<i.length;c++){var f=i[c],d=void 0;d=e.concentric(f),l.push({value:d,node:f}),f._private.scratch.concentric=d}i.updateStyle();for(var h=0;h<i.length;h++){var v=i[h],y=v.layoutDimensions(e);u=Math.max(u,y.w,y.h)}l.sort(function(ie,ge){return ge.value-ie.value});for(var w=e.levelWidth(i),g=[[]],p=g[0],m=0;m<l.length;m++){var x=l[m];if(p.length>0){var E=Math.abs(p[0].value-x.value);E>=w&&(p=[],g.push(p))}p.push(x)}var S=u+e.minNodeSpacing;if(!e.avoidOverlap){var b=g.length>0&&g[0].length>1,C=Math.min(o.w,o.h)/2-S,T=C/(g.length+b?1:0);S=Math.min(S,T)}for(var P=0,k=0;k<g.length;k++){var D=g[k],M=e.sweep===void 0?2*Math.PI-2*Math.PI/D.length:e.sweep,I=D.dTheta=M/Math.max(1,D.length-1);if(D.length>1&&e.avoidOverlap){var B=Math.cos(I)-Math.cos(0),L=Math.sin(I)-Math.sin(0),N=Math.sqrt(S*S/(B*B+L*L));P=Math.max(N,P)}D.r=P,P+=S}if(e.equidistant){for(var R=0,F=0,z=0;z<g.length;z++){var O=g[z],V=O.r-F;R=Math.max(R,V)}F=0;for(var W=0;W<g.length;W++){var Y=g[W];W===0&&(F=Y.r),Y.r=F,F+=R}}for(var $={},X=0;X<g.length;X++)for(var te=g[X],se=te.dTheta,ee=te.r,_=0;_<te.length;_++){var U=te[_],G=e.startAngle+(r?1:-1)*se*_,Q={x:s.x+ee*Math.cos(G),y:s.y+ee*Math.sin(G)};$[U.node.id()]=Q}return a.nodes().layoutPositions(this,e,function(ie){var ge=ie.id();return $[ge]}),this};var lh,qB={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Xc(t){this.options=Se({},qB,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(a){var i=a.source().data("id"),o=a.target().data("id"),s=e.some(function(u){return u.data("id")===i}),l=e.some(function(u){return u.data("id")===o});return!s||!l});this.options.eles=this.options.eles.not(n)}Xc.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?lh=!0:lh=!1;var n=WB(e,r,t);lh&&KB(n),t.randomize&&YB(n);var a=Mn(),i=function(){XB(n,e,t),t.fit===!0&&e.fit(t.padding)},o=function(d){return!(r.stopped||d>=t.numIter||(ZB(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},s=function(){if(t.animate===!0||t.animate===!1)i(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var d=t.eles.nodes(),h=mC(n,t,d);d.layoutPositions(r,t,h)}},l=0,u=!0;if(t.animate===!0){var c=function(){for(var d=0;u&&d<t.refresh;)u=o(l),l++,d++;if(!u)J1(n,t),s();else{var h=Mn();h-a>=t.animationThreshold&&i(),Ju(c)}};c()}else{for(;u;)u=o(l),l++;J1(n,t),s()}return this};Xc.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Xc.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var WB=function(e,r,n){for(var a=n.eles.edges(),i=n.eles.nodes(),o=ir(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},l=n.eles.components(),u={},c=0;c<l.length;c++)for(var f=l[c],d=0;d<f.length;d++){var h=f[d];u[h.id()]=c}for(var c=0;c<s.nodeSize;c++){var v=i[c],y=v.layoutDimensions(n),w={};w.isLocked=v.locked(),w.id=v.data("id"),w.parentId=v.data("parent"),w.cmptId=u[v.id()],w.children=[],w.positionX=v.position("x"),w.positionY=v.position("y"),w.offsetX=0,w.offsetY=0,w.height=y.w,w.width=y.h,w.maxX=w.positionX+w.width/2,w.minX=w.positionX-w.width/2,w.maxY=w.positionY+w.height/2,w.minY=w.positionY-w.height/2,w.padLeft=parseFloat(v.style("padding")),w.padRight=parseFloat(v.style("padding")),w.padTop=parseFloat(v.style("padding")),w.padBottom=parseFloat(v.style("padding")),w.nodeRepulsion=lt(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,s.layoutNodes.push(w),s.idToIndex[w.id]=c}for(var g=[],p=0,m=-1,x=[],c=0;c<s.nodeSize;c++){var v=s.layoutNodes[c],E=v.parentId;E!=null?s.layoutNodes[s.idToIndex[E]].children.push(v.id):(g[++m]=v.id,x.push(v.id))}for(s.graphSet.push(x);p<=m;){var S=g[p++],b=s.idToIndex[S],h=s.layoutNodes[b],C=h.children;if(C.length>0){s.graphSet.push(C);for(var c=0;c<C.length;c++)g[++m]=C[c]}}for(var c=0;c<s.graphSet.length;c++)for(var T=s.graphSet[c],d=0;d<T.length;d++){var P=s.idToIndex[T[d]];s.indexToGraph[P]=c}for(var c=0;c<s.edgeSize;c++){var k=a[c],D={};D.id=k.data("id"),D.sourceId=k.data("source"),D.targetId=k.data("target");var M=lt(n.idealEdgeLength)?n.idealEdgeLength(k):n.idealEdgeLength,I=lt(n.edgeElasticity)?n.edgeElasticity(k):n.edgeElasticity,B=s.idToIndex[D.sourceId],L=s.idToIndex[D.targetId],N=s.indexToGraph[B],R=s.indexToGraph[L];if(N!=R){for(var F=$B(D.sourceId,D.targetId,s),z=s.graphSet[F],O=0,w=s.layoutNodes[B];z.indexOf(w.id)===-1;)w=s.layoutNodes[s.idToIndex[w.parentId]],O++;for(w=s.layoutNodes[L];z.indexOf(w.id)===-1;)w=s.layoutNodes[s.idToIndex[w.parentId]],O++;M*=O*n.nestingFactor}D.idealLength=M,D.elasticity=I,s.layoutEdges.push(D)}return s},$B=function(e,r,n){var a=gC(e,r,0,n);return 2>a.count?0:a.graph},gC=function(e,r,n,a){var i=a.graphSet[n];if(-1<i.indexOf(e)&&-1<i.indexOf(r))return{count:2,graph:n};for(var o=0,s=0;s<i.length;s++){var l=i[s],u=a.idToIndex[l],c=a.layoutNodes[u].children;if(c.length!==0){var f=a.indexToGraph[a.idToIndex[c[0]]],d=gC(e,r,f,a);if(d.count!==0)if(d.count===1){if(o++,o===2)break}else return d}}return{count:o,graph:n}},KB,YB=function(e,r){for(var n=e.clientWidth,a=e.clientHeight,i=0;i<e.nodeSize;i++){var o=e.layoutNodes[i];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*a)}},mC=function(e,r,n){var a=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(o){var s=e.layoutNodes[e.idToIndex[o.data("id")]];i.x1=Math.min(i.x1,s.positionX),i.x2=Math.max(i.x2,s.positionX),i.y1=Math.min(i.y1,s.positionY),i.y2=Math.max(i.y2,s.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(o,s){var l=e.layoutNodes[e.idToIndex[o.data("id")]];if(r.boundingBox){var u=i.w===0?.5:(l.positionX-i.x1)/i.w,c=i.h===0?.5:(l.positionY-i.y1)/i.h;return{x:a.x1+u*a.w,y:a.y1+c*a.h}}else return{x:l.positionX,y:l.positionY}}},XB=function(e,r,n){var a=n.layout,i=n.eles.nodes(),o=mC(e,n,i);i.positions(o),e.ready!==!0&&(e.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},ZB=function(e,r,n){QB(e,r),tO(e),rO(e,r),nO(e),aO(e)},QB=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var a=e.graphSet[n],i=a.length,o=0;o<i;o++)for(var s=e.layoutNodes[e.idToIndex[a[o]]],l=o+1;l<i;l++){var u=e.layoutNodes[e.idToIndex[a[l]]];JB(s,u,e,r)}},Q1=function(e){return-1+2*e*Math.random()},JB=function(e,r,n,a){var i=e.cmptId,o=r.cmptId;if(!(i!==o&&!n.isCompound)){var s=r.positionX-e.positionX,l=r.positionY-e.positionY,u=1;s===0&&l===0&&(s=Q1(u),l=Q1(u));var c=eO(e,r,s,l);if(c>0)var f=a.nodeOverlap*c,d=Math.sqrt(s*s+l*l),h=f*s/d,v=f*l/d;else var y=oc(e,s,l),w=oc(r,-1*s,-1*l),g=w.x-y.x,p=w.y-y.y,m=g*g+p*p,d=Math.sqrt(m),f=(e.nodeRepulsion+r.nodeRepulsion)/m,h=f*g/d,v=f*p/d;e.isLocked||(e.offsetX-=h,e.offsetY-=v),r.isLocked||(r.offsetX+=h,r.offsetY+=v)}},eO=function(e,r,n,a){if(n>0)var i=e.maxX-r.minX;else var i=r.maxX-e.minX;if(a>0)var o=e.maxY-r.minY;else var o=r.maxY-e.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},oc=function(e,r,n){var a=e.positionX,i=e.positionY,o=e.height||1,s=e.width||1,l=n/r,u=o/s,c={};return r===0&&0<n||r===0&&0>n?(c.x=a,c.y=i+o/2,c):0<r&&-1*u<=l&&l<=u?(c.x=a+s/2,c.y=i+s*n/2/r,c):0>r&&-1*u<=l&&l<=u?(c.x=a-s/2,c.y=i-s*n/2/r,c):0<n&&(l<=-1*u||l>=u)?(c.x=a+o*r/2/n,c.y=i+o/2,c):(0>n&&(l<=-1*u||l>=u)&&(c.x=a-o*r/2/n,c.y=i-o/2),c)},tO=function(e,r){for(var n=0;n<e.edgeSize;n++){var a=e.layoutEdges[n],i=e.idToIndex[a.sourceId],o=e.layoutNodes[i],s=e.idToIndex[a.targetId],l=e.layoutNodes[s],u=l.positionX-o.positionX,c=l.positionY-o.positionY;if(!(u===0&&c===0)){var f=oc(o,u,c),d=oc(l,-1*u,-1*c),h=d.x-f.x,v=d.y-f.y,y=Math.sqrt(h*h+v*v),w=Math.pow(a.idealLength-y,2)/a.elasticity;if(y!==0)var g=w*h/y,p=w*v/y;else var g=0,p=0;o.isLocked||(o.offsetX+=g,o.offsetY+=p),l.isLocked||(l.offsetX-=g,l.offsetY-=p)}}},rO=function(e,r){if(r.gravity!==0)for(var n=1,a=0;a<e.graphSet.length;a++){var i=e.graphSet[a],o=i.length;if(a===0)var s=e.clientHeight/2,l=e.clientWidth/2;else var u=e.layoutNodes[e.idToIndex[i[0]]],c=e.layoutNodes[e.idToIndex[u.parentId]],s=c.positionX,l=c.positionY;for(var f=0;f<o;f++){var d=e.layoutNodes[e.idToIndex[i[f]]];if(!d.isLocked){var h=s-d.positionX,v=l-d.positionY,y=Math.sqrt(h*h+v*v);if(y>n){var w=r.gravity*h/y,g=r.gravity*v/y;d.offsetX+=w,d.offsetY+=g}}}}},nO=function(e,r){var n=[],a=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;a<=i;){var o=n[a++],s=e.idToIndex[o],l=e.layoutNodes[s],u=l.children;if(0<u.length&&!l.isLocked){for(var c=l.offsetX,f=l.offsetY,d=0;d<u.length;d++){var h=e.layoutNodes[e.idToIndex[u[d]]];h.offsetX+=c,h.offsetY+=f,n[++i]=u[d]}l.offsetX=0,l.offsetY=0}}},aO=function(e,r){for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var i=iO(a.offsetX,a.offsetY,e.temperature);a.positionX+=i.x,a.positionY+=i.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,yC(a,e)}}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},iO=function(e,r,n){var a=Math.sqrt(e*e+r*r);if(a>n)var i={x:n*e/a,y:n*r/a};else var i={x:e,y:r};return i},yC=function(e,r){var n=e.parentId;if(n!=null){var a=r.layoutNodes[r.idToIndex[n]],i=!1;if((a.maxX==null||e.maxX+a.padRight>a.maxX)&&(a.maxX=e.maxX+a.padRight,i=!0),(a.minX==null||e.minX-a.padLeft<a.minX)&&(a.minX=e.minX-a.padLeft,i=!0),(a.maxY==null||e.maxY+a.padBottom>a.maxY)&&(a.maxY=e.maxY+a.padBottom,i=!0),(a.minY==null||e.minY-a.padTop<a.minY)&&(a.minY=e.minY-a.padTop,i=!0),i)return yC(a,r)}},J1=function(e,r){for(var n=e.layoutNodes,a=[],i=0;i<n.length;i++){var o=n[i],s=o.cmptId,l=a[s]=a[s]||[];l.push(o)}for(var u=0,i=0;i<a.length;i++){var c=a[i];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var f=0;f<c.length;f++){var d=c[f];c.x1=Math.min(c.x1,d.positionX-d.width/2),c.x2=Math.max(c.x2,d.positionX+d.width/2),c.y1=Math.min(c.y1,d.positionY-d.height/2),c.y2=Math.max(c.y2,d.positionY+d.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,u+=c.w*c.h}}a.sort(function(p,m){return m.w*m.h-p.w*p.h});for(var h=0,v=0,y=0,w=0,g=Math.sqrt(u)*e.clientWidth/e.clientHeight,i=0;i<a.length;i++){var c=a[i];if(c){for(var f=0;f<c.length;f++){var d=c[f];d.isLocked||(d.positionX+=h-c.x1,d.positionY+=v-c.y1)}h+=c.w+r.componentSpacing,y+=c.w+r.componentSpacing,w=Math.max(w,c.h),y>g&&(v+=w+r.componentSpacing,h=0,y=0,w=0)}}},oO={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function wC(t){this.options=Se({},oO,t)}wC.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));var i=ir(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(i.h===0||i.w===0)n.nodes().layoutPositions(this,e,function(W){return{x:i.x1,y:i.y1}});else{var o=a.size(),s=Math.sqrt(o*i.h/i.w),l=Math.round(s),u=Math.round(i.w/i.h*s),c=function(Y){if(Y==null)return Math.min(l,u);var $=Math.min(l,u);$==l?l=Y:u=Y},f=function(Y){if(Y==null)return Math.max(l,u);var $=Math.max(l,u);$==l?l=Y:u=Y},d=e.rows,h=e.cols!=null?e.cols:e.columns;if(d!=null&&h!=null)l=d,u=h;else if(d!=null&&h==null)l=d,u=Math.ceil(o/l);else if(d==null&&h!=null)u=h,l=Math.ceil(o/u);else if(u*l>o){var v=c(),y=f();(v-1)*y>=o?c(v-1):(y-1)*v>=o&&f(y-1)}else for(;u*l<o;){var w=c(),g=f();(g+1)*w>=o?f(g+1):c(w+1)}var p=i.w/u,m=i.h/l;if(e.condense&&(p=0,m=0),e.avoidOverlap)for(var x=0;x<a.length;x++){var E=a[x],S=E._private.position;(S.x==null||S.y==null)&&(S.x=0,S.y=0);var b=E.layoutDimensions(e),C=e.avoidOverlapPadding,T=b.w+C,P=b.h+C;p=Math.max(p,T),m=Math.max(m,P)}for(var k={},D=function(Y,$){return!!k["c-"+Y+"-"+$]},M=function(Y,$){k["c-"+Y+"-"+$]=!0},I=0,B=0,L=function(){B++,B>=u&&(B=0,I++)},N={},R=0;R<a.length;R++){var F=a[R],z=e.position(F);if(z&&(z.row!==void 0||z.col!==void 0)){var O={row:z.row,col:z.col};if(O.col===void 0)for(O.col=0;D(O.row,O.col);)O.col++;else if(O.row===void 0)for(O.row=0;D(O.row,O.col);)O.row++;N[F.id()]=O,M(O.row,O.col)}}var V=function(Y,$){var X,te;if(Y.locked()||Y.isParent())return!1;var se=N[Y.id()];if(se)X=se.col*p+p/2+i.x1,te=se.row*m+m/2+i.y1;else{for(;D(I,B);)L();X=B*p+p/2+i.x1,te=I*m+m/2+i.y1,M(I,B),L()}return{x:X,y:te}};a.layoutPositions(this,e,V)}return this};var sO={ready:function(){},stop:function(){}};function Pg(t){this.options=Se({},sO,t)}Pg.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};Pg.prototype.stop=function(){return this};var lO={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function xC(t){this.options=Se({},lO,t)}xC.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=lt(t.positions);function a(i){if(t.positions==null)return MI(i.position());if(n)return t.positions(i);var o=t.positions[i._private.data.id];return o??null}return r.layoutPositions(this,t,function(i,o){var s=a(i);return i.locked()||s==null?!1:s}),this};var uO={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function bC(t){this.options=Se({},uO,t)}bC.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=ir(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),a=function(o,s){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,a),this};var cO=[{name:"breadthfirst",impl:hC},{name:"circle",impl:vC},{name:"concentric",impl:pC},{name:"cose",impl:Xc},{name:"grid",impl:wC},{name:"null",impl:Pg},{name:"preset",impl:xC},{name:"random",impl:bC}];function EC(t){this.options=t,this.notifications=0}var ew=function(){},tw=function(){throw new Error("A headless instance can not render images")};EC.prototype={recalculateRenderedStyle:ew,notify:function(){this.notifications++},init:ew,isHeadless:function(){return!0},png:tw,jpg:tw};var kg={};kg.arrowShapeWidth=.3;kg.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(u,c,f,d,h,v,y){var w=h.x-f/2-y,g=h.x+f/2+y,p=h.y-f/2-y,m=h.y+f/2+y,x=w<=u&&u<=g&&p<=c&&c<=m;return x},n=function(u,c,f,d,h){var v=u*Math.cos(d)-c*Math.sin(d),y=u*Math.sin(d)+c*Math.cos(d),w=v*f,g=y*f,p=w+h.x,m=g+h.y;return{x:p,y:m}},a=function(u,c,f,d){for(var h=[],v=0;v<u.length;v+=2){var y=u[v],w=u[v+1];h.push(n(y,w,c,f,d))}return h},i=function(u){for(var c=[],f=0;f<u.length;f++){var d=u[f];c.push(d.x,d.y)}return c},o=function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},s=function(u,c){we(c)&&(c=t[c]),t[u]=Se({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(d,h,v,y,w,g){var p=i(a(this.points,v+2*g,y,w)),m=hr(d,h,p);return m},roughCollide:r,draw:function(d,h,v,y){var w=a(this.points,h,v,y);e.arrowShapeImpl("polygon")(d,w)},spacing:function(d){return 0},gap:o},c)};s("none",{collide:ec,roughCollide:ec,draw:dg,spacing:p0,gap:p0}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(u,c,f,d,h){var v=a(this.points,c,f,d),y=this.controlPoint,w=n(y[0],y[1],c,f,d);e.arrowShapeImpl(this.name)(u,v,w)},gap:function(u){return o(u)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(u,c,f,d,h,v,y){var w=i(a(this.points,f+2*y,d,h)),g=i(a(this.pointsTee,f+2*y,d,h)),p=hr(u,c,w)||hr(u,c,g);return p},draw:function(u,c,f,d,h){var v=a(this.points,c,f,d),y=a(this.pointsTee,c,f,d);e.arrowShapeImpl(this.name)(u,v,y)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(u,c,f,d,h,v,y){var w=h,g=Math.pow(w.x-u,2)+Math.pow(w.y-c,2)<=Math.pow((f+2*y)*this.radius,2),p=i(a(this.points,f+2*y,d,h));return hr(u,c,p)||g},draw:function(u,c,f,d,h){var v=a(this.pointsTr,c,f,d);e.arrowShapeImpl(this.name)(u,v,d.x,d.y,this.radius*c)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(u,c){var f=this.baseCrossLinePts.slice(),d=c/u,h=3,v=5;return f[h]=f[h]-d,f[v]=f[v]-d,f},collide:function(u,c,f,d,h,v,y){var w=i(a(this.points,f+2*y,d,h)),g=i(a(this.crossLinePts(f,v),f+2*y,d,h)),p=hr(u,c,w)||hr(u,c,g);return p},draw:function(u,c,f,d,h){var v=a(this.points,c,f,d),y=a(this.crossLinePts(c,h),c,f,d);e.arrowShapeImpl(this.name)(u,v,y)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(u){return o(u)*.525}}),s("circle",{radius:.15,collide:function(u,c,f,d,h,v,y){var w=h,g=Math.pow(w.x-u,2)+Math.pow(w.y-c,2)<=Math.pow((f+2*y)*this.radius,2);return g},draw:function(u,c,f,d,h){e.arrowShapeImpl(this.name)(u,d.x,d.y,this.radius*c)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(u){return 1},gap:function(u){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}})};var fi={};fi.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),a=n[0],i=n[1],o=n[4],s=r.pan(),l=r.zoom(),u=((t-a)/o-s.x)/l,c=((e-i)/o-s.y)/l;return[u,c]};fi.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(g){return parseFloat(r.getPropertyValue(g))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},i={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},o=t.clientWidth,s=t.clientHeight,l=a.left+a.right,u=a.top+a.bottom,c=i.left+i.right,f=e.width/(o+c),d=o-l,h=s-u,v=e.left+a.left+i.left,y=e.top+a.top+i.top;return this.containerBB=[v,y,d,h,f]};fi.invalidateContainerClientCoordsCache=function(){this.containerBB=null};fi.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};fi.findNearestElements=function(t,e,r,n){var a=this,i=this,o=i.getCachedZSortedEles(),s=[],l=i.cy.zoom(),u=i.cy.hasCompoundNodes(),c=(n?24:8)/l,f=(n?8:2)/l,d=(n?8:2)/l,h=1/0,v,y;r&&(o=o.interactive);function w(b,C){if(b.isNode()){if(y)return;y=b,s.push(b)}if(b.isEdge()&&(C==null||C<h))if(v){if(v.pstyle("z-compound-depth").value===b.pstyle("z-compound-depth").value&&v.pstyle("z-compound-depth").value===b.pstyle("z-compound-depth").value){for(var T=0;T<s.length;T++)if(s[T].isEdge()){s[T]=b,v=b,h=C??h;break}}}else s.push(b),v=b,h=C??h}function g(b){var C=b.outerWidth()+2*f,T=b.outerHeight()+2*f,P=C/2,k=T/2,D=b.position(),M=b.pstyle("corner-radius").value==="auto"?"auto":b.pstyle("corner-radius").pfValue,I=b._private.rscratch;if(D.x-P<=t&&t<=D.x+P&&D.y-k<=e&&e<=D.y+k){var B=i.nodeShapes[a.getNodeShape(b)];if(B.checkPoint(t,e,0,C,T,D.x,D.y,M,I))return w(b,0),!0}}function p(b){var C=b._private,T=C.rscratch,P=b.pstyle("width").pfValue,k=b.pstyle("arrow-scale").value,D=P/2+c,M=D*D,I=D*2,R=C.source,F=C.target,B;if(T.edgeType==="segments"||T.edgeType==="straight"||T.edgeType==="haystack"){for(var L=T.allpts,N=0;N+3<L.length;N+=2)if(GI(t,e,L[N],L[N+1],L[N+2],L[N+3],I)&&M>(B=YI(t,e,L[N],L[N+1],L[N+2],L[N+3])))return w(b,B),!0}else if(T.edgeType==="bezier"||T.edgeType==="multibezier"||T.edgeType==="self"||T.edgeType==="compound"){for(var L=T.allpts,N=0;N+5<T.allpts.length;N+=4)if(qI(t,e,L[N],L[N+1],L[N+2],L[N+3],L[N+4],L[N+5],I)&&M>(B=KI(t,e,L[N],L[N+1],L[N+2],L[N+3],L[N+4],L[N+5])))return w(b,B),!0}for(var R=R||C.source,F=F||C.target,z=a.getArrowWidth(P,k),O=[{name:"source",x:T.arrowStartX,y:T.arrowStartY,angle:T.srcArrowAngle},{name:"target",x:T.arrowEndX,y:T.arrowEndY,angle:T.tgtArrowAngle},{name:"mid-source",x:T.midX,y:T.midY,angle:T.midsrcArrowAngle},{name:"mid-target",x:T.midX,y:T.midY,angle:T.midtgtArrowAngle}],N=0;N<O.length;N++){var V=O[N],W=i.arrowShapes[b.pstyle(V.name+"-arrow-shape").value],Y=b.pstyle("width").pfValue;if(W.roughCollide(t,e,z,V.angle,{x:V.x,y:V.y},Y,c)&&W.collide(t,e,z,V.angle,{x:V.x,y:V.y},Y,c))return w(b),!0}u&&s.length>0&&(g(R),g(F))}function m(b,C,T){return dr(b,C,T)}function x(b,C){var T=b._private,P=d,k;C?k=C+"-":k="",b.boundingBox();var D=T.labelBounds[C||"main"],M=b.pstyle(k+"label").value,I=b.pstyle("text-events").strValue==="yes";if(!(!I||!M)){var B=m(T.rscratch,"labelX",C),L=m(T.rscratch,"labelY",C),N=m(T.rscratch,"labelAngle",C),R=b.pstyle(k+"text-margin-x").pfValue,F=b.pstyle(k+"text-margin-y").pfValue,z=D.x1-P-R,O=D.x2+P-R,V=D.y1-P-F,W=D.y2+P-F;if(N){var Y=Math.cos(N),$=Math.sin(N),X=function(Q,ie){return Q=Q-B,ie=ie-L,{x:Q*Y-ie*$+B,y:Q*$+ie*Y+L}},te=X(z,V),se=X(z,W),ee=X(O,V),_=X(O,W),U=[te.x+R,te.y+F,ee.x+R,ee.y+F,_.x+R,_.y+F,se.x+R,se.y+F];if(hr(t,e,U))return w(b),!0}else if(Yn(D,t,e))return w(b),!0}}for(var E=o.length-1;E>=0;E--){var S=o[E];S.isNode()?g(S)||x(S):p(S)||x(S)||x(S,"source")||x(S,"target")}return s};fi.getAllInBox=function(t,e,r,n){var a=this.getCachedZSortedEles().interactive,i=this.cy.zoom(),o=2/i,s=[],l=Math.min(t,r),u=Math.max(t,r),c=Math.min(e,n),f=Math.max(e,n);t=l,r=u,e=c,n=f;var d=ir({x1:t,y1:e,x2:r,y2:n}),h=[{x:d.x1,y:d.y1},{x:d.x2,y:d.y1},{x:d.x2,y:d.y2},{x:d.x1,y:d.y2}],v=[[h[0],h[1]],[h[1],h[2]],[h[2],h[3]],[h[3],h[0]]];function y(Q,ie,ge){return dr(Q,ie,ge)}function w(Q,ie){var ge=Q._private,Oe=o,Ae="";Q.boundingBox();var Ce=ge.labelBounds.main;if(!Ce)return null;var be=y(ge.rscratch,"labelX",ie),le=y(ge.rscratch,"labelY",ie),me=y(ge.rscratch,"labelAngle",ie),ye=Q.pstyle(Ae+"text-margin-x").pfValue,ke=Q.pstyle(Ae+"text-margin-y").pfValue,xe=Ce.x1-Oe-ye,Me=Ce.x2+Oe-ye,Fe=Ce.y1-Oe-ke,He=Ce.y2+Oe-ke;if(me){var je=Math.cos(me),Ge=Math.sin(me),Pe=function(Z,A){return Z=Z-be,A=A-le,{x:Z*je-A*Ge+be,y:Z*Ge+A*je+le}};return[Pe(xe,Fe),Pe(Me,Fe),Pe(Me,He),Pe(xe,He)]}else return[{x:xe,y:Fe},{x:Me,y:Fe},{x:Me,y:He},{x:xe,y:He}]}function g(Q,ie,ge,Oe){function Ae(Ce,be,le){return(le.y-Ce.y)*(be.x-Ce.x)>(be.y-Ce.y)*(le.x-Ce.x)}return Ae(Q,ge,Oe)!==Ae(ie,ge,Oe)&&Ae(Q,ie,ge)!==Ae(Q,ie,Oe)}for(var p=0;p<a.length;p++){var m=a[p];if(m.isNode()){var x=m,E=x.pstyle("text-events").strValue==="yes",S=x.pstyle("box-selection").strValue,b=x.pstyle("box-select-labels").strValue==="yes";if(S==="none")continue;var C=(S==="overlap"||b)&&E,T=x.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:C});if(S==="contain"){var P=!1;if(b&&E){var k=w(x);k&&od(k,h)&&(s.push(x),P=!0)}!P&&DS(d,T)&&s.push(x)}else if(S==="overlap"&&gg(d,T)){var D=x.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),M=[{x:D.x1,y:D.y1},{x:D.x2,y:D.y1},{x:D.x2,y:D.y2},{x:D.x1,y:D.y2}];if(od(M,h))s.push(x);else{var I=w(x);I&&od(I,h)&&s.push(x)}}}else{var B=m,L=B._private,N=L.rscratch,R=B.pstyle("box-selection").strValue;if(R==="none")continue;if(R==="contain"){if(N.startX!=null&&N.startY!=null&&!Yn(d,N.startX,N.startY)||N.endX!=null&&N.endY!=null&&!Yn(d,N.endX,N.endY))continue;if(N.edgeType==="bezier"||N.edgeType==="multibezier"||N.edgeType==="self"||N.edgeType==="compound"||N.edgeType==="segments"||N.edgeType==="haystack"){for(var F=L.rstyle.bezierPts||L.rstyle.linePts||L.rstyle.haystackPts,z=!0,O=0;O<F.length;O++)if(!x0(d,F[O])){z=!1;break}z&&s.push(B)}else N.edgeType==="straight"&&s.push(B)}else if(R==="overlap"){var V=!1;if(N.startX!=null&&N.startY!=null&&N.endX!=null&&N.endY!=null&&(Yn(d,N.startX,N.startY)||Yn(d,N.endX,N.endY)))s.push(B),V=!0;else if(!V&&N.edgeType==="haystack"){for(var W=L.rstyle.haystackPts,Y=0;Y<W.length;Y++)if(x0(d,W[Y])){s.push(B),V=!0;break}}if(!V){var $=L.rstyle.bezierPts||L.rstyle.linePts||L.rstyle.haystackPts;if((!$||$.length<2)&&N.edgeType==="straight"&&N.startX!=null&&N.startY!=null&&N.endX!=null&&N.endY!=null&&($=[{x:N.startX,y:N.startY},{x:N.endX,y:N.endY}]),!$||$.length<2)continue;for(var X=0;X<$.length-1;X++){for(var te=$[X],se=$[X+1],ee=0;ee<v.length;ee++){var _=wt(v[ee],2),U=_[0],G=_[1];if(g(te,se,U,G)){s.push(B),V=!0;break}}if(V)break}}}}}return s};var sc={};sc.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",a=e.edgeType==="multibezier",i=e.edgeType==="segments",o=e.edgeType==="compound",s=e.edgeType==="self",l,u,c,f,d,h,g,p;if(r?(c=e.haystackPts[0],f=e.haystackPts[1],d=e.haystackPts[2],h=e.haystackPts[3]):(c=e.arrowStartX,f=e.arrowStartY,d=e.arrowEndX,h=e.arrowEndY),g=e.midX,p=e.midY,i)l=c-e.segpts[0],u=f-e.segpts[1];else if(a||o||s||n){var v=e.allpts,y=Mt(v[0],v[2],v[4],.1),w=Mt(v[1],v[3],v[5],.1);l=c-y,u=f-w}else l=c-g,u=f-p;e.srcArrowAngle=Ll(l,u);var g=e.midX,p=e.midY;if(r&&(g=(c+d)/2,p=(f+h)/2),l=d-c,u=h-f,i){var v=e.allpts;if(v.length/2%2===0){var m=v.length/2,x=m-2;l=v[m]-v[x],u=v[m+1]-v[x+1]}else if(e.isRound)l=e.midVector[1],u=-e.midVector[0];else{var m=v.length/2-1,x=m-2;l=v[m]-v[x],u=v[m+1]-v[x+1]}}else if(a||o||s){var v=e.allpts,E=e.ctrlpts,S,b,C,T;if(E.length/2%2===0){var P=v.length/2-1,k=P+2,D=k+2;S=Mt(v[P],v[k],v[D],0),b=Mt(v[P+1],v[k+1],v[D+1],0),C=Mt(v[P],v[k],v[D],1e-4),T=Mt(v[P+1],v[k+1],v[D+1],1e-4)}else{var k=v.length/2-1,P=k-2,D=k+2;S=Mt(v[P],v[k],v[D],.4999),b=Mt(v[P+1],v[k+1],v[D+1],.4999),C=Mt(v[P],v[k],v[D],.5),T=Mt(v[P+1],v[k+1],v[D+1],.5)}l=C-S,u=T-b}if(e.midtgtArrowAngle=Ll(l,u),e.midDispX=l,e.midDispY=u,l*=-1,u*=-1,i){var v=e.allpts;if(v.length/2%2!==0){if(!e.isRound){var m=v.length/2-1,M=m+2;l=-(v[M]-v[m]),u=-(v[M+1]-v[m+1])}}}if(e.midsrcArrowAngle=Ll(l,u),i)l=d-e.segpts[e.segpts.length-2],u=h-e.segpts[e.segpts.length-1];else if(a||o||s||n){var v=e.allpts,I=v.length,y=Mt(v[I-6],v[I-4],v[I-2],.9),w=Mt(v[I-5],v[I-3],v[I-1],.9);l=d-y,u=h-w}else l=d-g,u=h-p;e.tgtArrowAngle=Ll(l,u)};sc.getArrowWidth=sc.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var Lv,Bv,tn={},Mr={},rw,nw,Ua,pu,vn,Da,za,Jr,wi,Hl,SC,CC,Ov,Fv,aw,iw=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},fO=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},dO=function(e,r,n,a,i){if(e!==aw?iw(r,e,tn):fO(Mr,tn),iw(r,n,Mr),rw=tn.nx*Mr.ny-tn.ny*Mr.nx,nw=tn.nx*Mr.nx-tn.ny*-Mr.ny,vn=Math.asin(Math.max(-1,Math.min(1,rw))),Math.abs(vn)<1e-6){Lv=r.x,Bv=r.y,za=wi=0;return}Ua=1,pu=!1,nw<0?vn<0?vn=Math.PI+vn:(vn=Math.PI-vn,Ua=-1,pu=!0):vn>0&&(Ua=-1,pu=!0),r.radius!==void 0?wi=r.radius:wi=a,Da=vn/2,Hl=Math.min(tn.len/2,Mr.len/2),i?(Jr=Math.abs(Math.cos(Da)*wi/Math.sin(Da)),Jr>Hl?(Jr=Hl,za=Math.abs(Jr*Math.sin(Da)/Math.cos(Da))):za=wi):(Jr=Math.min(Hl,wi),za=Math.abs(Jr*Math.sin(Da)/Math.cos(Da))),Ov=r.x+Mr.nx*Jr,Fv=r.y+Mr.ny*Jr,Lv=Ov-Mr.ny*za*Ua,Bv=Fv+Mr.nx*za*Ua,SC=r.x+tn.nx*Jr,CC=r.y+tn.ny*Jr,aw=r};function TC(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function Ag(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(dO(t,e,r,n,a),{cx:Lv,cy:Bv,radius:za,startX:SC,startY:CC,stopX:Ov,stopY:Fv,startAngle:tn.ang+Math.PI/2*Ua,endAngle:Mr.ang-Math.PI/2*Ua,counterClockwise:pu})}var Us=.01,hO=Math.sqrt(2*Us),Jt={};Jt.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,a=e.vectorNormInverse,i,o=t.pstyle("source-endpoint"),s=t.pstyle("target-endpoint"),l=o.units!=null&&s.units!=null,u=function(E,S,b,C){var T=C-S,P=b-E,k=Math.sqrt(P*P+T*T);return{x:-T/k,y:P/k}},c=t.pstyle("edge-distances").value;switch(c){case"node-position":i=r;break;case"intersection":i=n;break;case"endpoints":{if(l){var f=this.manualEndptToPx(t.source()[0],o),d=wt(f,2),h=d[0],v=d[1],y=this.manualEndptToPx(t.target()[0],s),w=wt(y,2),g=w[0],p=w[1],m={x1:h,y1:v,x2:g,y2:p};a=u(h,v,g,p),i=m}else We("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),i=n;break}}return{midptPts:i,vectorNormInverse:a}};Jt.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,a=n.rscratch;if(!a.haystack){var i=Math.random()*2*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=Math.random()*2*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var o=n.source,s=n.target,l=o.position(),u=s.position(),c=o.width(),f=s.width(),d=o.height(),h=s.height(),v=r.pstyle("haystack-radius").value,y=v/2;a.haystackPts=a.allpts=[a.source.x*c*y+l.x,a.source.y*d*y+l.y,a.target.x*f*y+u.x,a.target.y*h*y+u.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};Jt.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),a=t.pstyle("segment-distances"),i=t.pstyle("segment-radii"),o=t.pstyle("radius-type"),s=Math.min(n.pfValue.length,a.pfValue.length),l=i.pfValue[i.pfValue.length-1],u=o.pfValue[o.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var c=0;c<s;c++){var f=n.pfValue[c],d=a.pfValue[c],h=1-f,v=f,y=this.findMidptPtsEtc(t,e),w=y.midptPts,g=y.vectorNormInverse,p={x:w.x1*h+w.x2*v,y:w.y1*h+w.y2*v};r.segpts.push(p.x+g.x*d,p.y+g.y*d),r.radii.push(i.pfValue[c]!==void 0?i.pfValue[c]:l),r.isArcRadius.push((o.pfValue[c]!==void 0?o.pfValue[c]:u)==="arc-radius")}};Jt.findLoopPoints=function(t,e,r,n){var a=t._private.rscratch,i=e.dirCounts,o=e.srcPos,s=t.pstyle("control-point-distances"),l=s?s.pfValue[0]:void 0,u=t.pstyle("loop-direction").pfValue,c=t.pstyle("loop-sweep").pfValue,f=t.pstyle("control-point-step-size").pfValue;a.edgeType="self";var d=r,h=f;n&&(d=0,h=l);var v=u-Math.PI/2,y=v-c/2,w=v+c/2,g=u+"_"+c;d=i[g]===void 0?i[g]=0:++i[g],a.ctrlpts=[o.x+Math.cos(y)*1.4*h*(d/3+1),o.y+Math.sin(y)*1.4*h*(d/3+1),o.x+Math.cos(w)*1.4*h*(d/3+1),o.y+Math.sin(w)*1.4*h*(d/3+1)]};Jt.findCompoundLoopPoints=function(t,e,r,n){var a=t._private.rscratch;a.edgeType="compound";var i=e.srcPos,o=e.tgtPos,s=e.srcW,l=e.srcH,u=e.tgtW,c=e.tgtH,f=t.pstyle("control-point-step-size").pfValue,d=t.pstyle("control-point-distances"),h=d?d.pfValue[0]:void 0,v=r,y=f;n&&(v=0,y=h);var w=50,g={x:i.x-s/2,y:i.y-l/2},p={x:o.x-u/2,y:o.y-c/2},m={x:Math.min(g.x,p.x),y:Math.min(g.y,p.y)},x=.5,E=Math.max(x,Math.log(s*Us)),S=Math.max(x,Math.log(u*Us));a.ctrlpts=[m.x,m.y-(1+Math.pow(w,1.12)/100)*y*(v/3+1)*E,m.x-(1+Math.pow(w,1.12)/100)*y*(v/3+1)*S,m.y]};Jt.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};Jt.findBezierPoints=function(t,e,r,n,a){var i=t._private.rscratch,o=t.pstyle("control-point-step-size").pfValue,s=t.pstyle("control-point-distances"),l=t.pstyle("control-point-weights"),u=s&&l?Math.min(s.value.length,l.value.length):1,c=s?s.pfValue[0]:void 0,f=l.value[0],d=n;i.edgeType=d?"multibezier":"bezier",i.ctrlpts=[];for(var h=0;h<u;h++){var v=(.5-e.eles.length/2+r)*o*(a?-1:1),y=void 0,w=pg(v);d&&(c=s?s.pfValue[h]:o,f=l.value[h]),n?y=c:y=c!==void 0?w*c:void 0;var g=y!==void 0?y:v,p=1-f,m=f,x=this.findMidptPtsEtc(t,e),E=x.midptPts,S=x.vectorNormInverse,b={x:E.x1*p+E.x2*m,y:E.y1*p+E.y2*m};i.ctrlpts.push(b.x+S.x*g,b.y+S.y*g)}};Jt.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",a="horizontal",i="leftward",o="rightward",s="downward",l="upward",u="auto",c=e.posPts,f=e.srcW,d=e.srcH,h=e.tgtW,v=e.tgtH,y=t.pstyle("edge-distances").value,w=y!=="node-position",g=t.pstyle("taxi-direction").value,p=g,m=t.pstyle("taxi-turn"),x=m.units==="%",E=m.pfValue,S=E<0,b=t.pstyle("taxi-turn-min-distance").pfValue,C=w?(f+h)/2:0,T=w?(d+v)/2:0,P=c.x2-c.x1,k=c.y2-c.y1,D=function(A,H){return A>0?Math.max(A-H,0):Math.min(A+H,0)},M=D(P,C),I=D(k,T),B=!1;p===u?g=Math.abs(M)>Math.abs(I)?a:n:p===l||p===s?(g=n,B=!0):(p===i||p===o)&&(g=a,B=!0);var L=g===n,N=L?I:M,R=L?k:P,F=pg(R),z=!1;!(B&&(x||S))&&(p===s&&R<0||p===l&&R>0||p===i&&R>0||p===o&&R<0)&&(F*=-1,N=F*Math.abs(N),z=!0);var O;if(x){var V=E<0?1+E:E;O=V*N}else{var W=E<0?N:0;O=W+E*F}var Y=function(A){return Math.abs(A)<b||Math.abs(A)>=Math.abs(N)},$=Y(O),X=Y(Math.abs(N)-Math.abs(O)),te=$||X;if(te&&!z)if(L){var se=Math.abs(R)<=d/2,ee=Math.abs(P)<=h/2;if(se){var _=(c.x1+c.x2)/2,U=c.y1,G=c.y2;r.segpts=[_,U,_,G]}else if(ee){var Q=(c.y1+c.y2)/2,ie=c.x1,ge=c.x2;r.segpts=[ie,Q,ge,Q]}else r.segpts=[c.x1,c.y2]}else{var Oe=Math.abs(R)<=f/2,Ae=Math.abs(k)<=v/2;if(Oe){var Ce=(c.y1+c.y2)/2,be=c.x1,le=c.x2;r.segpts=[be,Ce,le,Ce]}else if(Ae){var me=(c.x1+c.x2)/2,ye=c.y1,ke=c.y2;r.segpts=[me,ye,me,ke]}else r.segpts=[c.x2,c.y1]}else if(L){var xe=c.y1+O+(w?d/2*F:0),Me=c.x1,Fe=c.x2;r.segpts=[Me,xe,Fe,xe]}else{var He=c.x1+O+(w?f/2*F:0),je=c.y1,Ge=c.y2;r.segpts=[He,je,He,Ge]}if(r.isRound){var Pe=t.pstyle("taxi-radius").value,de=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(Pe),r.isArcRadius=new Array(r.segpts.length/2).fill(de)}};Jt.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,a=e.tgtPos,i=e.srcW,o=e.srcH,s=e.tgtW,l=e.tgtH,u=e.srcShape,c=e.tgtShape,f=e.srcCornerRadius,d=e.tgtCornerRadius,h=e.srcRs,v=e.tgtRs,y=!oe(r.startX)||!oe(r.startY),w=!oe(r.arrowStartX)||!oe(r.arrowStartY),g=!oe(r.endX)||!oe(r.endY),p=!oe(r.arrowEndX)||!oe(r.arrowEndY),m=3,x=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,E=m*x,S=ri({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),b=S<E,C=ri({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),T=C<E,P=!1;if(y||w||b){P=!0;var k={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},D=Math.sqrt(k.x*k.x+k.y*k.y),M={x:k.x/D,y:k.y/D},I=Math.max(i,o),B={x:r.ctrlpts[0]+M.x*2*I,y:r.ctrlpts[1]+M.y*2*I},L=u.intersectLine(n.x,n.y,i,o,B.x,B.y,0,f,h);b?(r.ctrlpts[0]=r.ctrlpts[0]+M.x*(E-S),r.ctrlpts[1]=r.ctrlpts[1]+M.y*(E-S)):(r.ctrlpts[0]=L[0]+M.x*E,r.ctrlpts[1]=L[1]+M.y*E)}if(g||p||T){P=!0;var N={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},R=Math.sqrt(N.x*N.x+N.y*N.y),F={x:N.x/R,y:N.y/R},z=Math.max(i,o),O={x:r.ctrlpts[0]+F.x*2*z,y:r.ctrlpts[1]+F.y*2*z},V=c.intersectLine(a.x,a.y,s,l,O.x,O.y,0,d,v);T?(r.ctrlpts[0]=r.ctrlpts[0]+F.x*(E-C),r.ctrlpts[1]=r.ctrlpts[1]+F.y*(E-C)):(r.ctrlpts[0]=V[0]+F.x*E,r.ctrlpts[1]=V[1]+F.y*E)}P&&this.findEndpoints(t)}};Jt.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,a;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,a=.5,e.midX=Mt(e.allpts[n],e.allpts[n+2],e.allpts[n+4],a),e.midY=Mt(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],a))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var i=2;i+3<e.allpts.length;i+=2){var o=e.radii[i/2-1],s=e.isArcRadius[i/2-1];e.roundCorners.push(Ag({x:e.allpts[i-2],y:e.allpts[i-1]},{x:e.allpts[i],y:e.allpts[i+1],radius:o},{x:e.allpts[i+2],y:e.allpts[i+3]},o,s))}}if(e.segpts.length%4===0){var l=e.segpts.length/2,u=l-2;e.midX=(e.segpts[u]+e.segpts[l])/2,e.midY=(e.segpts[u+1]+e.segpts[l+1])/2}else{var c=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[c],e.midY=e.segpts[c+1];else{var f={x:e.segpts[c],y:e.segpts[c+1]},d=e.roundCorners[c/2];if(d.radius===0){var h={x:e.segpts[c+2],y:e.segpts[c+3]};e.midX=f.x,e.midY=f.y,e.midVector=[f.y-h.y,h.x-f.x]}else{var v=[f.x-d.cx,f.y-d.cy],y=d.radius/Math.sqrt(Math.pow(v[0],2)+Math.pow(v[1],2));v=v.map(function(w){return w*y}),e.midX=d.cx+v[0],e.midY=d.cy+v[1],e.midVector=v}}}}};Jt.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||oe(e.startX)&&oe(e.startY)&&oe(e.endX)&&oe(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,We("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Jt.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,a=n.hasCompoundNodes(),i=new bn,o=function(T,P){return[].concat(Zu(T),[P?1:0]).join("-")},s=[],l=[],u=0;u<t.length;u++){var c=t[u],f=c._private,d=c.pstyle("curve-style").value;if(!(c.removed()||!c.takesUpSpace())){if(d==="haystack"){l.push(c);continue}var h=d==="unbundled-bezier"||Kn(d,"segments")||d==="straight"||d==="straight-triangle"||Kn(d,"taxi"),v=d==="unbundled-bezier"||d==="bezier",y=f.source,w=f.target,g=y.poolIndex(),p=w.poolIndex(),m=[g,p].sort(),x=o(m,h),E=i.get(x);E==null&&(E={eles:[]},s.push({pairId:m,edgeIsUnbundled:h}),i.set(x,E)),E.eles.push(c),h&&(E.hasUnbundled=!0),v&&(E.hasBezier=!0)}}for(var S=function(){var T=s[b],P=T.pairId,k=T.edgeIsUnbundled,D=o(P,k),M=i.get(D),I;if(!M.hasUnbundled){var B=M.eles[0].parallelEdges().filter(function(de){return de.isBundledBezier()});hg(M.eles),B.forEach(function(de){return M.eles.push(de)}),M.eles.sort(function(de,Z){return de.poolIndex()-Z.poolIndex()})}var L=M.eles[0],N=L.source(),R=L.target();if(N.poolIndex()>R.poolIndex()){var F=N;N=R,R=F}var z=M.srcPos=N.position(),O=M.tgtPos=R.position(),V=M.srcW=N.outerWidth(),W=M.srcH=N.outerHeight(),Y=M.tgtW=R.outerWidth(),$=M.tgtH=R.outerHeight(),X=M.srcShape=r.nodeShapes[e.getNodeShape(N)],te=M.tgtShape=r.nodeShapes[e.getNodeShape(R)],se=M.srcCornerRadius=N.pstyle("corner-radius").value==="auto"?"auto":N.pstyle("corner-radius").pfValue,ee=M.tgtCornerRadius=R.pstyle("corner-radius").value==="auto"?"auto":R.pstyle("corner-radius").pfValue,_=M.tgtRs=R._private.rscratch,U=M.srcRs=N._private.rscratch;M.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var G=0;G<M.eles.length;G++){var Q=M.eles[G],ie=Q[0]._private.rscratch,ge=Q.pstyle("curve-style").value,Oe=ge==="unbundled-bezier"||Kn(ge,"segments")||Kn(ge,"taxi"),Ae=!N.same(Q.source());if(!M.calculatedIntersection&&N!==R&&(M.hasBezier||M.hasUnbundled)){M.calculatedIntersection=!0;var Ce=X.intersectLine(z.x,z.y,V,W,O.x,O.y,0,se,U),be=M.srcIntn=Ce,le=te.intersectLine(O.x,O.y,Y,$,z.x,z.y,0,ee,_),me=M.tgtIntn=le,ye=M.intersectionPts={x1:Ce[0],x2:le[0],y1:Ce[1],y2:le[1]},ke=M.posPts={x1:z.x,x2:O.x,y1:z.y,y2:O.y},xe=le[1]-Ce[1],Me=le[0]-Ce[0],Fe=Math.sqrt(Me*Me+xe*xe);oe(Fe)&&Fe>=hO||(Fe=Math.sqrt(Math.max(Me*Me,Us)+Math.max(xe*xe,Us)));var He=M.vector={x:Me,y:xe},je=M.vectorNorm={x:He.x/Fe,y:He.y/Fe},Ge={x:-je.y,y:je.x};M.nodesOverlap=!oe(Fe)||te.checkPoint(Ce[0],Ce[1],0,Y,$,O.x,O.y,ee,_)||X.checkPoint(le[0],le[1],0,V,W,z.x,z.y,se,U),M.vectorNormInverse=Ge,I={nodesOverlap:M.nodesOverlap,dirCounts:M.dirCounts,calculatedIntersection:!0,hasBezier:M.hasBezier,hasUnbundled:M.hasUnbundled,eles:M.eles,srcPos:O,srcRs:_,tgtPos:z,tgtRs:U,srcW:Y,srcH:$,tgtW:V,tgtH:W,srcIntn:me,tgtIntn:be,srcShape:te,tgtShape:X,posPts:{x1:ke.x2,y1:ke.y2,x2:ke.x1,y2:ke.y1},intersectionPts:{x1:ye.x2,y1:ye.y2,x2:ye.x1,y2:ye.y1},vector:{x:-He.x,y:-He.y},vectorNorm:{x:-je.x,y:-je.y},vectorNormInverse:{x:-Ge.x,y:-Ge.y}}}var Pe=Ae?I:M;ie.nodesOverlap=Pe.nodesOverlap,ie.srcIntn=Pe.srcIntn,ie.tgtIntn=Pe.tgtIntn,ie.isRound=ge.startsWith("round"),a&&(N.isParent()||N.isChild()||R.isParent()||R.isChild())&&(N.parents().anySame(R)||R.parents().anySame(N)||N.same(R)&&N.isParent())?e.findCompoundLoopPoints(Q,Pe,G,Oe):N===R?e.findLoopPoints(Q,Pe,G,Oe):ge.endsWith("segments")?e.findSegmentsPoints(Q,Pe):ge.endsWith("taxi")?e.findTaxiPoints(Q,Pe):ge==="straight"||!Oe&&M.eles.length%2===1&&G===Math.floor(M.eles.length/2)?e.findStraightEdgePoints(Q):e.findBezierPoints(Q,Pe,G,Oe,Ae),e.findEndpoints(Q),e.tryToCorrectInvalidPoints(Q,Pe),e.checkForInvalidEdgeWarning(Q),e.storeAllpts(Q),e.storeEdgeProjections(Q),e.calculateArrowAngles(Q),e.recalculateEdgeLabelProjections(Q),e.calculateLabelAngles(Q)}},b=0;b<s.length;b++)S();this.findHaystackPoints(l)}};function PC(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],a=t[r+1];e.push({x:n,y:a})}return e}}Jt.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="segments")return PC(e.segpts)};Jt.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return PC(e.ctrlpts)};Jt.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var ol={};ol.manualEndptToPx=function(t,e){var r=this,n=t.position(),a=t.outerWidth(),i=t.outerHeight(),o=t._private.rscratch;if(e.value.length===2){var s=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(s[0]=s[0]*a),e.units[1]==="%"&&(s[1]=s[1]*i),s[0]+=n.x,s[1]+=n.y,s}else{var l=e.pfValue[0];l=-Math.PI/2+l;var u=2*Math.max(a,i),c=[n.x+Math.cos(l)*u,n.y+Math.sin(l)*u];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,a,i,c[0],c[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,o)}};ol.findEndpoints=function(t){var e,r,n,a,i=this,o,s=t.source()[0],l=t.target()[0],u=s.position(),c=l.position(),f=t.pstyle("target-arrow-shape").value,d=t.pstyle("source-arrow-shape").value,h=t.pstyle("target-distance-from-node").pfValue,v=t.pstyle("source-distance-from-node").pfValue,y=s._private.rscratch,w=l._private.rscratch,g=t.pstyle("curve-style").value,p=t._private.rscratch,m=p.edgeType,x=Kn(g,"taxi"),E=m==="self"||m==="compound",S=m==="bezier"||m==="multibezier"||E,b=m!=="bezier",C=m==="straight"||m==="segments",T=m==="segments",P=S||b||C,k=E||x,D=t.pstyle("source-endpoint"),M=k?"outside-to-node":D.value,I=s.pstyle("corner-radius").value==="auto"?"auto":s.pstyle("corner-radius").pfValue,B=t.pstyle("target-endpoint"),L=k?"outside-to-node":B.value,N=l.pstyle("corner-radius").value==="auto"?"auto":l.pstyle("corner-radius").pfValue;p.srcManEndpt=D,p.tgtManEndpt=B;var R,F,z,O,V=(e=(B==null||(r=B.pfValue)===null||r===void 0?void 0:r.length)===2?B.pfValue:null)!==null&&e!==void 0?e:[0,0],W=(n=(D==null||(a=D.pfValue)===null||a===void 0?void 0:a.length)===2?D.pfValue:null)!==null&&n!==void 0?n:[0,0];if(S){var Y=[p.ctrlpts[0],p.ctrlpts[1]],$=b?[p.ctrlpts[p.ctrlpts.length-2],p.ctrlpts[p.ctrlpts.length-1]]:Y;R=$,F=Y}else if(C){var X=T?p.segpts.slice(0,2):[c.x+V[0],c.y+V[1]],te=T?p.segpts.slice(p.segpts.length-2):[u.x+W[0],u.y+W[1]];R=te,F=X}if(L==="inside-to-node")o=[c.x,c.y];else if(B.units)o=this.manualEndptToPx(l,B);else if(L==="outside-to-line")o=p.tgtIntn;else if(L==="outside-to-node"||L==="outside-to-node-or-label"?z=R:(L==="outside-to-line"||L==="outside-to-line-or-label")&&(z=[u.x,u.y]),o=i.nodeShapes[this.getNodeShape(l)].intersectLine(c.x,c.y,l.outerWidth(),l.outerHeight(),z[0],z[1],0,N,w),L==="outside-to-node-or-label"||L==="outside-to-line-or-label"){var se=l._private.rscratch,ee=se.labelWidth,_=se.labelHeight,U=se.labelX,G=se.labelY,Q=ee/2,ie=_/2,ge=l.pstyle("text-valign").value;ge==="top"?G-=ie:ge==="bottom"&&(G+=ie);var Oe=l.pstyle("text-halign").value;Oe==="left"?U-=Q:Oe==="right"&&(U+=Q);var Ae=Os(z[0],z[1],[U-Q,G-ie,U+Q,G-ie,U+Q,G+ie,U-Q,G+ie],c.x,c.y);if(Ae.length>0){var Ce=u,be=Fa(Ce,Ui(o)),le=Fa(Ce,Ui(Ae)),me=be;if(le<be&&(o=Ae,me=le),Ae.length>2){var ye=Fa(Ce,{x:Ae[2],y:Ae[3]});ye<me&&(o=[Ae[2],Ae[3]])}}}var ke=Bl(o,R,i.arrowShapes[f].spacing(t)+h),xe=Bl(o,R,i.arrowShapes[f].gap(t)+h);if(p.endX=xe[0],p.endY=xe[1],p.arrowEndX=ke[0],p.arrowEndY=ke[1],M==="inside-to-node")o=[u.x,u.y];else if(D.units)o=this.manualEndptToPx(s,D);else if(M==="outside-to-line")o=p.srcIntn;else if(M==="outside-to-node"||M==="outside-to-node-or-label"?O=F:(M==="outside-to-line"||M==="outside-to-line-or-label")&&(O=[c.x,c.y]),o=i.nodeShapes[this.getNodeShape(s)].intersectLine(u.x,u.y,s.outerWidth(),s.outerHeight(),O[0],O[1],0,I,y),M==="outside-to-node-or-label"||M==="outside-to-line-or-label"){var Me=s._private.rscratch,Fe=Me.labelWidth,He=Me.labelHeight,je=Me.labelX,Ge=Me.labelY,Pe=Fe/2,de=He/2,Z=s.pstyle("text-valign").value;Z==="top"?Ge-=de:Z==="bottom"&&(Ge+=de);var A=s.pstyle("text-halign").value;A==="left"?je-=Pe:A==="right"&&(je+=Pe);var H=Os(O[0],O[1],[je-Pe,Ge-de,je+Pe,Ge-de,je+Pe,Ge+de,je-Pe,Ge+de],u.x,u.y);if(H.length>0){var q=c,K=Fa(q,Ui(o)),J=Fa(q,Ui(H)),fe=K;if(J<K&&(o=[H[0],H[1]],fe=J),H.length>2){var re=Fa(q,{x:H[2],y:H[3]});re<fe&&(o=[H[2],H[3]])}}}var ve=Bl(o,F,i.arrowShapes[d].spacing(t)+v),he=Bl(o,F,i.arrowShapes[d].gap(t)+v);p.startX=he[0],p.startY=he[1],p.arrowStartX=ve[0],p.arrowStartY=ve[1],P&&(!oe(p.startX)||!oe(p.startY)||!oe(p.endX)||!oe(p.endY)?p.badLine=!0:p.badLine=!1)};ol.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};ol.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var Dg={};function vO(t,e,r){for(var n=function(u,c,f,d){return Mt(u,c,f,d)},a=e._private,i=a.rstyle.bezierPts,o=0;o<t.bezierProjPcts.length;o++){var s=t.bezierProjPcts[o];i.push({x:n(r[0],r[2],r[4],s),y:n(r[1],r[3],r[5],s)})}}Dg.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var a=0;a+5<r.allpts.length;a+=4)vO(this,t,r.allpts.slice(a,a+6))}else if(n==="segments")for(var i=e.rstyle.linePts=[],a=0;a+1<r.allpts.length;a+=2)i.push({x:r.allpts[a],y:r.allpts[a+1]});else if(n==="haystack"){var o=r.haystackPts;e.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};Dg.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var cn={};cn.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!da(e)){var r,n,a=t._private,i=t.width(),o=t.height(),s=t.padding(),l=t.position(),u=t.pstyle("text-halign").strValue,c=t.pstyle("text-valign").strValue,f=a.rscratch,d=a.rstyle;switch(u){case"left":r=l.x-i/2-s;break;case"right":r=l.x+i/2+s;break;default:r=l.x}switch(c){case"top":n=l.y-o/2-s;break;case"bottom":n=l.y+o/2+s;break;default:n=l.y}f.labelX=r,f.labelY=n,d.labelX=r,d.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var kC=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},AC=function(e,r){var n=r.x-e.x,a=r.y-e.y;return kC(n,a)},pO=function(e,r,n,a){var i=Bs(0,a-.001,1),o=Bs(0,a+.001,1),s=Xi(e,r,n,i),l=Xi(e,r,n,o);return AC(s,l)};cn.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,a=this,i={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(i.mid||i.source||i.target){e={x:n.midX,y:n.midY};var o=function(f,d,h){mn(r.rscratch,f,d,h),mn(r.rstyle,f,d,h)};o("labelX",null,e.x),o("labelY",null,e.y);var s=kC(n.midDispX,n.midDispY);o("labelAutoAngle",null,s);var l=function(){if(l.cache)return l.cache;for(var f=[],d=0;d+5<n.allpts.length;d+=4){var h={x:n.allpts[d],y:n.allpts[d+1]},v={x:n.allpts[d+2],y:n.allpts[d+3]},y={x:n.allpts[d+4],y:n.allpts[d+5]};f.push({p0:h,p1:v,p2:y,startDist:0,length:0,segments:[]})}var w=r.rstyle.bezierPts,g=a.bezierProjPcts.length;function p(b,C,T,P,k){var D=ri(C,T),M=b.segments[b.segments.length-1],I={p0:C,p1:T,t0:P,t1:k,startDist:M?M.startDist+M.length:0,length:D};b.segments.push(I),b.length+=D}for(var m=0;m<f.length;m++){var x=f[m],E=f[m-1];E&&(x.startDist=E.startDist+E.length),p(x,x.p0,w[m*g],0,a.bezierProjPcts[0]);for(var S=0;S<g-1;S++)p(x,w[m*g+S],w[m*g+S+1],a.bezierProjPcts[S],a.bezierProjPcts[S+1]);p(x,w[m*g+g-1],x.p2,a.bezierProjPcts[g-1],1)}return l.cache=f},u=function(f){var d,h=f==="source";if(i[f]){var v=t.pstyle(f+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var y=l(),w,g=0,p=0,m=0;m<y.length;m++){for(var x=y[h?m:y.length-1-m],E=0;E<x.segments.length;E++){var S=x.segments[h?E:x.segments.length-1-E],b=m===y.length-1&&E===x.segments.length-1;if(g=p,p+=S.length,p>=v||b){w={cp:x,segment:S};break}}if(w)break}var C=w.cp,T=w.segment,P=(v-g)/T.length,k=T.t1-T.t0,D=h?T.t0+k*P:T.t1-k*P;D=Bs(0,D,1),e=Xi(C.p0,C.p1,C.p2,D),d=pO(C.p0,C.p1,C.p2,D);break}case"straight":case"segments":case"haystack":{for(var M=0,I,B,L,N,R=n.allpts.length,F=0;F+3<R&&(h?(L={x:n.allpts[F],y:n.allpts[F+1]},N={x:n.allpts[F+2],y:n.allpts[F+3]}):(L={x:n.allpts[R-2-F],y:n.allpts[R-1-F]},N={x:n.allpts[R-4-F],y:n.allpts[R-3-F]}),I=ri(L,N),B=M,M+=I,!(M>=v));F+=2);var z=v-B,O=z/I;O=Bs(0,O,1),e=FI(L,N,O),d=AC(L,N);break}}o("labelX",f,e.x),o("labelY",f,e.y),o("labelAutoAngle",f,d)}};u("source"),u("target"),this.applyLabelDimensions(t)}};cn.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};cn.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),a=ti(n,t._private.labelDimsKey);if(dr(r.rscratch,"prefixedLabelDimsKey",e)!==a){mn(r.rscratch,"prefixedLabelDimsKey",e,a);var i=this.calculateLabelDimensions(t,n),o=t.pstyle("line-height").pfValue,s=t.pstyle("text-wrap").strValue,l=dr(r.rscratch,"labelWrapCachedLines",e)||[],u=s!=="wrap"?1:Math.max(l.length,1),c=i.height/u,f=c*o,d=i.width,h=i.height+(u-1)*(o-1)*c;mn(r.rstyle,"labelWidth",e,d),mn(r.rscratch,"labelWidth",e,d),mn(r.rstyle,"labelHeight",e,h),mn(r.rscratch,"labelHeight",e,h),mn(r.rscratch,"labelLineHeight",e,f)}};cn.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",a=t.pstyle(n+"label").strValue,i=t.pstyle("text-transform").value,o=function(W,Y){return Y?(mn(r.rscratch,W,e,Y),Y):dr(r.rscratch,W,e)};if(!a)return"";i=="none"||(i=="uppercase"?a=a.toUpperCase():i=="lowercase"&&(a=a.toLowerCase()));var s=t.pstyle("text-wrap").value;if(s==="wrap"){var l=o("labelKey");if(l!=null&&o("labelWrapKey")===l)return o("labelWrapCachedText");for(var u="",c=a.split(`
`),f=t.pstyle("text-max-width").pfValue,d=t.pstyle("text-overflow-wrap").value,h=d==="anywhere",v=[],y=/[\s\u200b]+|$/g,w=0;w<c.length;w++){var g=c[w],p=this.calculateLabelDimensions(t,g),m=p.width;if(h){var x=g.split("").join(u);g=x}if(m>f){var E=g.matchAll(y),S="",b=0,C=pr(E),T;try{for(C.s();!(T=C.n()).done;){var P=T.value,k=P[0],D=g.substring(b,P.index);b=P.index+k.length;var M=S.length===0?D:S+D+k,I=this.calculateLabelDimensions(t,M),B=I.width;B<=f?S+=D+k:(S&&v.push(S),S=D+k)}}catch(V){C.e(V)}finally{C.f()}S.match(/^[\s\u200b]+$/)||v.push(S)}else v.push(g)}o("labelWrapCachedLines",v),a=o("labelWrapCachedText",v.join(`
`)),o("labelWrapKey",l)}else if(s==="ellipsis"){var L=t.pstyle("text-max-width").pfValue,N="",R="",F=!1;if(this.calculateLabelDimensions(t,a).width<L)return a;for(var z=0;z<a.length;z++){var O=this.calculateLabelDimensions(t,N+a[z]+R).width;if(O>L)break;N+=a[z],z===a.length-1&&(F=!0)}return F||(N+=R),N}return a};cn.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};cn.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window(),a=n.document,i=0,o=t.pstyle("font-style").strValue,s=t.pstyle("font-size").pfValue,l=t.pstyle("font-family").strValue,u=t.pstyle("font-weight").strValue,c=this.labelCalcCanvas,f=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=a.createElement("canvas"),f=this.labelCalcCanvasContext=c.getContext("2d");var d=c.style;d.position="absolute",d.left="-9999px",d.top="-9999px",d.zIndex="-1",d.visibility="hidden",d.pointerEvents="none"}f.font="".concat(o," ").concat(u," ").concat(s,"px ").concat(l);for(var h=0,v=0,y=e.split(`
`),w=0;w<y.length;w++){var g=y[w],p=f.measureText(g),m=Math.ceil(p.width),x=s;h=Math.max(m,h),v+=x}return h+=i,v+=i,{width:h,height:v}};cn.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,a=t.isEdge(),i=e?e+"-":"",o=t.pstyle(i+"text-rotation"),s=o.strValue;return s==="none"?0:a&&s==="autorotate"?n.labelAutoAngle:s==="autorotate"?0:o.pfValue};cn.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,a=n.rscratch;a.labelAngle=e.calculateLabelAngle(t),r&&(a.sourceLabelAngle=e.calculateLabelAngle(t,"source"),a.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var DC={},ow=28,sw=!1;DC.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<ow||t.height()<ow))return sw||(We("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),sw=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var Zc={};Zc.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(o),s)for(var l=0;l<o.length;l++){var u=o[l],c=u._private,f=c.rstyle;f.clean=!1,f.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(o){var s=o.target;n(s)}).on("style.* background.*",function(o){var s=o.target;n(s,!1)});var a=function(o){if(o){var s=r.onUpdateEleCalcsFns;e.cleanStyle();for(var l=0;l<e.length;l++){var u=e[l],c=u._private.rstyle;u.isNode()&&!c.cleanConnected&&(n(u.connectedEdges()),c.cleanConnected=!0)}if(s)for(var f=0;f<s.length;f++){var d=s[f];d(o,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){a(!0)},r.beforeRender(a,r.beforeRenderPriorities.eleCalcs)};Zc.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};Zc.recalculateRenderedStyle=function(t,e){var r=function(x){return x._private.rstyle.cleanConnected};if(t.length!==0){var n=[],a=[];if(!this.destroyed){e===void 0&&(e=!0);for(var i=0;i<t.length;i++){var o=t[i],s=o._private,l=s.rstyle;o.isEdge()&&(!r(o.source())||!r(o.target()))&&(l.clean=!1),o.isEdge()&&o.isBundledBezier()&&o.parallelEdges().some(function(m){return!m._private.rstyle.clean&&m.isBundledBezier()})&&(l.clean=!1),!(e&&l.clean||o.removed())&&o.pstyle("display").value!=="none"&&(s.group==="nodes"?a.push(o):n.push(o),l.clean=!0)}for(var u=0;u<a.length;u++){var c=a[u],f=c._private,d=f.rstyle,h=c.position();this.recalculateNodeLabelProjection(c),d.nodeX=h.x,d.nodeY=h.y,d.nodeW=c.pstyle("width").pfValue,d.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var v=0;v<n.length;v++){var y=n[v],w=y._private,g=w.rstyle,p=w.rscratch;g.srcX=p.arrowStartX,g.srcY=p.arrowStartY,g.tgtX=p.arrowEndX,g.tgtY=p.arrowEndY,g.midX=p.midX,g.midY=p.midY,g.labelAngle=p.labelAngle,g.sourceLabelAngle=p.sourceLabelAngle,g.targetLabelAngle=p.targetLabelAngle}}}};var Qc={};Qc.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],a=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):a.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};Qc.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Qc.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(cC),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var MC={};[fi,sc,Jt,ol,Dg,cn,DC,Zc,Qc].forEach(function(t){Se(MC,t)});var RC={};RC.getCachedImage=function(t,e,r){var n=this,a=n.imageCache=n.imageCache||{},i=a[t];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;i=a[t]=a[t]||{};var o=i.image=new Image;o.addEventListener("load",r),o.addEventListener("error",function(){o.error=!0});var s="data:",l=t.substring(0,s.length).toLowerCase()===s;return l||(e=e==="null"?null:e,o.crossOrigin=e),o.src=t,o};var xo={};xo.registerBinding=function(t,e,r,n){var a=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var i=[],o=0;o<t.length;o++){var s=t[o];if(s!==void 0){var l=this.binder(s);i.push(l.on.apply(l,a))}}return i}var l=this.binder(t);return l.on.apply(l,a)};xo.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||kR(t);if(e.supportsPassiveEvents==null){var a=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});r.addEventListener("test",null,i)}catch{}e.supportsPassiveEvents=a}var o=function(l,u,c){var f=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(f[2]={capture:c??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:f}),(t.addEventListener||t.on).apply(t,f),this};return{on:o,addEventListener:o,addListener:o,bind:o}};xo.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};xo.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};xo.load=function(){var t=this,e=t.cy.window(),r=function(A){return A.selected()},n=function(A){var H=A.getRootNode();if(H&&H.nodeType===11&&H.host!==void 0)return H},a=function(A,H,q,K){A==null&&(A=t.cy);for(var J=0;J<H.length;J++){var fe=H[J];A.emit({originalEvent:q,type:fe,position:K})}},i=function(A){return A.shiftKey||A.metaKey||A.ctrlKey},o=function(A,H){var q=!0;if(t.cy.hasCompoundNodes()&&A&&A.pannable())for(var K=0;H&&K<H.length;K++){var A=H[K];if(A.isNode()&&A.isParent()&&!A.pannable()){q=!1;break}}else q=!0;return q},s=function(A){A[0]._private.grabbed=!0},l=function(A){A[0]._private.grabbed=!1},u=function(A){A[0]._private.rscratch.inDragLayer=!0},c=function(A){A[0]._private.rscratch.inDragLayer=!1},f=function(A){A[0]._private.rscratch.isGrabTarget=!0},d=function(A){A[0]._private.rscratch.isGrabTarget=!1},h=function(A,H){var q=H.addToList,K=q.has(A);!K&&A.grabbable()&&!A.locked()&&(q.merge(A),s(A))},v=function(A,H){if(A.cy().hasCompoundNodes()&&!(H.inDragLayer==null&&H.addToList==null)){var q=A.descendants();H.inDragLayer&&(q.forEach(u),q.connectedEdges().forEach(u)),H.addToList&&h(q,H)}},y=function(A,H){H=H||{};var q=A.cy().hasCompoundNodes();H.inDragLayer&&(A.forEach(u),A.neighborhood().stdFilter(function(K){return!q||K.isEdge()}).forEach(u)),H.addToList&&A.forEach(function(K){h(K,H)}),v(A,H),p(A,{inDragLayer:H.inDragLayer}),t.updateCachedGrabbedEles()},w=y,g=function(A){A&&(t.getCachedZSortedEles().forEach(function(H){l(H),c(H),d(H)}),t.updateCachedGrabbedEles())},p=function(A,H){if(!(H.inDragLayer==null&&H.addToList==null)&&A.cy().hasCompoundNodes()){var q=A.ancestors().orphans();if(!q.same(A)){var K=q.descendants().spawnSelf().merge(q).unmerge(A).unmerge(A.descendants()),J=K.connectedEdges();H.inDragLayer&&(J.forEach(u),K.forEach(u)),H.addToList&&K.forEach(function(fe){h(fe,H)})}}},m=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},x=typeof MutationObserver<"u",E=typeof ResizeObserver<"u";x?(t.removeObserver=new MutationObserver(function(Z){for(var A=0;A<Z.length;A++){var H=Z[A],q=H.removedNodes;if(q)for(var K=0;K<q.length;K++){var J=q[K];if(J===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(Z){t.destroy()});var S=rl(function(){t.cy.resize()},100);x&&(t.styleObserver=new MutationObserver(S),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",S),E&&(t.resizeObserver=new ResizeObserver(S),t.resizeObserver.observe(t.container));var b=function(A,H){for(;A!=null;)H(A),A=A.parentNode},C=function(){t.invalidateContainerClientCoordsCache()};b(t.container,function(Z){t.registerBinding(Z,"transitionend",C),t.registerBinding(Z,"animationend",C),t.registerBinding(Z,"scroll",C)}),t.registerBinding(t.container,"contextmenu",function(Z){Z.preventDefault()});var T=function(){return t.selection[4]!==0},P=function(A){for(var H=t.findContainerClientCoords(),q=H[0],K=H[1],J=H[2],fe=H[3],re=A.touches?A.touches:[A],ve=!1,he=0;he<re.length;he++){var Ee=re[he];if(q<=Ee.clientX&&Ee.clientX<=q+J&&K<=Ee.clientY&&Ee.clientY<=K+fe){ve=!0;break}}if(!ve)return!1;for(var Ie=t.container,De=A.target,pe=De.parentNode,Le=!1;pe;){if(pe===Ie){Le=!0;break}pe=pe.parentNode}return!!Le};t.registerBinding(t.container,"mousedown",function(A){if(P(A)&&!(t.hoverData.which===1&&A.which!==1)){A.preventDefault(),m(),t.hoverData.capture=!0,t.hoverData.which=A.which;var H=t.cy,q=[A.clientX,A.clientY],K=t.projectIntoViewport(q[0],q[1]),J=t.selection,fe=t.findNearestElements(K[0],K[1],!0,!1),re=fe[0],ve=t.dragData.possibleDragElements;t.hoverData.mdownPos=K,t.hoverData.mdownGPos=q;var he=function(Ne){return{originalEvent:A,type:Ne,position:{x:K[0],y:K[1]}}},Ee=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var Ne=t.hoverData.down;Ne?Ne.emit(he("taphold")):H.emit(he("taphold"))}},t.tapholdDuration)};if(A.which==3){t.hoverData.cxtStarted=!0;var Ie={originalEvent:A,type:"cxttapstart",position:{x:K[0],y:K[1]}};re?(re.activate(),re.emit(Ie),t.hoverData.down=re):H.emit(Ie),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(A.which==1){re&&re.activate();{if(re!=null&&t.nodeIsGrabbable(re)){var De=function(Ne){Ne.emit(he("grab"))};if(f(re),!re.selected())ve=t.dragData.possibleDragElements=H.collection(),w(re,{addToList:ve}),re.emit(he("grabon")).emit(he("grab"));else{ve=t.dragData.possibleDragElements=H.collection();var pe=H.$(function(Le){return Le.isNode()&&Le.selected()&&t.nodeIsGrabbable(Le)});y(pe,{addToList:ve}),re.emit(he("grabon")),pe.forEach(De)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=re,t.hoverData.downs=fe,t.hoverData.downTime=new Date().getTime()}a(re,["mousedown","tapstart","vmousedown"],A,{x:K[0],y:K[1]}),re==null?(J[4]=1,t.data.bgActivePosistion={x:K[0],y:K[1]},t.redrawHint("select",!0),t.redraw()):re.pannable()&&(J[4]=1),Ee()}J[0]=J[2]=K[0],J[1]=J[3]=K[1]}},!1);var k=n(t.container);t.registerBinding([e,k],"mousemove",function(A){var H=t.hoverData.capture;if(!(!H&&!P(A))){var q=!1,K=t.cy,J=K.zoom(),fe=[A.clientX,A.clientY],re=t.projectIntoViewport(fe[0],fe[1]),ve=t.hoverData.mdownPos,he=t.hoverData.mdownGPos,Ee=t.selection,Ie=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(Ie=t.findNearestElement(re[0],re[1],!0,!1));var De=t.hoverData.last,pe=t.hoverData.down,Le=[re[0]-Ee[2],re[1]-Ee[3]],Ne=t.dragData.possibleDragElements,bt;if(he){var ct=fe[0]-he[0],er=ct*ct,pt=fe[1]-he[1],Dt=pt*pt,Et=er+Dt;t.hoverData.isOverThresholdDrag=bt=Et>=t.desktopTapThreshold2}var Bt=i(A);bt&&(t.hoverData.tapholdCancelled=!0);var Bn=function(){var Ar=t.hoverData.dragDelta=t.hoverData.dragDelta||[];Ar.length===0?(Ar.push(Le[0]),Ar.push(Le[1])):(Ar[0]+=Le[0],Ar[1]+=Le[1])};q=!0,a(Ie,["mousemove","vmousemove","tapdrag"],A,{x:re[0],y:re[1]});var gt=function(Ar){return{originalEvent:A,type:Ar,position:{x:re[0],y:re[1]}}},dn=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||K.emit(gt("boxstart")),Ee[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(bt){var hn=gt("cxtdrag");pe?pe.emit(hn):K.emit(hn),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||Ie!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit(gt("cxtdragout")),t.hoverData.cxtOver=Ie,Ie&&Ie.emit(gt("cxtdragover")))}}else if(t.hoverData.dragging){if(q=!0,K.panningEnabled()&&K.userPanningEnabled()){var hi;if(t.hoverData.justStartedPan){var ul=t.hoverData.mdownPos;hi={x:(re[0]-ul[0])*J,y:(re[1]-ul[1])*J},t.hoverData.justStartedPan=!1}else hi={x:Le[0]*J,y:Le[1]*J};K.panBy(hi),K.emit(gt("dragpan")),t.hoverData.dragged=!0}re=t.projectIntoViewport(A.clientX,A.clientY)}else if(Ee[4]==1&&(pe==null||pe.pannable())){if(bt){if(!t.hoverData.dragging&&K.boxSelectionEnabled()&&(Bt||!K.panningEnabled()||!K.userPanningEnabled()))dn();else if(!t.hoverData.selecting&&K.panningEnabled()&&K.userPanningEnabled()){var ka=o(pe,t.hoverData.downs);ka&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Ee[4]=0,t.data.bgActivePosistion=Ui(ve),t.redrawHint("select",!0),t.redraw())}pe&&pe.pannable()&&pe.active()&&pe.unactivate()}}else{if(pe&&pe.pannable()&&pe.active()&&pe.unactivate(),(!pe||!pe.grabbed())&&Ie!=De&&(De&&a(De,["mouseout","tapdragout"],A,{x:re[0],y:re[1]}),Ie&&a(Ie,["mouseover","tapdragover"],A,{x:re[0],y:re[1]}),t.hoverData.last=Ie),pe)if(bt){if(K.boxSelectionEnabled()&&Bt)pe&&pe.grabbed()&&(g(Ne),pe.emit(gt("freeon")),Ne.emit(gt("free")),t.dragData.didDrag&&(pe.emit(gt("dragfreeon")),Ne.emit(gt("dragfree")))),dn();else if(pe&&pe.grabbed()&&t.nodeIsDraggable(pe)){var ur=!t.dragData.didDrag;ur&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||y(Ne,{inDragLayer:!0});var Gt={x:0,y:0};if(oe(Le[0])&&oe(Le[1])&&(Gt.x+=Le[0],Gt.y+=Le[1],ur)){var cr=t.hoverData.dragDelta;cr&&oe(cr[0])&&oe(cr[1])&&(Gt.x+=cr[0],Gt.y+=cr[1])}t.hoverData.draggingEles=!0,Ne.silentShift(Gt).emit(gt("position")).emit(gt("drag")),t.redrawHint("drag",!0),t.redraw()}}else Bn();q=!0}if(Ee[2]=re[0],Ee[3]=re[1],q)return A.stopPropagation&&A.stopPropagation(),A.preventDefault&&A.preventDefault(),!1}},!1);var D,M,I;t.registerBinding(e,"mouseup",function(A){if(!(t.hoverData.which===1&&A.which!==1&&t.hoverData.capture)){var H=t.hoverData.capture;if(H){t.hoverData.capture=!1;var q=t.cy,K=t.projectIntoViewport(A.clientX,A.clientY),J=t.selection,fe=t.findNearestElement(K[0],K[1],!0,!1),re=t.dragData.possibleDragElements,ve=t.hoverData.down,he=i(A);t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,ve&&ve.unactivate();var Ee=function(ct){return{originalEvent:A,type:ct,position:{x:K[0],y:K[1]}}};if(t.hoverData.which===3){var Ie=Ee("cxttapend");if(ve?ve.emit(Ie):q.emit(Ie),!t.hoverData.cxtDragged){var De=Ee("cxttap");ve?ve.emit(De):q.emit(De)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(a(fe,["mouseup","tapend","vmouseup"],A,{x:K[0],y:K[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(a(ve,["click","tap","vclick"],A,{x:K[0],y:K[1]}),M=!1,A.timeStamp-I<=q.multiClickDebounceTime()?(D&&clearTimeout(D),M=!0,I=null,a(ve,["dblclick","dbltap","vdblclick"],A,{x:K[0],y:K[1]})):(D=setTimeout(function(){M||a(ve,["oneclick","onetap","voneclick"],A,{x:K[0],y:K[1]})},q.multiClickDebounceTime()),I=A.timeStamp)),ve==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!i(A)&&(q.$(r).unselect(["tapunselect"]),re.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=re=q.collection()),fe==ve&&!t.dragData.didDrag&&!t.hoverData.selecting&&fe!=null&&fe._private.selectable&&(t.hoverData.dragging||(q.selectionType()==="additive"||he?fe.selected()?fe.unselect(["tapunselect"]):fe.select(["tapselect"]):he||(q.$(r).unmerge(fe).unselect(["tapunselect"]),fe.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var pe=q.collection(t.getAllInBox(J[0],J[1],J[2],J[3]));t.redrawHint("select",!0),pe.length>0&&t.redrawHint("eles",!0),q.emit(Ee("boxend"));var Le=function(ct){return ct.selectable()&&!ct.selected()};q.selectionType()==="additive"||he||q.$(r).unmerge(pe).unselect(),pe.emit(Ee("box")).stdFilter(Le).select().emit(Ee("boxselect")),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!J[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Ne=ve&&ve.grabbed();g(re),Ne&&(ve.emit(Ee("freeon")),re.emit(Ee("free")),t.dragData.didDrag&&(ve.emit(Ee("dragfreeon")),re.emit(Ee("dragfree"))))}}J[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var B=[],L=4,N,R=1e5,F=function(A,H){for(var q=0;q<A.length;q++)if(A[q]%H!==0)return!1;return!0},z=function(A){for(var H=Math.abs(A[0]),q=1;q<A.length;q++)if(Math.abs(A[q])!==H)return!1;return!0},O=function(A){var H=!1,q=A.deltaY;if(q==null&&(A.wheelDeltaY!=null?q=A.wheelDeltaY/4:A.wheelDelta!=null&&(q=A.wheelDelta/4)),q!==0){if(N==null)if(B.length>=L){var K=B;if(N=F(K,5),!N){var J=Math.abs(K[0]);N=z(K)&&J>5}if(N)for(var fe=0;fe<K.length;fe++)R=Math.min(Math.abs(K[fe]),R)}else B.push(q),H=!0;else N&&(R=Math.min(Math.abs(q),R));if(!t.scrollingPage){var re=t.cy,ve=re.zoom(),he=re.pan(),Ee=t.projectIntoViewport(A.clientX,A.clientY),Ie=[Ee[0]*ve+he.x,Ee[1]*ve+he.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||T()){A.preventDefault();return}if(re.panningEnabled()&&re.userPanningEnabled()&&re.zoomingEnabled()&&re.userZoomingEnabled()){A.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var De;H&&Math.abs(q)>5&&(q=pg(q)*5),De=q/-250,N&&(De/=R,De*=3),De=De*t.wheelSensitivity;var pe=A.deltaMode===1;pe&&(De*=33);var Le=re.zoom()*Math.pow(10,De);A.type==="gesturechange"&&(Le=t.gestureStartZoom*A.scale),re.zoom({level:Le,renderedPosition:{x:Ie[0],y:Ie[1]}}),re.emit({type:A.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:A,position:{x:Ee[0],y:Ee[1]}})}}}};t.registerBinding(t.container,"wheel",O,!0),t.registerBinding(e,"scroll",function(A){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(A){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||A.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(Z){t.hasTouchStarted||O(Z)},!0),t.registerBinding(t.container,"mouseout",function(A){var H=t.projectIntoViewport(A.clientX,A.clientY);t.cy.emit({originalEvent:A,type:"mouseout",position:{x:H[0],y:H[1]}})},!1),t.registerBinding(t.container,"mouseover",function(A){var H=t.projectIntoViewport(A.clientX,A.clientY);t.cy.emit({originalEvent:A,type:"mouseover",position:{x:H[0],y:H[1]}})},!1);var V,W,Y,$,X,te,se,ee,_,U,G,Q,ie,ge=function(A,H,q,K){return Math.sqrt((q-A)*(q-A)+(K-H)*(K-H))},Oe=function(A,H,q,K){return(q-A)*(q-A)+(K-H)*(K-H)},Ae;t.registerBinding(t.container,"touchstart",Ae=function(A){if(t.hasTouchStarted=!0,!!P(A)){m(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var H=t.cy,q=t.touchData.now,K=t.touchData.earlier;if(A.touches[0]){var J=t.projectIntoViewport(A.touches[0].clientX,A.touches[0].clientY);q[0]=J[0],q[1]=J[1]}if(A.touches[1]){var J=t.projectIntoViewport(A.touches[1].clientX,A.touches[1].clientY);q[2]=J[0],q[3]=J[1]}if(A.touches[2]){var J=t.projectIntoViewport(A.touches[2].clientX,A.touches[2].clientY);q[4]=J[0],q[5]=J[1]}var fe=function(Bt){return{originalEvent:A,type:Bt,position:{x:q[0],y:q[1]}}};if(A.touches[1]){t.touchData.singleTouchMoved=!0,g(t.dragData.touchDragEles);var re=t.findContainerClientCoords();_=re[0],U=re[1],G=re[2],Q=re[3],V=A.touches[0].clientX-_,W=A.touches[0].clientY-U,Y=A.touches[1].clientX-_,$=A.touches[1].clientY-U,ie=0<=V&&V<=G&&0<=Y&&Y<=G&&0<=W&&W<=Q&&0<=$&&$<=Q;var ve=H.pan(),he=H.zoom();X=ge(V,W,Y,$),te=Oe(V,W,Y,$),se=[(V+Y)/2,(W+$)/2],ee=[(se[0]-ve.x)/he,(se[1]-ve.y)/he];var Ee=200,Ie=Ee*Ee;if(te<Ie&&!A.touches[2]){var De=t.findNearestElement(q[0],q[1],!0,!0),pe=t.findNearestElement(q[2],q[3],!0,!0);De&&De.isNode()?(De.activate().emit(fe("cxttapstart")),t.touchData.start=De):pe&&pe.isNode()?(pe.activate().emit(fe("cxttapstart")),t.touchData.start=pe):H.emit(fe("cxttapstart")),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(A.touches[2])H.boxSelectionEnabled()&&A.preventDefault();else if(!A.touches[1]){if(A.touches[0]){var Le=t.findNearestElements(q[0],q[1],!0,!0),Ne=Le[0];if(Ne!=null&&(Ne.activate(),t.touchData.start=Ne,t.touchData.starts=Le,t.nodeIsGrabbable(Ne))){var bt=t.dragData.touchDragEles=H.collection(),ct=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Ne.selected()?(ct=H.$(function(Et){return Et.selected()&&t.nodeIsGrabbable(Et)}),y(ct,{addToList:bt})):w(Ne,{addToList:bt}),f(Ne),Ne.emit(fe("grabon")),ct?ct.forEach(function(Et){Et.emit(fe("grab"))}):Ne.emit(fe("grab"))}a(Ne,["touchstart","tapstart","vmousedown"],A,{x:q[0],y:q[1]}),Ne==null&&(t.data.bgActivePosistion={x:J[0],y:J[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&a(t.touchData.start,["taphold"],A,{x:q[0],y:q[1]})},t.tapholdDuration)}}if(A.touches.length>=1){for(var er=t.touchData.startPosition=[null,null,null,null,null,null],pt=0;pt<q.length;pt++)er[pt]=K[pt]=q[pt];var Dt=A.touches[0];t.touchData.startGPosition=[Dt.clientX,Dt.clientY]}}},!1);var Ce;t.registerBinding(e,"touchmove",Ce=function(A){var H=t.touchData.capture;if(!(!H&&!P(A))){var q=t.selection,K=t.cy,J=t.touchData.now,fe=t.touchData.earlier,re=K.zoom();if(A.touches[0]){var ve=t.projectIntoViewport(A.touches[0].clientX,A.touches[0].clientY);J[0]=ve[0],J[1]=ve[1]}if(A.touches[1]){var ve=t.projectIntoViewport(A.touches[1].clientX,A.touches[1].clientY);J[2]=ve[0],J[3]=ve[1]}if(A.touches[2]){var ve=t.projectIntoViewport(A.touches[2].clientX,A.touches[2].clientY);J[4]=ve[0],J[5]=ve[1]}var he=function(l2){return{originalEvent:A,type:l2,position:{x:J[0],y:J[1]}}},Ee=t.touchData.startGPosition,Ie;if(H&&A.touches[0]&&Ee){for(var De=[],pe=0;pe<J.length;pe++)De[pe]=J[pe]-fe[pe];var Le=A.touches[0].clientX-Ee[0],Ne=Le*Le,bt=A.touches[0].clientY-Ee[1],ct=bt*bt,er=Ne+ct;Ie=er>=t.touchTapThreshold2}if(H&&t.touchData.cxt){A.preventDefault();var pt=A.touches[0].clientX-_,Dt=A.touches[0].clientY-U,Et=A.touches[1].clientX-_,Bt=A.touches[1].clientY-U,Bn=Oe(pt,Dt,Et,Bt),gt=Bn/te,dn=150,hn=dn*dn,hi=1.5,ul=hi*hi;if(gt>=ul||Bn>=hn){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var ka=he("cxttapend");t.touchData.start?(t.touchData.start.unactivate().emit(ka),t.touchData.start=null):K.emit(ka)}}if(H&&t.touchData.cxt){var ka=he("cxtdrag");t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(ka):K.emit(ka),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var ur=t.findNearestElement(J[0],J[1],!0,!0);(!t.touchData.cxtOver||ur!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit(he("cxtdragout")),t.touchData.cxtOver=ur,ur&&ur.emit(he("cxtdragover")))}else if(H&&A.touches[2]&&K.boxSelectionEnabled())A.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||K.emit(he("boxstart")),t.touchData.selecting=!0,t.touchData.didSelect=!0,q[4]=1,!q||q.length===0||q[0]===void 0?(q[0]=(J[0]+J[2]+J[4])/3,q[1]=(J[1]+J[3]+J[5])/3,q[2]=(J[0]+J[2]+J[4])/3+1,q[3]=(J[1]+J[3]+J[5])/3+1):(q[2]=(J[0]+J[2]+J[4])/3,q[3]=(J[1]+J[3]+J[5])/3),t.redrawHint("select",!0),t.redraw();else if(H&&A.touches[1]&&!t.touchData.didSelect&&K.zoomingEnabled()&&K.panningEnabled()&&K.userZoomingEnabled()&&K.userPanningEnabled()){A.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Gt=t.dragData.touchDragEles;if(Gt){t.redrawHint("drag",!0);for(var cr=0;cr<Gt.length;cr++){var Eo=Gt[cr]._private;Eo.grabbed=!1,Eo.rscratch.inDragLayer=!1}}var Ar=t.touchData.start,pt=A.touches[0].clientX-_,Dt=A.touches[0].clientY-U,Et=A.touches[1].clientX-_,Bt=A.touches[1].clientY-U,Ig=ge(pt,Dt,Et,Bt),JC=Ig/X;if(ie){var e2=pt-V,t2=Dt-W,r2=Et-Y,n2=Bt-$,a2=(e2+r2)/2,i2=(t2+n2)/2,So=K.zoom(),Jc=So*JC,cl=K.pan(),Ng=ee[0]*So+cl.x,Lg=ee[1]*So+cl.y,o2={x:-Jc/So*(Ng-cl.x-a2)+Ng,y:-Jc/So*(Lg-cl.y-i2)+Lg};if(Ar&&Ar.active()){var Gt=t.dragData.touchDragEles;g(Gt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Ar.unactivate().emit(he("freeon")),Gt.emit(he("free")),t.dragData.didDrag&&(Ar.emit(he("dragfreeon")),Gt.emit(he("dragfree")))}K.viewport({zoom:Jc,pan:o2,cancelOnFailedZoom:!0}),K.emit(he("pinchzoom")),X=Ig,V=pt,W=Dt,Y=Et,$=Bt,t.pinching=!0}if(A.touches[0]){var ve=t.projectIntoViewport(A.touches[0].clientX,A.touches[0].clientY);J[0]=ve[0],J[1]=ve[1]}if(A.touches[1]){var ve=t.projectIntoViewport(A.touches[1].clientX,A.touches[1].clientY);J[2]=ve[0],J[3]=ve[1]}if(A.touches[2]){var ve=t.projectIntoViewport(A.touches[2].clientX,A.touches[2].clientY);J[4]=ve[0],J[5]=ve[1]}}else if(A.touches[0]&&!t.touchData.didSelect){var _r=t.touchData.start,ef=t.touchData.last,ur;if(!t.hoverData.draggingEles&&!t.swipePanning&&(ur=t.findNearestElement(J[0],J[1],!0,!0)),H&&_r!=null&&A.preventDefault(),H&&_r!=null&&t.nodeIsDraggable(_r))if(Ie){var Gt=t.dragData.touchDragEles,Bg=!t.dragData.didDrag;Bg&&y(Gt,{inDragLayer:!0}),t.dragData.didDrag=!0;var Co={x:0,y:0};if(oe(De[0])&&oe(De[1])&&(Co.x+=De[0],Co.y+=De[1],Bg)){t.redrawHint("eles",!0);var Ur=t.touchData.dragDelta;Ur&&oe(Ur[0])&&oe(Ur[1])&&(Co.x+=Ur[0],Co.y+=Ur[1])}t.hoverData.draggingEles=!0,Gt.silentShift(Co).emit(he("position")).emit(he("drag")),t.redrawHint("drag",!0),t.touchData.startPosition[0]==fe[0]&&t.touchData.startPosition[1]==fe[1]&&t.redrawHint("eles",!0),t.redraw()}else{var Ur=t.touchData.dragDelta=t.touchData.dragDelta||[];Ur.length===0?(Ur.push(De[0]),Ur.push(De[1])):(Ur[0]+=De[0],Ur[1]+=De[1])}if(a(_r||ur,["touchmove","tapdrag","vmousemove"],A,{x:J[0],y:J[1]}),(!_r||!_r.grabbed())&&ur!=ef&&(ef&&ef.emit(he("tapdragout")),ur&&ur.emit(he("tapdragover"))),t.touchData.last=ur,H)for(var cr=0;cr<J.length;cr++)J[cr]&&t.touchData.startPosition[cr]&&Ie&&(t.touchData.singleTouchMoved=!0);if(H&&(_r==null||_r.pannable())&&K.panningEnabled()&&K.userPanningEnabled()){var s2=o(_r,t.touchData.starts);s2&&(A.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=Ui(t.touchData.startPosition)),t.swipePanning?(K.panBy({x:De[0]*re,y:De[1]*re}),K.emit(he("dragpan"))):Ie&&(t.swipePanning=!0,K.panBy({x:Le*re,y:bt*re}),K.emit(he("dragpan")),_r&&(_r.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var ve=t.projectIntoViewport(A.touches[0].clientX,A.touches[0].clientY);J[0]=ve[0],J[1]=ve[1]}}for(var pe=0;pe<J.length;pe++)fe[pe]=J[pe];H&&A.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var be;t.registerBinding(e,"touchcancel",be=function(A){var H=t.touchData.start;t.touchData.capture=!1,H&&H.unactivate()});var le,me,ye,ke;if(t.registerBinding(e,"touchend",le=function(A){var H=t.touchData.start,q=t.touchData.capture;if(q)A.touches.length===0&&(t.touchData.capture=!1),A.preventDefault();else return;var K=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var J=t.cy,fe=J.zoom(),re=t.touchData.now,ve=t.touchData.earlier;if(A.touches[0]){var he=t.projectIntoViewport(A.touches[0].clientX,A.touches[0].clientY);re[0]=he[0],re[1]=he[1]}if(A.touches[1]){var he=t.projectIntoViewport(A.touches[1].clientX,A.touches[1].clientY);re[2]=he[0],re[3]=he[1]}if(A.touches[2]){var he=t.projectIntoViewport(A.touches[2].clientX,A.touches[2].clientY);re[4]=he[0],re[5]=he[1]}var Ee=function(hn){return{originalEvent:A,type:hn,position:{x:re[0],y:re[1]}}};H&&H.unactivate();var Ie;if(t.touchData.cxt){if(Ie=Ee("cxttapend"),H?H.emit(Ie):J.emit(Ie),!t.touchData.cxtDragged){var De=Ee("cxttap");H?H.emit(De):J.emit(De)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!A.touches[2]&&J.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var pe=J.collection(t.getAllInBox(K[0],K[1],K[2],K[3]));K[0]=void 0,K[1]=void 0,K[2]=void 0,K[3]=void 0,K[4]=0,t.redrawHint("select",!0),J.emit(Ee("boxend"));var Le=function(hn){return hn.selectable()&&!hn.selected()};pe.emit(Ee("box")).stdFilter(Le).select().emit(Ee("boxselect")),pe.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(H!=null&&H.unactivate(),A.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!A.touches[1]){if(!A.touches[0]){if(!A.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ne=t.dragData.touchDragEles;if(H!=null){var bt=H._private.grabbed;g(Ne),t.redrawHint("drag",!0),t.redrawHint("eles",!0),bt&&(H.emit(Ee("freeon")),Ne.emit(Ee("free")),t.dragData.didDrag&&(H.emit(Ee("dragfreeon")),Ne.emit(Ee("dragfree")))),a(H,["touchend","tapend","vmouseup","tapdragout"],A,{x:re[0],y:re[1]}),H.unactivate(),t.touchData.start=null}else{var ct=t.findNearestElement(re[0],re[1],!0,!0);a(ct,["touchend","tapend","vmouseup","tapdragout"],A,{x:re[0],y:re[1]})}var er=t.touchData.startPosition[0]-re[0],pt=er*er,Dt=t.touchData.startPosition[1]-re[1],Et=Dt*Dt,Bt=pt+Et,Bn=Bt*fe*fe;t.touchData.singleTouchMoved||(H||J.$(":selected").unselect(["tapunselect"]),a(H,["tap","vclick"],A,{x:re[0],y:re[1]}),me=!1,A.timeStamp-ke<=J.multiClickDebounceTime()?(ye&&clearTimeout(ye),me=!0,ke=null,a(H,["dbltap","vdblclick"],A,{x:re[0],y:re[1]})):(ye=setTimeout(function(){me||a(H,["onetap","voneclick"],A,{x:re[0],y:re[1]})},J.multiClickDebounceTime()),ke=A.timeStamp)),H!=null&&!t.dragData.didDrag&&H._private.selectable&&Bn<t.touchTapThreshold2&&!t.pinching&&(J.selectionType()==="single"?(J.$(r).unmerge(H).unselect(["tapunselect"]),H.select(["tapselect"])):H.selected()?H.unselect(["tapunselect"]):H.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var gt=0;gt<re.length;gt++)ve[gt]=re[gt];t.dragData.didDrag=!1,A.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),A.touches.length<2&&(A.touches.length===1&&(t.touchData.startGPosition=[A.touches[0].clientX,A.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var xe=[],Me=function(A){return{clientX:A.clientX,clientY:A.clientY,force:1,identifier:A.pointerId,pageX:A.pageX,pageY:A.pageY,radiusX:A.width/2,radiusY:A.height/2,screenX:A.screenX,screenY:A.screenY,target:A.target}},Fe=function(A){return{event:A,touch:Me(A)}},He=function(A){xe.push(Fe(A))},je=function(A){for(var H=0;H<xe.length;H++){var q=xe[H];if(q.event.pointerId===A.pointerId){xe.splice(H,1);return}}},Ge=function(A){var H=xe.filter(function(q){return q.event.pointerId===A.pointerId})[0];H.event=A,H.touch=Me(A)},Pe=function(A){A.touches=xe.map(function(H){return H.touch})},de=function(A){return A.pointerType==="mouse"||A.pointerType===4};t.registerBinding(t.container,"pointerdown",function(Z){de(Z)||(Z.preventDefault(),He(Z),Pe(Z),Ae(Z))}),t.registerBinding(t.container,"pointerup",function(Z){de(Z)||(je(Z),Pe(Z),le(Z))}),t.registerBinding(t.container,"pointercancel",function(Z){de(Z)||(je(Z),Pe(Z),be(Z))}),t.registerBinding(t.container,"pointermove",function(Z){de(Z)||(Z.preventDefault(),Ge(Z),Pe(Z),Ce(Z))})}};var Nn={};Nn.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,a,i,o,s,l){this.renderer.nodeShapeImpl("polygon",n,a,i,o,s,this.points)},intersectLine:function(n,a,i,o,s,l,u,c){return Os(s,l,this.points,n,a,i/2,o/2,u)},checkPoint:function(n,a,i,o,s,l,u,c){return Rn(n,a,this.points,l,u,o,s,[0,-1],i)},hasMiterBounds:t!=="rectangle",miterBounds:function(n,a,i,o,s,l){return jI(this.points,n,a,i,o,s)}}};Nn.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,o,s,l){return ZI(i,o,e,r,n/2+s,a/2+s)},checkPoint:function(e,r,n,a,i,o,s,l){return Wa(e,r,a,i,o,s,n)}}};Nn.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,a,i,o,s,l,u){if(l[u]!==void 0&&l[u+"-cx"]===n&&l[u+"-cy"]===a)return l[u];l[u]=new Array(e.length/2),l[u+"-cx"]=n,l[u+"-cy"]=a;var c=i/2,f=o/2;s=s==="auto"?IS(i,o):s;for(var d=new Array(e.length/2),h=0;h<e.length/2;h++)d[h]={x:n+c*e[h*2],y:a+f*e[h*2+1]};var v,y,w,g,p=d.length;for(y=d[p-1],v=0;v<p;v++)w=d[v%p],g=d[(v+1)%p],l[u][v]=Ag(y,w,g,s),y=w,w=g;return l[u]},draw:function(n,a,i,o,s,l,u){this.renderer.nodeShapeImpl("round-polygon",n,a,i,o,s,this.points,this.getOrCreateCorners(a,i,o,s,l,u,"drawCorners"))},intersectLine:function(n,a,i,o,s,l,u,c,f){return JI(s,l,this.points,n,a,i,o,u,this.getOrCreateCorners(n,a,i,o,c,f,"corners"))},checkPoint:function(n,a,i,o,s,l,u,c,f){return XI(n,a,this.points,l,u,o,s,this.getOrCreateCorners(l,u,o,s,c,f,"corners"))}}};Nn.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:tr(4,0),draw:function(e,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,this.points,o)},intersectLine:function(e,r,n,a,i,o,s,l){return MS(i,o,e,r,n,a,s,l)},checkPoint:function(e,r,n,a,i,o,s,l){var u=a/2,c=i/2;l=l==="auto"?va(a,i):l,l=Math.min(u,c,l);var f=l*2;return!!(Rn(e,r,this.points,o,s,a,i-f,[0,-1],n)||Rn(e,r,this.points,o,s,a-f,i,[0,-1],n)||Wa(e,r,f,f,o-u+l,s-c+l,n)||Wa(e,r,f,f,o+u-l,s-c+l,n)||Wa(e,r,f,f,o+u-l,s+c-l,n)||Wa(e,r,f,f,o-u+l,s+c-l,n))}}};Nn.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:mg(),points:tr(4,0),draw:function(e,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,null,o)},generateCutTrianglePts:function(e,r,n,a,i){var o=i==="auto"?this.cornerLength:i,s=r/2,l=e/2,u=n-l,c=n+l,f=a-s,d=a+s;return{topLeft:[u,f+o,u+o,f,u+o,f+o],topRight:[c-o,f,c,f+o,c-o,f+o],bottomRight:[c,d-o,c-o,d,c-o,d-o],bottomLeft:[u+o,d,u,d-o,u+o,d-o]}},intersectLine:function(e,r,n,a,i,o,s,l){var u=this.generateCutTrianglePts(n+2*s,a+2*s,e,r,l),c=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return Os(i,o,c,e,r)},checkPoint:function(e,r,n,a,i,o,s,l){var u=l==="auto"?this.cornerLength:l;if(Rn(e,r,this.points,o,s,a,i-2*u,[0,-1],n)||Rn(e,r,this.points,o,s,a-2*u,i,[0,-1],n))return!0;var c=this.generateCutTrianglePts(a,i,o,s);return hr(e,r,c.topLeft)||hr(e,r,c.topRight)||hr(e,r,c.bottomRight)||hr(e,r,c.bottomLeft)}}};Nn.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:tr(4,0),draw:function(e,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,o,s,l){var u=.15,c=.5,f=.85,d=this.generateBarrelBezierPts(n+2*s,a+2*s,e,r),h=function(w){var g=Xi({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},u),p=Xi({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},c),m=Xi({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},f);return[w[0],w[1],g.x,g.y,p.x,p.y,m.x,m.y,w[4],w[5]]},v=[].concat(h(d.topLeft),h(d.topRight),h(d.bottomRight),h(d.bottomLeft));return Os(i,o,v,e,r)},generateBarrelBezierPts:function(e,r,n,a){var i=r/2,o=e/2,s=n-o,l=n+o,u=a-i,c=a+i,f=Tv(e,r),d=f.heightOffset,h=f.widthOffset,v=f.ctrlPtOffsetPct*e,y={topLeft:[s,u+d,s+v,u,s+h,u],topRight:[l-h,u,l-v,u,l,u+d],bottomRight:[l,c-d,l-v,c,l-h,c],bottomLeft:[s+h,c,s+v,c,s,c-d]};return y.topLeft.isTop=!0,y.topRight.isTop=!0,y.bottomLeft.isBottom=!0,y.bottomRight.isBottom=!0,y},checkPoint:function(e,r,n,a,i,o,s,l){var u=Tv(a,i),c=u.heightOffset,f=u.widthOffset;if(Rn(e,r,this.points,o,s,a,i-2*c,[0,-1],n)||Rn(e,r,this.points,o,s,a-2*f,i,[0,-1],n))return!0;for(var d=this.generateBarrelBezierPts(a,i,o,s),h=function(C,T,P){var k=P[4],D=P[2],M=P[0],I=P[5],B=P[1],L=Math.min(k,M),N=Math.max(k,M),R=Math.min(I,B),F=Math.max(I,B);if(L<=C&&C<=N&&R<=T&&T<=F){var z=eN(k,D,M),O=WI(z[0],z[1],z[2],C),V=O.filter(function(W){return 0<=W&&W<=1});if(V.length>0)return V[0]}return null},v=Object.keys(d),y=0;y<v.length;y++){var w=v[y],g=d[w],p=h(e,r,g);if(p!=null){var m=g[5],x=g[3],E=g[1],S=Mt(m,x,E,p);if(g.isTop&&S<=r||g.isBottom&&r<=S)return!0}}return!1}}};Nn.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:tr(4,0),draw:function(e,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,this.points,o)},intersectLine:function(e,r,n,a,i,o,s,l){var u=e-(n/2+s),c=r-(a/2+s),f=c,d=e+(n/2+s),h=Xn(i,o,e,r,u,c,d,f,!1);return h.length>0?h:MS(i,o,e,r,n,a,s,l)},checkPoint:function(e,r,n,a,i,o,s,l){l=l==="auto"?va(a,i):l;var u=2*l;if(Rn(e,r,this.points,o,s,a,i-u,[0,-1],n)||Rn(e,r,this.points,o,s,a-u,i,[0,-1],n))return!0;var c=a/2+2*n,f=i/2+2*n,d=[o-c,s-f,o-c,s,o+c,s,o+c,s-f];return!!(hr(e,r,d)||Wa(e,r,u,u,o+a/2-l,s+i/2-l,n)||Wa(e,r,u,u,o-a/2+l,s+i/2-l,n))}}};Nn.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",tr(3,0)),this.generateRoundPolygon("round-triangle",tr(3,0)),this.generatePolygon("rectangle",tr(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",tr(5,0)),this.generateRoundPolygon("round-pentagon",tr(5,0)),this.generatePolygon("hexagon",tr(6,0)),this.generateRoundPolygon("round-hexagon",tr(6,0)),this.generatePolygon("heptagon",tr(7,0)),this.generateRoundPolygon("round-heptagon",tr(7,0)),this.generatePolygon("octagon",tr(8,0)),this.generateRoundPolygon("round-octagon",tr(8,0));var n=new Array(20);{var a=Cv(5,0),i=Cv(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<i.length/2;s++)i[s*2]*=o,i[s*2+1]*=o;for(var s=0;s<20/4;s++)n[s*4]=a[s*2],n[s*4+1]=a[s*2+1],n[s*4+2]=i[s*2],n[s*4+3]=i[s*2+1]}n=RS(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l)}t.makePolygon=function(u){var c=u.join("$"),f="polygon-"+c,d;return(d=this[f])?d:e.generatePolygon(f,u)}};var sl={};sl.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};sl.redraw=function(t){t=t||PS();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};sl.beforeRender=function(t,e){if(!this.destroyed){e==null&&at("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,a){return a.priority-n.priority})}};var lw=function(e,r,n){for(var a=e.beforeRenderCallbacks,i=0;i<a.length;i++)a[i].fn(r,n)};sl.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function(a){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){lw(t,!0,a);var i=Mn();t.render(t.renderOptions);var o=t.lastDrawTime=Mn();t.averageRedrawTime===void 0&&(t.averageRedrawTime=o-i),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var s=o-i;t.redrawTotalTime+=s,t.lastRedrawTime=s,t.averageRedrawTime=t.averageRedrawTime/2+s/2,t.requestedFrame=!1}else lw(t,!1,a);t.skipFrame=!1,Ju(r)}};Ju(r)}};var gO=function(e){this.init(e)},IC=gO,bo=IC.prototype;bo.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];bo.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var a=n.document,i=a.head,o="__________cytoscape_stylesheet",s="__________cytoscape_container",l=a.getElementById(o)!=null;if(r.className.indexOf(s)<0&&(r.className=(r.className||"")+" "+s),!l){var u=a.createElement("style");u.id=o,u.textContent="."+s+" { position: relative; }",i.insertBefore(u,i.children[0])}var c=n.getComputedStyle(r),f=c.getPropertyValue("position");f==="static"&&We("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.webgl=t.webgl,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=oe(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};bo.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),t==="gc"&&r.redrawHint("gc",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};bo.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};bo.isHeadless=function(){return!1};[kg,MC,RC,xo,Nn,sl].forEach(function(t){Se(bo,t)});var uh=1e3/60,NC={setupDequeueing:function(e){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var i=rl(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},e.deqRedrawThreshold),o=function(u,c){var f=Mn(),d=a.averageRedrawTime,h=a.lastRedrawTime,v=[],y=a.cy.extent(),w=a.getPixelRatio();for(u||a.flushRenderedStyleQueue();;){var g=Mn(),p=g-f,m=g-c;if(h<uh){var x=uh-(u?d:0);if(m>=e.deqFastCost*x)break}else if(u){if(p>=e.deqCost*h||p>=e.deqAvgCost*d)break}else if(m>=e.deqNoDrawCost*uh)break;var E=e.deq(n,w,y);if(E.length>0)for(var S=0;S<E.length;S++)v.push(E[S]);else break}v.length>0&&(e.onDeqd(n,v),!u&&e.shouldRedraw(n,v,w,y)&&i())},s=e.priority||dg;a.beforeRender(o,s(n))}}}},mO=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ec;Ea(this,t),this.idsByKey=new bn,this.keyForId=new bn,this.cachesByLvl=new bn,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return Sa(t,[{key:"getIdsFor",value:function(r){r==null&&at("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(r);return a||(a=new go,n.set(r,a)),a}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);this.deleteIdForKey(a,n),this.addIdForKey(i,n),this.keyForId.set(n,i)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);return a!==i}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,a=this.lvls,i=n.get(r);return i||(i=new bn,n.set(r,i),a.push(r)),i}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var a=this.getKey(r),i=this.getCache(a,n);return i!=null&&this.updateKeyMappingFor(r),i}},{key:"getForCachedKey",value:function(r,n){var a=this.keyForId.get(r.id()),i=this.getCache(a,n);return i}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var a=this.getKey(r);return this.hasCache(a,n)}},{key:"setCache",value:function(r,n,a){a.key=r,this.getCachesAt(n).set(r,a)}},{key:"set",value:function(r,n,a){var i=this.getKey(r);this.setCache(i,n,a),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var a=this.getKey(r);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(a){return n.deleteCache(r,a)})}},{key:"invalidate",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(r);var i=this.doesEleInvalidateKey(r);return i&&this.invalidateKey(a),i||this.getNumberOfIdsForKey(a)===0}}])}(),uw=25,jl=50,gu=-4,zv=3,LC=7.99,yO=8,wO=1024,xO=1024,bO=1024,EO=.2,SO=.8,CO=10,TO=.15,PO=.1,kO=.9,AO=.9,DO=100,MO=1,ji={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},RO=Ht({getKey:null,doesEleInvalidateKey:ec,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:SS,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Yo=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var a=RO(r);Se(n,a),n.lookup=new mO(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},At=Yo.prototype;At.reasons=ji;At.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};At.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};At.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new nl(function(r,n){return n.reqs-r.reqs});return e};At.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};At.getElement=function(t,e,r,n,a){var i=this,o=this.renderer,s=o.cy.zoom(),l=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!i.allowEdgeTxrCaching&&t.isEdge()||!i.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(vg(s*r))),n<gu)n=gu;else if(s>=LC||n>zv)return null;var u=Math.pow(2,n),c=e.h*u,f=e.w*u,d=o.eleTextBiggerThanMin(t,u);if(!this.isVisible(t,d))return null;var h=l.get(t,n);if(h&&h.invalidated&&(h.invalidated=!1,h.texture.invalidatedWidth-=h.width),h)return h;var v;if(c<=uw?v=uw:c<=jl?v=jl:v=Math.ceil(c/jl)*jl,c>bO||f>xO)return null;var y=i.getTextureQueue(v),w=y[y.length-2],g=function(){return i.recycleTexture(v,f)||i.addTexture(v,f)};w||(w=y[y.length-1]),w||(w=g()),w.width-w.usedWidth<f&&(w=g());for(var p=function(L){return L&&L.scaledLabelShown===d},m=a&&a===ji.dequeue,x=a&&a===ji.highQuality,E=a&&a===ji.downscale,S,b=n+1;b<=zv;b++){var C=l.get(t,b);if(C){S=C;break}}var T=S&&S.level===n+1?S:null,P=function(){w.context.drawImage(T.texture.canvas,T.x,0,T.width,T.height,w.usedWidth,0,f,c)};if(w.context.setTransform(1,0,0,1,0,0),w.context.clearRect(w.usedWidth,0,f,v),p(T))P();else if(p(S))if(x){for(var k=S.level;k>n;k--)T=i.getElement(t,e,r,k,ji.downscale);P()}else return i.queueElement(t,S.level-1),S;else{var D;if(!m&&!x&&!E)for(var M=n-1;M>=gu;M--){var I=l.get(t,M);if(I){D=I;break}}if(p(D))return i.queueElement(t,n),D;w.context.translate(w.usedWidth,0),w.context.scale(u,u),this.drawElement(w.context,t,e,d,!1),w.context.scale(1/u,1/u),w.context.translate(-w.usedWidth,0)}return h={x:w.usedWidth,texture:w,level:n,scale:u,width:f,height:c,scaledLabelShown:d},w.usedWidth+=Math.ceil(f+yO),w.eleCaches.push(h),l.set(t,n,h),i.checkTextureFullness(w),h};At.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};At.invalidateElement=function(t){var e=this,r=e.lookup,n=[],a=r.isInvalid(t);if(a){for(var i=gu;i<=zv;i++){var o=r.getForCachedKey(t,i);o&&n.push(o)}var s=r.invalidate(t);if(s)for(var l=0;l<n.length;l++){var u=n[l],c=u.texture;c.invalidatedWidth+=u.width,u.invalidated=!0,e.checkTextureUtility(c)}e.removeFromQueue(t)}};At.checkTextureUtility=function(t){t.invalidatedWidth>=EO*t.width&&this.retireTexture(t)};At.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>SO&&t.fullnessChecks>=CO?ha(r,t):t.fullnessChecks++};At.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),a=this.lookup;ha(n,t),t.retired=!0;for(var i=t.eleCaches,o=0;o<i.length;o++){var s=i[o];a.deleteCache(s.key,s.level)}hg(i);var l=e.getRetiredTextureQueue(r);l.push(t)};At.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),a={};return n.push(a),a.eleCaches=[],a.height=t,a.width=Math.max(wO,e),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=r.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a};At.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),a=r.getRetiredTextureQueue(t),i=0;i<a.length;i++){var o=a[i];if(o.width>=e)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,hg(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),ha(a,o),n.push(o),o}};At.queueElement=function(t,e){var r=this,n=r.getElementQueue(),a=r.getElementKeyToQueue(),i=this.getKey(t),o=a[i];if(o)o.level=Math.max(o.level,e),o.eles.merge(t),o.reqs++,n.updateItem(o);else{var s={eles:t.spawn().merge(t),level:e,reqs:1,key:i};n.push(s),a[i]=s}};At.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=[],i=e.lookup,o=0;o<MO&&r.size()>0;o++){var s=r.pop(),l=s.key,u=s.eles[0],c=i.hasCache(u,s.level);if(n[l]=null,c)continue;a.push(s);var f=e.getBoundingBox(u);e.getElement(u,f,t,s.level,ji.dequeue)}return a};At.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=this.getKey(t),i=n[a];i!=null&&(i.eles.length===1?(i.reqs=fg,r.updateItem(i),r.pop(),n[a]=null):i.eles.unmerge(t))};At.onDequeue=function(t){this.onDequeues.push(t)};At.offDequeue=function(t){ha(this.onDequeues,t)};At.setupDequeueing=NC.setupDequeueing({deqRedrawThreshold:DO,deqCost:TO,deqAvgCost:PO,deqNoDrawCost:kO,deqFastCost:AO,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var a=e.onDequeues[n];a(r)}},shouldRedraw:function(e,r,n,a){for(var i=0;i<r.length;i++)for(var o=r[i].eles,s=0;s<o.length;s++){var l=o[s].boundingBox();if(gg(l,a))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var IO=1,cs=-4,lc=2,NO=3.99,LO=50,BO=50,OO=.15,FO=.1,zO=.9,VO=.9,_O=1,cw=250,UO=4e3*4e3,fw=32767,HO=!0,BC=function(e){var r=this,n=r.renderer=e,a=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=Mn()-2*cw,r.skipping=!1,r.eleTxrDeqs=a.collection(),r.scheduleElementRefinement=rl(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},BO),n.beforeRender(function(o,s){s-r.lastInvalidationTime<=cw?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var i=function(s,l){return l.reqs-s.reqs};r.layersQueue=new nl(i),r.setupDequeueing()},jt=BC.prototype,dw=0,jO=Math.pow(2,53)-1;jt.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),a=Math.ceil(t.h*r),i=this.renderer.makeOffscreenCanvas(n,a),o={id:dw=++dw%jO,bb:t,level:e,width:n,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,l=-o.bb.x1,u=-o.bb.y1;return s.scale(r,r),s.translate(l,u),o};jt.getLayers=function(t,e,r){var n=this,a=n.renderer,i=a.cy,o=i.zoom(),s=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(vg(o*e)),r<cs)r=cs;else if(o>=NO||r>lc)return null}n.validateLayersElesOrdering(r,t);var l=n.layersByLevel,u=Math.pow(2,r),c=l[r]=l[r]||[],f,d=n.levelIsComplete(r,t),h,v=function(){var P=function(B){if(n.validateLayersElesOrdering(B,t),n.levelIsComplete(B,t))return h=l[B],!0},k=function(B){if(!h)for(var L=r+B;cs<=L&&L<=lc&&!P(L);L+=B);};k(1),k(-1);for(var D=c.length-1;D>=0;D--){var M=c[D];M.invalid&&ha(c,M)}};if(!d)v();else return c;var y=function(){if(!f){f=ir();for(var P=0;P<t.length;P++)_I(f,t[P].boundingBox())}return f},w=function(P){P=P||{};var k=P.after;y();var D=Math.ceil(f.w*u),M=Math.ceil(f.h*u);if(D>fw||M>fw)return null;var I=D*M;if(I>UO)return null;var B=n.makeLayer(f,r);if(k!=null){var L=c.indexOf(k)+1;c.splice(L,0,B)}else(P.insert===void 0||P.insert)&&c.unshift(B);return B};if(n.skipping&&!s)return null;for(var g=null,p=t.length/IO,m=!s,x=0;x<t.length;x++){var E=t[x],S=E._private.rscratch,b=S.imgLayerCaches=S.imgLayerCaches||{},C=b[r];if(C){g=C;continue}if((!g||g.eles.length>=p||!DS(g.bb,E.boundingBox()))&&(g=w({insert:!0,after:g}),!g))return null;h||m?n.queueLayer(g,E):n.drawEleInLayer(g,E,r,e),g.eles.push(E),b[r]=g}return h||(m?null:c)};jt.getEleLevelForLayerLevel=function(t,e){return t};jt.drawEleInLayer=function(t,e,r,n){var a=this,i=this.renderer,o=t.context,s=e.boundingBox();s.w===0||s.h===0||!e.visible()||(r=a.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(o,!1),i.drawCachedElement(o,e,null,null,r,HO),i.setImgSmoothing(o,!0))};jt.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var a=0,i=0;i<n.length;i++){var o=n[i];if(o.reqs>0||o.invalid)return!1;a+=o.eles.length}return a===e.length};jt.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var a=r[n],i=-1,o=0;o<e.length;o++)if(a.eles[0]===e[o]){i=o;break}if(i<0){this.invalidateLayer(a);continue}for(var s=i,o=0;o<a.eles.length;o++)if(a.eles[o]!==e[s+o]){this.invalidateLayer(a);break}}};jt.updateElementsInLayers=function(t,e){for(var r=this,n=Qs(t[0]),a=0;a<t.length;a++)for(var i=n?null:t[a],o=n?t[a]:t[a].ele,s=o._private.rscratch,l=s.imgLayerCaches=s.imgLayerCaches||{},u=cs;u<=lc;u++){var c=l[u];c&&(i&&r.getEleLevelForLayerLevel(c.level)!==i.level||e(c,o,i))}};jt.haveLayers=function(){for(var t=this,e=!1,r=cs;r<=lc;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};jt.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=Mn(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,a,i){e.invalidateLayer(n)}))};jt.invalidateLayer=function(t){if(this.lastInvalidationTime=Mn(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];ha(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var a=0;a<r.length;a++){var i=r[a]._private.rscratch.imgLayerCaches;i&&(i[e]=null)}}};jt.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,a,i){var o=n.replacement;if(o||(o=n.replacement=e.makeLayer(n.bb,n.level),o.replaces=n,o.eles=n.eles),!o.reqs)for(var s=0;s<o.eles.length;s++)e.queueLayer(o,o.eles[s])})};jt.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};jt.queueLayer=function(t,e){var r=this,n=r.layersQueue,a=t.elesQueue,i=a.hasId=a.hasId||{};if(!t.replacement){if(e){if(i[e.id()])return;a.push(e),i[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};jt.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],a=0;a<_O&&r.size()!==0;){var i=r.peek();if(i.replacement){r.pop();continue}if(i.replaces&&i!==i.replaces.replacement){r.pop();continue}if(i.invalid){r.pop();continue}var o=i.elesQueue.shift();o&&(e.drawEleInLayer(i,o,i.level,t),a++),n.length===0&&n.push(!0),i.elesQueue.length===0&&(r.pop(),i.reqs=0,i.replaces&&e.applyLayerReplacement(i),e.requestRedraw())}return n};jt.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,a=r.indexOf(n);if(!(a<0||n.invalid)){r[a]=t;for(var i=0;i<t.eles.length;i++){var o=t.eles[i]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[t.level]=t)}e.requestRedraw()}};jt.requestRedraw=rl(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);jt.setupDequeueing=NC.setupDequeueing({deqRedrawThreshold:LO,deqCost:OO,deqAvgCost:FO,deqNoDrawCost:zO,deqFastCost:VO,deq:function(e,r){return e.dequeue(r)},onDeqd:dg,shouldRedraw:SS,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var OC={},hw;function GO(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function qO(t,e,r){for(var n,a=0;a<e.length;a++){var i=e[a];a===0&&(n=i),t.lineTo(i.x,i.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function vw(t,e,r){t.beginPath&&t.beginPath();for(var n=e,a=0;a<n.length;a++){var i=n[a];t.lineTo(i.x,i.y)}var o=r,s=r[0];t.moveTo(s.x,s.y);for(var a=1;a<o.length;a++){var i=o[a];t.lineTo(i.x,i.y)}t.closePath&&t.closePath()}function WO(t,e,r,n,a){t.beginPath&&t.beginPath(),t.arc(r,n,a,0,Math.PI*2,!1);var i=e,o=i[0];t.moveTo(o.x,o.y);for(var s=0;s<i.length;s++){var l=i[s];t.lineTo(l.x,l.y)}t.closePath&&t.closePath()}function $O(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}OC.arrowShapeImpl=function(t){return(hw||(hw={polygon:GO,"triangle-backcurve":qO,"triangle-tee":vw,"circle-triangle":WO,"triangle-cross":vw,circle:$O}))[t]};var fn={};fn.drawElement=function(t,e,r,n,a,i){var o=this;e.isNode()?o.drawNode(t,e,r,n,a,i):o.drawEdge(t,e,r,n,a,i)};fn.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};fn.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};fn.drawCachedElementPortion=function(t,e,r,n,a,i,o,s){var l=this,u=r.getBoundingBox(e);if(!(u.w===0||u.h===0)){var c=r.getElement(e,u,n,a,i);if(c!=null){var f=s(l,e);if(f===0)return;var d=o(l,e),h=u.x1,v=u.y1,y=u.w,w=u.h,g,p,m,x,E;if(d!==0){var S=r.getRotationPoint(e);m=S.x,x=S.y,t.translate(m,x),t.rotate(d),E=l.getImgSmoothing(t),E||l.setImgSmoothing(t,!0);var b=r.getRotationOffset(e);g=b.x,p=b.y}else g=h,p=v;var C;f!==1&&(C=t.globalAlpha,t.globalAlpha=C*f),t.drawImage(c.texture.canvas,c.x,0,c.width,c.height,g,p,y,w),f!==1&&(t.globalAlpha=C),d!==0&&(t.rotate(-d),t.translate(-m,-x),E||l.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var KO=function(){return 0},YO=function(e,r){return e.getTextAngle(r,null)},XO=function(e,r){return e.getTextAngle(r,"source")},ZO=function(e,r){return e.getTextAngle(r,"target")},QO=function(e,r){return r.effectiveOpacity()},ch=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};fn.drawCachedElement=function(t,e,r,n,a,i){var o=this,s=o.data,l=s.eleTxrCache,u=s.lblTxrCache,c=s.slbTxrCache,f=s.tlbTxrCache,d=e.boundingBox(),h=i===!0?l.reasons.highQuality:null;if(!(d.w===0||d.h===0||!e.visible())&&(!n||gg(d,n))){var v=e.isEdge(),y=e.element()._private.rscratch.badLine;o.drawElementUnderlay(t,e),o.drawCachedElementPortion(t,e,l,r,a,h,KO,QO),(!v||!y)&&o.drawCachedElementPortion(t,e,u,r,a,h,YO,ch),v&&!y&&(o.drawCachedElementPortion(t,e,c,r,a,h,XO,ch),o.drawCachedElementPortion(t,e,f,r,a,h,ZO,ch)),o.drawElementOverlay(t,e)}};fn.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var a=e[n];r.drawElement(t,a)}};fn.drawCachedElements=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var o=e[i];a.drawCachedElement(t,o,r,n)}};fn.drawCachedNodes=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var o=e[i];o.isNode()&&a.drawCachedElement(t,o,r,n)}};fn.drawLayeredElements=function(t,e,r,n){var a=this,i=a.data.lyrTxrCache.getLayers(e,r);if(i)for(var o=0;o<i.length;o++){var s=i[o],l=s.bb;l.w===0||l.h===0||t.drawImage(s.canvas,l.x1,l.y1,l.w,l.h)}else a.drawCachedElements(t,e,r,n)};var Ln={};Ln.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s=e._private.rscratch;if(!(i&&!e.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var l;r&&(l=r,t.translate(-l.x1,-l.y1));var u=i?e.pstyle("opacity").value:1,c=i?e.pstyle("line-opacity").value:1,f=e.pstyle("curve-style").value,d=e.pstyle("line-style").value,h=e.pstyle("width").pfValue,v=e.pstyle("line-cap").value,y=e.pstyle("line-outline-width").value,w=e.pstyle("line-outline-color").value,g=u*c,p=u*c,m=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g;f==="straight-triangle"?(o.eleStrokeStyle(t,e,B),o.drawEdgeTrianglePath(e,t,s.allpts)):(t.lineWidth=h,t.lineCap=v,o.eleStrokeStyle(t,e,B),o.drawEdgePath(e,t,s.allpts,d),t.lineCap="butt")},x=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g;if(t.lineWidth=h+y,t.lineCap=v,y>0)o.colorStrokeStyle(t,w[0],w[1],w[2],B);else{t.lineCap="butt";return}f==="straight-triangle"?o.drawEdgeTrianglePath(e,t,s.allpts):(o.drawEdgePath(e,t,s.allpts,d),t.lineCap="butt")},E=function(){a&&o.drawEdgeOverlay(t,e)},S=function(){a&&o.drawEdgeUnderlay(t,e)},b=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p;o.drawArrowheads(t,e,B)},C=function(){o.drawElementText(t,e,null,n)};t.lineJoin="round";var T=e.pstyle("ghost").value==="yes";if(T){var P=e.pstyle("ghost-offset-x").pfValue,k=e.pstyle("ghost-offset-y").pfValue,D=e.pstyle("ghost-opacity").value,M=g*D;t.translate(P,k),m(M),b(M),t.translate(-P,-k)}else x();S(),m(),b(),E(),C(),r&&t.translate(l.x1,l.y1)}};var FC=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var a=n.pstyle("".concat(e,"-opacity")).value;if(a!==0){var i=this,o=i.usePaths(),s=n._private.rscratch,l=n.pstyle("".concat(e,"-padding")).pfValue,u=2*l,c=n.pstyle("".concat(e,"-color")).value;r.lineWidth=u,s.edgeType==="self"&&!o?r.lineCap="butt":r.lineCap="round",i.colorStrokeStyle(r,c[0],c[1],c[2],a),i.drawEdgePath(n,r,s.allpts,"solid")}}}};Ln.drawEdgeOverlay=FC("overlay");Ln.drawEdgeUnderlay=FC("underlay");Ln.drawEdgePath=function(t,e,r,n){var a=t._private.rscratch,i=e,o,s=!1,l=this.usePaths(),u=t.pstyle("line-dash-pattern").pfValue,c=t.pstyle("line-dash-offset").pfValue;if(l){var f=r.join("$"),d=a.pathCacheKey&&a.pathCacheKey===f;d?(o=e=a.pathCache,s=!0):(o=e=new Path2D,a.pathCacheKey=f,a.pathCache=o)}if(i.setLineDash)switch(n){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash(u),i.lineDashOffset=c;break;case"solid":i.setLineDash([]);break}if(!s&&!a.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var h=2;h+3<r.length;h+=4)e.quadraticCurveTo(r[h],r[h+1],r[h+2],r[h+3]);break;case"straight":case"haystack":for(var v=2;v+1<r.length;v+=2)e.lineTo(r[v],r[v+1]);break;case"segments":if(a.isRound){var y=pr(a.roundCorners),w;try{for(y.s();!(w=y.n()).done;){var g=w.value;TC(e,g)}}catch(m){y.e(m)}finally{y.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var p=2;p+1<r.length;p+=2)e.lineTo(r[p],r[p+1]);break}e=i,l?e.stroke(o):e.stroke(),e.setLineDash&&e.setLineDash([])};Ln.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,a=0;a+1<r.length;a+=2){var i=[r[a+2]-r[a],r[a+3]-r[a+1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=[i[1]/o,-i[0]/o],l=[s[0]*n/2,s[1]*n/2];e.beginPath(),e.moveTo(r[a]-l[0],r[a+1]-l[1]),e.lineTo(r[a]+l[0],r[a+1]+l[1]),e.lineTo(r[a+2],r[a+3]),e.closePath(),e.fill()}};Ln.drawArrowheads=function(t,e,r){var n=e._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),a||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};Ln.drawArrowhead=function(t,e,r,n,a,i,o){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(i)||i==null)){var s=this,l=e.pstyle(r+"-arrow-shape").value;if(l!=="none"){var u=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",c=e.pstyle(r+"-arrow-fill").value,f=e.pstyle("width").pfValue,d=e.pstyle(r+"-arrow-width"),h=d.value==="match-line"?f:d.pfValue;d.units==="%"&&(h*=f);var v=e.pstyle("opacity").value;o===void 0&&(o=v);var y=t.globalCompositeOperation;(o!==1||c==="hollow")&&(t.globalCompositeOperation="destination-out",s.colorFillStyle(t,255,255,255,1),s.colorStrokeStyle(t,255,255,255,1),s.drawArrowShape(e,t,u,f,l,h,n,a,i),t.globalCompositeOperation=y);var w=e.pstyle(r+"-arrow-color").value;s.colorFillStyle(t,w[0],w[1],w[2],o),s.colorStrokeStyle(t,w[0],w[1],w[2],o),s.drawArrowShape(e,t,c,f,l,h,n,a,i)}}};Ln.drawArrowShape=function(t,e,r,n,a,i,o,s,l){var u=this,c=this.usePaths()&&a!=="triangle-cross",f=!1,d,h=e,v={x:o,y:s},y=t.pstyle("arrow-scale").value,w=this.getArrowWidth(n,y),g=u.arrowShapes[a];if(c){var p=u.arrowPathCache=u.arrowPathCache||[],m=ti(a),x=p[m];x!=null?(d=e=x,f=!0):(d=e=new Path2D,p[m]=d)}f||(e.beginPath&&e.beginPath(),c?g.draw(e,1,0,{x:0,y:0},1):g.draw(e,w,l,v,n),e.closePath&&e.closePath()),e=h,c&&(e.translate(o,s),e.rotate(l),e.scale(w,w)),(r==="filled"||r==="both")&&(c?e.fill(d):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=i/(c?w:1),e.lineJoin="miter",c?e.stroke(d):e.stroke()),c&&(e.scale(1/w,1/w),e.rotate(-l),e.translate(-o,-s))};var Mg={};Mg.safeDrawImage=function(t,e,r,n,a,i,o,s,l,u){if(!(a<=0||i<=0||l<=0||u<=0))try{t.drawImage(e,r,n,a,i,o,s,l,u)}catch(c){We(c)}};Mg.drawInscribedImage=function(t,e,r,n,a){var i=this,o=r.position(),s=o.x,l=o.y,u=r.cy().style(),c=u.getIndexedStyle.bind(u),f=c(r,"background-fit","value",n),d=c(r,"background-repeat","value",n),h=r.width(),v=r.height(),y=r.padding()*2,w=h+(c(r,"background-width-relative-to","value",n)==="inner"?0:y),g=v+(c(r,"background-height-relative-to","value",n)==="inner"?0:y),p=r._private.rscratch,m=c(r,"background-clip","value",n),x=m==="node",E=c(r,"background-image-opacity","value",n)*a,S=c(r,"background-image-smoothing","value",n),b=r.pstyle("corner-radius").value;b!=="auto"&&(b=r.pstyle("corner-radius").pfValue);var C=e.width||e.cachedW,T=e.height||e.cachedH;(C==null||T==null)&&(document.body.appendChild(e),C=e.cachedW=e.width||e.offsetWidth,T=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var P=C,k=T;if(c(r,"background-width","value",n)!=="auto"&&(c(r,"background-width","units",n)==="%"?P=c(r,"background-width","pfValue",n)*w:P=c(r,"background-width","pfValue",n)),c(r,"background-height","value",n)!=="auto"&&(c(r,"background-height","units",n)==="%"?k=c(r,"background-height","pfValue",n)*g:k=c(r,"background-height","pfValue",n)),!(P===0||k===0)){if(f==="contain"){var D=Math.min(w/P,g/k);P*=D,k*=D}else if(f==="cover"){var D=Math.max(w/P,g/k);P*=D,k*=D}var M=s-w/2,I=c(r,"background-position-x","units",n),B=c(r,"background-position-x","pfValue",n);I==="%"?M+=(w-P)*B:M+=B;var L=c(r,"background-offset-x","units",n),N=c(r,"background-offset-x","pfValue",n);L==="%"?M+=(w-P)*N:M+=N;var R=l-g/2,F=c(r,"background-position-y","units",n),z=c(r,"background-position-y","pfValue",n);F==="%"?R+=(g-k)*z:R+=z;var O=c(r,"background-offset-y","units",n),V=c(r,"background-offset-y","pfValue",n);O==="%"?R+=(g-k)*V:R+=V,p.pathCache&&(M-=s,R-=l,s=0,l=0);var W=t.globalAlpha;t.globalAlpha=E;var Y=i.getImgSmoothing(t),$=!1;if(S==="no"&&Y?(i.setImgSmoothing(t,!1),$=!0):S==="yes"&&!Y&&(i.setImgSmoothing(t,!0),$=!0),d==="no-repeat")x&&(t.save(),p.pathCache?t.clip(p.pathCache):(i.nodeShapes[i.getNodeShape(r)].draw(t,s,l,w,g,b,p),t.clip())),i.safeDrawImage(t,e,0,0,C,T,M,R,P,k),x&&t.restore();else{var X=t.createPattern(e,d);t.fillStyle=X,i.nodeShapes[i.getNodeShape(r)].draw(t,s,l,w,g,b,p),t.translate(M,R),t.fill(),t.translate(-M,-R)}t.globalAlpha=W,$&&i.setImgSmoothing(t,Y)}};var di={};di.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(vg(r*n));e=Math.pow(2,a)}var i=t.pstyle("font-size").pfValue*e,o=t.pstyle("min-zoomed-font-size").pfValue;return!(i<o)};di.drawElementText=function(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(n==null){if(i&&!o.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var s=e.pstyle("label");if(!s||!s.value)return;var l=o.getLabelJustification(e);t.textAlign=l,t.textBaseline="bottom"}else{var u=e.element()._private.rscratch.badLine,c=e.pstyle("label"),f=e.pstyle("source-label"),d=e.pstyle("target-label");if(u||(!c||!c.value)&&(!f||!f.value)&&(!d||!d.value))return;t.textAlign="center",t.textBaseline="bottom"}var h=!r,v;r&&(v=r,t.translate(-v.x1,-v.y1)),a==null?(o.drawText(t,e,null,h,i),e.isEdge()&&(o.drawText(t,e,"source",h,i),o.drawText(t,e,"target",h,i))):o.drawText(t,e,a,h,i),r&&t.translate(v.x1,v.y1)};di.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};di.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,a=e.pstyle("font-size").pfValue+"px",i=e.pstyle("font-family").strValue,o=e.pstyle("font-weight").strValue,s=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*s,u=e.pstyle("color").value,c=e.pstyle("text-outline-color").value;t.font=n+" "+o+" "+a+" "+i,t.lineJoin="round",this.colorFillStyle(t,u[0],u[1],u[2],s),this.colorStrokeStyle(t,c[0],c[1],c[2],l)};function JO(t,e,r,n,a){var i=Math.min(n,a),o=i/2,s=e+n/2,l=r+a/2;t.beginPath(),t.arc(s,l,o,0,Math.PI*2),t.closePath()}function pw(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,o=Math.min(i,n/2,a/2);t.beginPath(),t.moveTo(e+o,r),t.lineTo(e+n-o,r),t.quadraticCurveTo(e+n,r,e+n,r+o),t.lineTo(e+n,r+a-o),t.quadraticCurveTo(e+n,r+a,e+n-o,r+a),t.lineTo(e+o,r+a),t.quadraticCurveTo(e,r+a,e,r+a-o),t.lineTo(e,r+o),t.quadraticCurveTo(e,r,e+o,r),t.closePath()}di.getTextAngle=function(t,e){var r,n=t._private,a=n.rscratch,i=e?e+"-":"",o=t.pstyle(i+"text-rotation");if(o.strValue==="autorotate"){var s=dr(a,"labelAngle",e);r=t.isEdge()?s:0}else o.strValue==="none"?r=0:r=o.pfValue;return r};di.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=e._private,o=i.rscratch,s=a?e.effectiveOpacity():1;if(!(a&&(s===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var l=dr(o,"labelX",r),u=dr(o,"labelY",r),c,f,d=this.getLabelText(e,r);if(d!=null&&d!==""&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(t,e,a);var h=r?r+"-":"",v=dr(o,"labelWidth",r),y=dr(o,"labelHeight",r),w=e.pstyle(h+"text-margin-x").pfValue,g=e.pstyle(h+"text-margin-y").pfValue,p=e.isEdge(),m=e.pstyle("text-halign").value,x=e.pstyle("text-valign").value;p&&(m="center",x="center"),l+=w,u+=g;var E;switch(n?E=this.getTextAngle(e,r):E=0,E!==0&&(c=l,f=u,t.translate(c,f),t.rotate(E),l=0,u=0),x){case"top":break;case"center":u+=y/2;break;case"bottom":u+=y;break}var S=e.pstyle("text-background-opacity").value,b=e.pstyle("text-border-opacity").value,C=e.pstyle("text-border-width").pfValue,T=e.pstyle("text-background-padding").pfValue,P=e.pstyle("text-background-shape").strValue,k=P==="round-rectangle"||P==="roundrectangle",D=P==="circle",M=2;if(S>0||C>0&&b>0){var I=t.fillStyle,B=t.strokeStyle,L=t.lineWidth,N=e.pstyle("text-background-color").value,R=e.pstyle("text-border-color").value,F=e.pstyle("text-border-style").value,z=S>0,O=C>0&&b>0,V=l-T;switch(m){case"left":V-=v;break;case"center":V-=v/2;break}var W=u-y-T,Y=v+2*T,$=y+2*T;if(z&&(t.fillStyle="rgba(".concat(N[0],",").concat(N[1],",").concat(N[2],",").concat(S*s,")")),O&&(t.strokeStyle="rgba(".concat(R[0],",").concat(R[1],",").concat(R[2],",").concat(b*s,")"),t.lineWidth=C,t.setLineDash))switch(F){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=C/4,t.setLineDash([]);break;case"solid":default:t.setLineDash([]);break}if(k?(t.beginPath(),pw(t,V,W,Y,$,M)):D?(t.beginPath(),JO(t,V,W,Y,$)):(t.beginPath(),t.rect(V,W,Y,$)),z&&t.fill(),O&&t.stroke(),O&&F==="double"){var X=C/2;t.beginPath(),k?pw(t,V+X,W+X,Y-2*X,$-2*X,M):t.rect(V+X,W+X,Y-2*X,$-2*X),t.stroke()}t.fillStyle=I,t.strokeStyle=B,t.lineWidth=L,t.setLineDash&&t.setLineDash([])}var te=2*e.pstyle("text-outline-width").pfValue;if(te>0&&(t.lineWidth=te),e.pstyle("text-wrap").value==="wrap"){var se=dr(o,"labelWrapCachedLines",r),ee=dr(o,"labelLineHeight",r),_=v/2,U=this.getLabelJustification(e);switch(U==="auto"||(m==="left"?U==="left"?l+=-v:U==="center"&&(l+=-_):m==="center"?U==="left"?l+=-_:U==="right"&&(l+=_):m==="right"&&(U==="center"?l+=_:U==="right"&&(l+=v))),x){case"top":u-=(se.length-1)*ee;break;case"center":case"bottom":u-=(se.length-1)*ee;break}for(var G=0;G<se.length;G++)te>0&&t.strokeText(se[G],l,u),t.fillText(se[G],l,u),u+=ee}else te>0&&t.strokeText(d,l,u),t.fillText(d,l,u);E!==0&&(t.rotate(-E),t.translate(-c,-f))}}};var Ta={};Ta.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s,l,u=e._private,c=u.rscratch,f=e.position();if(!(!oe(f.x)||!oe(f.y))&&!(i&&!e.visible())){var d=i?e.effectiveOpacity():1,h=o.usePaths(),v,y=!1,w=e.padding();s=e.width()+2*w,l=e.height()+2*w;var g;r&&(g=r,t.translate(-g.x1,-g.y1));for(var p=e.pstyle("background-image"),m=p.value,x=new Array(m.length),E=new Array(m.length),S=0,b=0;b<m.length;b++){var C=m[b],T=x[b]=C!=null&&C!=="none";if(T){var P=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",b);S++,E[b]=o.getCachedImage(C,P,function(){u.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var k=e.pstyle("background-blacken").value,D=e.pstyle("border-width").pfValue,M=e.pstyle("background-opacity").value*d,I=e.pstyle("border-color").value,B=e.pstyle("border-style").value,L=e.pstyle("border-join").value,N=e.pstyle("border-cap").value,R=e.pstyle("border-position").value,F=e.pstyle("border-dash-pattern").pfValue,z=e.pstyle("border-dash-offset").pfValue,O=e.pstyle("border-opacity").value*d,V=e.pstyle("outline-width").pfValue,W=e.pstyle("outline-color").value,Y=e.pstyle("outline-style").value,$=e.pstyle("outline-opacity").value*d,X=e.pstyle("outline-offset").value,te=e.pstyle("corner-radius").value;te!=="auto"&&(te=e.pstyle("corner-radius").pfValue);var se=function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M;o.eleFillStyle(t,e,de)},ee=function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:O;o.colorStrokeStyle(t,I[0],I[1],I[2],de)},_=function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$;o.colorStrokeStyle(t,W[0],W[1],W[2],de)},U=function(de,Z,A,H){var q=o.nodePathCache=o.nodePathCache||[],K=ES(A==="polygon"?A+","+H.join(","):A,""+Z,""+de,""+te),J=q[K],fe,re=!1;return J!=null?(fe=J,re=!0,c.pathCache=fe):(fe=new Path2D,q[K]=c.pathCache=fe),{path:fe,cacheHit:re}},G=e.pstyle("shape").strValue,Q=e.pstyle("shape-polygon-points").pfValue;if(h){t.translate(f.x,f.y);var ie=U(s,l,G,Q);v=ie.path,y=ie.cacheHit}var ge=function(){if(!y){var de=f;h&&(de={x:0,y:0}),o.nodeShapes[o.getNodeShape(e)].draw(v||t,de.x,de.y,s,l,te,c)}h?t.fill(v):t.fill()},Oe=function(){for(var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,A=u.backgrounding,H=0,q=0;q<E.length;q++){var K=e.cy().style().getIndexedStyle(e,"background-image-containment","value",q);if(Z&&K==="over"||!Z&&K==="inside"){H++;continue}x[q]&&E[q].complete&&!E[q].error&&(H++,o.drawInscribedImage(t,E[q],e,q,de))}u.backgrounding=H!==S,A!==u.backgrounding&&e.updateStyle(!1)},Ae=function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d;o.hasPie(e)&&(o.drawPie(t,e,Z),de&&(h||o.nodeShapes[o.getNodeShape(e)].draw(t,f.x,f.y,s,l,te,c)))},Ce=function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d;o.hasStripe(e)&&(t.save(),h?t.clip(c.pathCache):(o.nodeShapes[o.getNodeShape(e)].draw(t,f.x,f.y,s,l,te,c),t.clip()),o.drawStripe(t,e,Z),t.restore(),de&&(h||o.nodeShapes[o.getNodeShape(e)].draw(t,f.x,f.y,s,l,te,c)))},be=function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,Z=(k>0?k:-k)*de,A=k>0?0:255;k!==0&&(o.colorFillStyle(t,A,A,A,Z),h?t.fill(v):t.fill())},le=function(){if(D>0){if(t.lineWidth=D,t.lineCap=N,t.lineJoin=L,t.setLineDash)switch(B){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(F),t.lineDashOffset=z;break;case"solid":case"double":t.setLineDash([]);break}if(R!=="center"){if(t.save(),t.lineWidth*=2,R==="inside")h?t.clip(v):t.clip();else{var de=new Path2D;de.rect(-s/2-D,-l/2-D,s+2*D,l+2*D),de.addPath(v),t.clip(de,"evenodd")}h?t.stroke(v):t.stroke(),t.restore()}else h?t.stroke(v):t.stroke();if(B==="double"){t.lineWidth=D/3;var Z=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",h?t.stroke(v):t.stroke(),t.globalCompositeOperation=Z}t.setLineDash&&t.setLineDash([])}},me=function(){if(V>0){if(t.lineWidth=V,t.lineCap="butt",t.setLineDash)switch(Y){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var de=f;h&&(de={x:0,y:0});var Z=o.getNodeShape(e),A=D;R==="inside"&&(A=0),R==="outside"&&(A*=2);var H=(s+A+(V+X))/s,q=(l+A+(V+X))/l,K=s*H,J=l*q,fe=o.nodeShapes[Z].points,re;if(h){var ve=U(K,J,Z,fe);re=ve.path}if(Z==="ellipse")o.drawEllipsePath(re||t,de.x,de.y,K,J);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(Z)){var he=0,Ee=0,Ie=0;Z==="round-diamond"?he=(A+X+V)*1.4:Z==="round-heptagon"?(he=(A+X+V)*1.075,Ie=-(A/2+X+V)/35):Z==="round-hexagon"?he=(A+X+V)*1.12:Z==="round-pentagon"?(he=(A+X+V)*1.13,Ie=-(A/2+X+V)/15):Z==="round-tag"?(he=(A+X+V)*1.12,Ee=(A/2+V+X)*.07):Z==="round-triangle"&&(he=(A+X+V)*(Math.PI/2),Ie=-(A+X/2+V)/Math.PI),he!==0&&(H=(s+he)/s,K=s*H,["round-hexagon","round-tag"].includes(Z)||(q=(l+he)/l,J=l*q)),te=te==="auto"?IS(K,J):te;for(var De=K/2,pe=J/2,Le=te+(A+V+X)/2,Ne=new Array(fe.length/2),bt=new Array(fe.length/2),ct=0;ct<fe.length/2;ct++)Ne[ct]={x:de.x+Ee+De*fe[ct*2],y:de.y+Ie+pe*fe[ct*2+1]};var er,pt,Dt,Et,Bt=Ne.length;for(pt=Ne[Bt-1],er=0;er<Bt;er++)Dt=Ne[er%Bt],Et=Ne[(er+1)%Bt],bt[er]=Ag(pt,Dt,Et,Le),pt=Dt,Dt=Et;o.drawRoundPolygonPath(re||t,de.x+Ee,de.y+Ie,s*H,l*q,fe,bt)}else if(["roundrectangle","round-rectangle"].includes(Z))te=te==="auto"?va(K,J):te,o.drawRoundRectanglePath(re||t,de.x,de.y,K,J,te+(A+V+X)/2);else if(["cutrectangle","cut-rectangle"].includes(Z))te=te==="auto"?mg():te,o.drawCutRectanglePath(re||t,de.x,de.y,K,J,null,te+(A+V+X)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(Z))te=te==="auto"?va(K,J):te,o.drawBottomRoundRectanglePath(re||t,de.x,de.y,K,J,te+(A+V+X)/2);else if(Z==="barrel")o.drawBarrelPath(re||t,de.x,de.y,K,J);else if(Z.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(Z)){var Bn=(A+V+X)/s;fe=tc(rc(fe,Bn)),o.drawPolygonPath(re||t,de.x,de.y,s,l,fe)}else{var gt=(A+V+X)/s;fe=tc(rc(fe,-gt)),o.drawPolygonPath(re||t,de.x,de.y,s,l,fe)}if(h?t.stroke(re):t.stroke(),Y==="double"){t.lineWidth=A/3;var dn=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",h?t.stroke(re):t.stroke(),t.globalCompositeOperation=dn}t.setLineDash&&t.setLineDash([])}},ye=function(){a&&o.drawNodeOverlay(t,e,f,s,l)},ke=function(){a&&o.drawNodeUnderlay(t,e,f,s,l)},xe=function(){o.drawElementText(t,e,null,n)},Me=e.pstyle("ghost").value==="yes";if(Me){var Fe=e.pstyle("ghost-offset-x").pfValue,He=e.pstyle("ghost-offset-y").pfValue,je=e.pstyle("ghost-opacity").value,Ge=je*d;t.translate(Fe,He),_(),me(),se(je*M),ge(),Oe(Ge,!0),ee(je*O),le(),Ae(k!==0||D!==0),Ce(k!==0||D!==0),Oe(Ge,!1),be(Ge),t.translate(-Fe,-He)}h&&t.translate(-f.x,-f.y),ke(),h&&t.translate(f.x,f.y),_(),me(),se(),ge(),Oe(d,!0),ee(),le(),Ae(k!==0||D!==0),Ce(k!==0||D!==0),Oe(d,!1),be(),h&&t.translate(-f.x,-f.y),xe(),ye(),r&&t.translate(g.x1,g.y1)}};var zC=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,a,i,o){var s=this;if(n.visible()){var l=n.pstyle("".concat(e,"-padding")).pfValue,u=n.pstyle("".concat(e,"-opacity")).value,c=n.pstyle("".concat(e,"-color")).value,f=n.pstyle("".concat(e,"-shape")).value,d=n.pstyle("".concat(e,"-corner-radius")).value;if(u>0){if(a=a||n.position(),i==null||o==null){var h=n.padding();i=n.width()+2*h,o=n.height()+2*h}s.colorFillStyle(r,c[0],c[1],c[2],u),s.nodeShapes[f].draw(r,a.x,a.y,i+l*2,o+l*2,d),r.fill()}}}};Ta.drawNodeOverlay=zC("overlay");Ta.drawNodeUnderlay=zC("underlay");Ta.hasPie=function(t){return t=t[0],t._private.hasPie};Ta.hasStripe=function(t){return t=t[0],t._private.hasStripe};Ta.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var a=e.cy().style(),i=e.pstyle("pie-size"),o=e.pstyle("pie-hole"),s=e.pstyle("pie-start-angle").pfValue,l=n.x,u=n.y,c=e.width(),f=e.height(),d=Math.min(c,f)/2,h,v=0,y=this.usePaths();if(y&&(l=0,u=0),i.units==="%"?d=d*i.pfValue:i.pfValue!==void 0&&(d=i.pfValue/2),o.units==="%"?h=d*o.pfValue:o.pfValue!==void 0&&(h=o.pfValue/2),!(h>=d))for(var w=1;w<=a.pieBackgroundN;w++){var g=e.pstyle("pie-"+w+"-background-size").value,p=e.pstyle("pie-"+w+"-background-color").value,m=e.pstyle("pie-"+w+"-background-opacity").value*r,x=g/100;x+v>1&&(x=1-v);var E=1.5*Math.PI+2*Math.PI*v;E+=s;var S=2*Math.PI*x,b=E+S;g===0||v>=1||v+x>1||(h===0?(t.beginPath(),t.moveTo(l,u),t.arc(l,u,d,E,b),t.closePath()):(t.beginPath(),t.arc(l,u,d,E,b),t.arc(l,u,h,b,E,!0),t.closePath()),this.colorFillStyle(t,p[0],p[1],p[2],m),t.fill(),v+=x)}};Ta.drawStripe=function(t,e,r,n){e=e[0],n=n||e.position();var a=e.cy().style(),i=n.x,o=n.y,s=e.width(),l=e.height(),u=0,c=this.usePaths();t.save();var f=e.pstyle("stripe-direction").value,d=e.pstyle("stripe-size");switch(f){case"vertical":break;case"righward":t.rotate(-Math.PI/2);break}var h=s,v=l;d.units==="%"?(h=h*d.pfValue,v=v*d.pfValue):d.pfValue!==void 0&&(h=d.pfValue,v=d.pfValue),c&&(i=0,o=0),o-=h/2,i-=v/2;for(var y=1;y<=a.stripeBackgroundN;y++){var w=e.pstyle("stripe-"+y+"-background-size").value,g=e.pstyle("stripe-"+y+"-background-color").value,p=e.pstyle("stripe-"+y+"-background-opacity").value*r,m=w/100;m+u>1&&(m=1-u),!(w===0||u>=1||u+m>1)&&(t.beginPath(),t.rect(i,o+v*u,h,v*m),t.closePath(),this.colorFillStyle(t,g[0],g[1],g[2],p),t.fill(),u+=m)}t.restore()};var lr={},eF=100;lr.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};lr.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,a=0;a<e.length;a++)if(n=e[a],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};lr.createGradientStyleFor=function(t,e,r,n,a){var i,o=this.usePaths(),s=r.pstyle(e+"-gradient-stop-colors").value,l=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var u=r.sourceEndpoint(),c=r.targetEndpoint(),f=r.midpoint(),d=ri(u,f),h=ri(c,f);i=t.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(d,h))}else{var v=o?{x:0,y:0}:r.position(),y=r.paddedWidth(),w=r.paddedHeight();i=t.createRadialGradient(v.x,v.y,0,v.x,v.y,Math.max(y,w))}else if(r.isEdge()){var g=r.sourceEndpoint(),p=r.targetEndpoint();i=t.createLinearGradient(g.x,g.y,p.x,p.y)}else{var m=o?{x:0,y:0}:r.position(),x=r.paddedWidth(),E=r.paddedHeight(),S=x/2,b=E/2,C=r.pstyle("background-gradient-direction").value;switch(C){case"to-bottom":i=t.createLinearGradient(m.x,m.y-b,m.x,m.y+b);break;case"to-top":i=t.createLinearGradient(m.x,m.y+b,m.x,m.y-b);break;case"to-left":i=t.createLinearGradient(m.x+S,m.y,m.x-S,m.y);break;case"to-right":i=t.createLinearGradient(m.x-S,m.y,m.x+S,m.y);break;case"to-bottom-right":case"to-right-bottom":i=t.createLinearGradient(m.x-S,m.y-b,m.x+S,m.y+b);break;case"to-top-right":case"to-right-top":i=t.createLinearGradient(m.x-S,m.y+b,m.x+S,m.y-b);break;case"to-bottom-left":case"to-left-bottom":i=t.createLinearGradient(m.x+S,m.y-b,m.x-S,m.y+b);break;case"to-top-left":case"to-left-top":i=t.createLinearGradient(m.x+S,m.y+b,m.x-S,m.y-b);break}}if(!i)return null;for(var T=l.length===s.length,P=s.length,k=0;k<P;k++)i.addColorStop(T?l[k]:k/(P-1),"rgba("+s[k][0]+","+s[k][1]+","+s[k][2]+","+a+")");return i};lr.gradientFillStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"background",e,r,n);if(!a)return null;t.fillStyle=a};lr.colorFillStyle=function(t,e,r,n,a){t.fillStyle="rgba("+e+","+r+","+n+","+a+")"};lr.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var a=e.pstyle("background-color").value;this.colorFillStyle(t,a[0],a[1],a[2],r)}};lr.gradientStrokeStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"line",e,r,n);if(!a)return null;t.strokeStyle=a};lr.colorStrokeStyle=function(t,e,r,n,a){t.strokeStyle="rgba("+e+","+r+","+n+","+a+")"};lr.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var a=e.pstyle("line-color").value;this.colorStrokeStyle(t,a[0],a[1],a[2],r)}};lr.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),a=n[2],i=n[3],o=e.getPixelRatio(),s=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(o=s);var l=a*o,u=i*o,c;if(!(l===e.canvasWidth&&u===e.canvasHeight)){e.fontCaches=null;var f=r.canvasContainer;f.style.width=a+"px",f.style.height=i+"px";for(var d=0;d<e.CANVAS_LAYERS;d++)c=r.canvases[d],c.width=l,c.height=u,c.style.width=a+"px",c.style.height=i+"px";for(var d=0;d<e.BUFFER_COUNT;d++)c=r.bufferCanvases[d],c.width=l,c.height=u,c.style.width=a+"px",c.style.height=i+"px";e.textureMult=1,o<=1&&(c=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,c.width=l*e.textureMult,c.height=u*e.textureMult),e.canvasWidth=l,e.canvasHeight=u,e.pixelRatio=o}};lr.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};lr.clearCanvas=function(){var t=this,e=t.data;function r(n){n.clearRect(0,0,t.canvasWidth,t.canvasHeight)}r(e.contexts[t.NODE]),r(e.contexts[t.DRAG])};lr.render=function(t){var e=this;t=t||PS();var r=e.cy,n=t.forcedContext,a=t.drawAllLayers,i=t.drawOnlyNodeLayer,o=t.forcedZoom,s=t.forcedPan,l=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,u=e.data,c=u.canvasNeedsRedraw,f=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),d=t.motionBlur!==void 0?t.motionBlur:e.motionBlur,h=e.motionBlurPxRatio,v=r.hasCompoundNodes(),y=e.hoverData.draggingEles,w=!!(e.hoverData.selecting||e.touchData.selecting);d=d&&!n&&e.motionBlurEnabled&&!w;var g=d;n||(e.prevPxRatio!==l&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=l),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),d&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(g=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!f&&(c[e.NODE]=!0,c[e.SELECT_BOX]=!0);var p=r.style(),m=r.zoom(),x=o!==void 0?o:m,E=r.pan(),S={x:E.x,y:E.y},b={zoom:m,pan:{x:E.x,y:E.y}},C=e.prevViewport,T=C===void 0||b.zoom!==C.zoom||b.pan.x!==C.pan.x||b.pan.y!==C.pan.y;!T&&!(y&&!v)&&(e.motionBlurPxRatio=1),s&&(S=s),x*=l,S.x*=l,S.y*=l;var P=e.getCachedZSortedEles();function k(ee,_,U,G,Q){var ie=ee.globalCompositeOperation;ee.globalCompositeOperation="destination-out",e.colorFillStyle(ee,255,255,255,e.motionBlurTransparency),ee.fillRect(_,U,G,Q),ee.globalCompositeOperation=ie}function D(ee,_){var U,G,Q,ie;!e.clearingMotionBlur&&(ee===u.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||ee===u.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(U={x:E.x*h,y:E.y*h},G=m*h,Q=e.canvasWidth*h,ie=e.canvasHeight*h):(U=S,G=x,Q=e.canvasWidth,ie=e.canvasHeight),ee.setTransform(1,0,0,1,0,0),_==="motionBlur"?k(ee,0,0,Q,ie):!n&&(_===void 0||_)&&ee.clearRect(0,0,Q,ie),a||(ee.translate(U.x,U.y),ee.scale(G,G)),s&&ee.translate(s.x,s.y),o&&ee.scale(o,o)}if(f||(e.textureDrawLastFrame=!1),f){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=r.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var M=e.data.bufferContexts[e.TEXTURE_BUFFER];M.setTransform(1,0,0,1,0,0),M.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:M,drawOnlyNodeLayer:!0,forcedPxRatio:l*e.textureMult});var b=e.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:e.canvasWidth,height:e.canvasHeight};b.mpan={x:(0-b.pan.x)/b.zoom,y:(0-b.pan.y)/b.zoom}}c[e.DRAG]=!1,c[e.NODE]=!1;var I=u.contexts[e.NODE],B=e.textureCache.texture,b=e.textureCache.viewport;I.setTransform(1,0,0,1,0,0),d?k(I,0,0,b.width,b.height):I.clearRect(0,0,b.width,b.height);var L=p.core("outside-texture-bg-color").value,N=p.core("outside-texture-bg-opacity").value;e.colorFillStyle(I,L[0],L[1],L[2],N),I.fillRect(0,0,b.width,b.height);var m=r.zoom();D(I,!1),I.clearRect(b.mpan.x,b.mpan.y,b.width/b.zoom/l,b.height/b.zoom/l),I.drawImage(B,b.mpan.x,b.mpan.y,b.width/b.zoom/l,b.height/b.zoom/l)}else e.textureOnViewport&&!n&&(e.textureCache=null);var R=r.extent(),F=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),z=e.hideEdgesOnViewport&&F,O=[];if(O[e.NODE]=!c[e.NODE]&&d&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,O[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),O[e.DRAG]=!c[e.DRAG]&&d&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,O[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),c[e.NODE]||a||i||O[e.NODE]){var V=d&&!O[e.NODE]&&h!==1,I=n||(V?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:u.contexts[e.NODE]),W=d&&!V?"motionBlur":void 0;D(I,W),z?e.drawCachedNodes(I,P.nondrag,l,R):e.drawLayeredElements(I,P.nondrag,l,R),e.debug&&e.drawDebugPoints(I,P.nondrag),!a&&!d&&(c[e.NODE]=!1)}if(!i&&(c[e.DRAG]||a||O[e.DRAG])){var V=d&&!O[e.DRAG]&&h!==1,I=n||(V?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:u.contexts[e.DRAG]);D(I,d&&!V?"motionBlur":void 0),z?e.drawCachedNodes(I,P.drag,l,R):e.drawCachedElements(I,P.drag,l,R),e.debug&&e.drawDebugPoints(I,P.drag),!a&&!d&&(c[e.DRAG]=!1)}if(this.drawSelectionRectangle(t,D),d&&h!==1){var Y=u.contexts[e.NODE],$=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],X=u.contexts[e.DRAG],te=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],se=function(_,U,G){_.setTransform(1,0,0,1,0,0),G||!g?_.clearRect(0,0,e.canvasWidth,e.canvasHeight):k(_,0,0,e.canvasWidth,e.canvasHeight);var Q=h;_.drawImage(U,0,0,e.canvasWidth*Q,e.canvasHeight*Q,0,0,e.canvasWidth,e.canvasHeight)};(c[e.NODE]||O[e.NODE])&&(se(Y,$,O[e.NODE]),c[e.NODE]=!1),(c[e.DRAG]||O[e.DRAG])&&(se(X,te,O[e.DRAG]),c[e.DRAG]=!1)}e.prevViewport=b,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),d&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!f,e.mbFrames=0,c[e.NODE]=!0,c[e.DRAG]=!0,e.redraw()},eF)),n||r.emit("render")};var Vo;lr.drawSelectionRectangle=function(t,e){var r=this,n=r.cy,a=r.data,i=n.style(),o=t.drawOnlyNodeLayer,s=t.drawAllLayers,l=a.canvasNeedsRedraw,u=t.forcedContext;if(r.showFps||!o&&l[r.SELECT_BOX]&&!s){var c=u||a.contexts[r.SELECT_BOX];if(e(c),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var f=r.cy.zoom(),d=i.core("selection-box-border-width").value/f;c.lineWidth=d,c.fillStyle="rgba("+i.core("selection-box-color").value[0]+","+i.core("selection-box-color").value[1]+","+i.core("selection-box-color").value[2]+","+i.core("selection-box-opacity").value+")",c.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),d>0&&(c.strokeStyle="rgba("+i.core("selection-box-border-color").value[0]+","+i.core("selection-box-border-color").value[1]+","+i.core("selection-box-border-color").value[2]+","+i.core("selection-box-opacity").value+")",c.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(a.bgActivePosistion&&!r.hoverData.selecting){var f=r.cy.zoom(),h=a.bgActivePosistion;c.fillStyle="rgba("+i.core("active-bg-color").value[0]+","+i.core("active-bg-color").value[1]+","+i.core("active-bg-color").value[2]+","+i.core("active-bg-opacity").value+")",c.beginPath(),c.arc(h.x,h.y,i.core("active-bg-size").pfValue/f,0,2*Math.PI),c.fill()}var v=r.lastRedrawTime;if(r.showFps&&v){v=Math.round(v);var y=Math.round(1e3/v),w="1 frame = "+v+" ms = "+y+" fps";if(c.setTransform(1,0,0,1,0,0),c.fillStyle="rgba(255, 0, 0, 0.75)",c.strokeStyle="rgba(255, 0, 0, 0.75)",c.font="30px Arial",!Vo){var g=c.measureText(w);Vo=g.actualBoundingBoxAscent}c.fillText(w,0,Vo);var p=60;c.strokeRect(0,Vo+10,250,20),c.fillRect(0,Vo+10,250*Math.min(y/p,1),20)}s||(l[r.SELECT_BOX]=!1)}};function gw(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(n));return n}function tF(t,e,r){var n=gw(t,t.VERTEX_SHADER,e),a=gw(t,t.FRAGMENT_SHADER,r),i=t.createProgram();if(t.attachShader(i,n),t.attachShader(i,a),t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS))throw new Error("Could not initialize shaders");return i}function rF(t,e,r){r===void 0&&(r=e);var n=t.makeOffscreenCanvas(e,r),a=n.context=n.getContext("2d");return n.clear=function(){return a.clearRect(0,0,n.width,n.height)},n.clear(),n}function Rg(t){var e=t.pixelRatio,r=t.cy.zoom(),n=t.cy.pan();return{zoom:r*e,pan:{x:n.x*e,y:n.y*e}}}function nF(t){var e=t.pixelRatio,r=t.cy.zoom();return r*e}function aF(t,e,r,n,a){var i=n*r+e.x,o=a*r+e.y;return o=Math.round(t.canvasHeight-o),[i,o]}function iF(t){return t.pstyle("background-fill").value!=="solid"||t.pstyle("background-image").strValue!=="none"?!1:t.pstyle("border-width").value===0||t.pstyle("border-opacity").value===0?!0:t.pstyle("border-style").value==="solid"}function oF(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Ma(t,e,r){var n=t[0]/255,a=t[1]/255,i=t[2]/255,o=e,s=r||new Array(4);return s[0]=n*o,s[1]=a*o,s[2]=i*o,s[3]=o,s}function xi(t,e){var r=e||new Array(4);return r[0]=(t>>0&255)/255,r[1]=(t>>8&255)/255,r[2]=(t>>16&255)/255,r[3]=(t>>24&255)/255,r}function sF(t){return t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)}function lF(t,e){var r=t.createTexture();return r.buffer=function(n){t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)},r.deleteTexture=function(){t.deleteTexture(r)},r}function VC(t,e){switch(e){case"float":return[1,t.FLOAT,4];case"vec2":return[2,t.FLOAT,4];case"vec3":return[3,t.FLOAT,4];case"vec4":return[4,t.FLOAT,4];case"int":return[1,t.INT,4];case"ivec2":return[2,t.INT,4]}}function _C(t,e,r){switch(e){case t.FLOAT:return new Float32Array(r);case t.INT:return new Int32Array(r)}}function uF(t,e,r,n,a,i){switch(e){case t.FLOAT:return new Float32Array(r.buffer,i*n,a);case t.INT:return new Int32Array(r.buffer,i*n,a)}}function cF(t,e,r,n){var a=VC(t,e),i=wt(a,2),o=i[0],s=i[1],l=_C(t,s,n),u=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,l,t.STATIC_DRAW),s===t.FLOAT?t.vertexAttribPointer(r,o,s,!1,0,0):s===t.INT&&t.vertexAttribIPointer(r,o,s,0,0),t.enableVertexAttribArray(r),t.bindBuffer(t.ARRAY_BUFFER,null),u}function en(t,e,r,n){var a=VC(t,r),i=wt(a,3),o=i[0],s=i[1],l=i[2],u=_C(t,s,e*o),c=o*l,f=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,f),t.bufferData(t.ARRAY_BUFFER,e*c,t.DYNAMIC_DRAW),t.enableVertexAttribArray(n),s===t.FLOAT?t.vertexAttribPointer(n,o,s,!1,c,0):s===t.INT&&t.vertexAttribIPointer(n,o,s,c,0),t.vertexAttribDivisor(n,1),t.bindBuffer(t.ARRAY_BUFFER,null);for(var d=new Array(e),h=0;h<e;h++)d[h]=uF(t,s,u,c,o,h);return f.dataArray=u,f.stride=c,f.size=o,f.getView=function(v){return d[v]},f.setPoint=function(v,y,w){var g=d[v];g[0]=y,g[1]=w},f.bufferSubData=function(v){t.bindBuffer(t.ARRAY_BUFFER,f),v?t.bufferSubData(t.ARRAY_BUFFER,0,u,0,v*o):t.bufferSubData(t.ARRAY_BUFFER,0,u)},f}function fF(t,e,r){for(var n=9,a=new Float32Array(e*n),i=new Array(e),o=0;o<e;o++){var s=o*n*4;i[o]=new Float32Array(a.buffer,s,n)}var l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,a.byteLength,t.DYNAMIC_DRAW);for(var u=0;u<3;u++){var c=r+u;t.enableVertexAttribArray(c),t.vertexAttribPointer(c,3,t.FLOAT,!1,3*12,u*12),t.vertexAttribDivisor(c,1)}return t.bindBuffer(t.ARRAY_BUFFER,null),l.getMatrixView=function(f){return i[f]},l.setData=function(f,d){i[d].set(f,0)},l.bufferSubData=function(){t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferSubData(t.ARRAY_BUFFER,0,a)},l}function dF(t){var e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.bindFramebuffer(t.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(n,a){t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,a,0,t.RGBA,t.UNSIGNED_BYTE,null)},e}var mw=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function fh(){var t=new mw(9);return mw!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function yw(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function hF(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],d=r[0],h=r[1],v=r[2],y=r[3],w=r[4],g=r[5],p=r[6],m=r[7],x=r[8];return t[0]=d*n+h*o+v*u,t[1]=d*a+h*s+v*c,t[2]=d*i+h*l+v*f,t[3]=y*n+w*o+g*u,t[4]=y*a+w*s+g*c,t[5]=y*i+w*l+g*f,t[6]=p*n+m*o+x*u,t[7]=p*a+m*s+x*c,t[8]=p*i+m*l+x*f,t}function mu(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],d=r[0],h=r[1];return t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=s,t[5]=l,t[6]=d*n+h*o+u,t[7]=d*a+h*s+c,t[8]=d*i+h*l+f,t}function ww(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],d=Math.sin(r),h=Math.cos(r);return t[0]=h*n+d*o,t[1]=h*a+d*s,t[2]=h*i+d*l,t[3]=h*o-d*n,t[4]=h*s-d*a,t[5]=h*l-d*i,t[6]=u,t[7]=c,t[8]=f,t}function Vv(t,e,r){var n=r[0],a=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function vF(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}var pF=function(){function t(e,r,n,a){Ea(this,t),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=r,this.texRows=n,this.texHeight=Math.floor(r/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=a(e,r,r),this.scratch=a(e,r,this.texHeight,"scratch")}return Sa(t,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,a=r.h,i=this.texHeight,o=this.texSize,s=i/a,l=n*s,u=a*s;return l>o&&(s=o/n,l=n*s,u=a*s),{scale:s,texW:l,texH:u}}},{key:"draw",value:function(r,n,a){var i=this;if(this.locked)throw new Error("can't draw, atlas is locked");var o=this.texSize,s=this.texRows,l=this.texHeight,u=this.getScale(n),c=u.scale,f=u.texW,d=u.texH,h=function(m,x){if(a&&x){var E=x.context,S=m.x,b=m.row,C=S,T=l*b;E.save(),E.translate(C,T),E.scale(c,c),a(E,n),E.restore()}},v=[null,null],y=function(){h(i.freePointer,i.canvas),v[0]={x:i.freePointer.x,y:i.freePointer.row*l,w:f,h:d},v[1]={x:i.freePointer.x+f,y:i.freePointer.row*l,w:0,h:d},i.freePointer.x+=f,i.freePointer.x==o&&(i.freePointer.x=0,i.freePointer.row++)},w=function(){var m=i.scratch,x=i.canvas;m.clear(),h({x:0,row:0},m);var E=o-i.freePointer.x,S=f-E,b=l;{var C=i.freePointer.x,T=i.freePointer.row*l,P=E;x.context.drawImage(m,0,0,P,b,C,T,P,b),v[0]={x:C,y:T,w:P,h:d}}{var k=E,D=(i.freePointer.row+1)*l,M=S;x&&x.context.drawImage(m,k,0,M,b,0,D,M,b),v[1]={x:0,y:D,w:M,h:d}}i.freePointer.x=S,i.freePointer.row++},g=function(){i.freePointer.x=0,i.freePointer.row++};if(this.freePointer.x+f<=o)y();else{if(this.freePointer.row>=s-1)return!1;this.freePointer.x===o?(g(),y()):this.enableWrapping?w():(g(),y())}return this.keyToLocation.set(r,v),this.needsBuffer=!0,v}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){if(this.locked)return!1;var n=this.texSize,a=this.texRows,i=this.getScale(r),o=i.texW;return this.freePointer.x+o>n?this.freePointer.row<a-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=lF(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])}(),gF=function(){function t(e,r,n,a){Ea(this,t),this.r=e,this.texSize=r,this.texRows=n,this.createTextureCanvas=a,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return Sa(t,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var r=this.r,n=this.texSize,a=this.texRows,i=this.createTextureCanvas;return new pF(r,n,a,i)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.texSize,a=this.texRows,i=this.createTextureCanvas,o=Math.floor(n/a);this.scratch=i(r,n,o,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,a){var i=this.styleKeyToAtlas.get(r);return i||(i=this.atlases[this.atlases.length-1],(!i||!i.canFit(n))&&(i&&i.lock(),i=this._createAtlas(),this.atlases.push(i)),i.draw(r,n,a),this.styleKeyToAtlas.set(r,i)),i}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"markKeyForGC",value:function(r){this.markedKeys.add(r)}},{key:"gc",value:function(){var r=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var a=[],i=new Map,o=null,s=pr(this.atlases),l;try{var u=function(){var f=l.value,d=f.getKeys(),h=mF(n,d);if(h.size===0)return a.push(f),d.forEach(function(E){return i.set(E,f)}),1;o||(o=r._createAtlas(),a.push(o));var v=pr(d),y;try{for(v.s();!(y=v.n()).done;){var w=y.value;if(!h.has(w)){var g=f.getOffsets(w),p=wt(g,2),m=p[0],x=p[1];o.canFit({w:m.w+x.w,h:m.h})||(o.lock(),o=r._createAtlas(),a.push(o)),f.canvas&&(r._copyTextureToNewAtlas(w,f,o),i.set(w,o))}}}catch(E){v.e(E)}finally{v.f()}f.dispose()};for(s.s();!(l=s.n()).done;)u()}catch(c){s.e(c)}finally{s.f()}this.atlases=a,this.styleKeyToAtlas=i,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(r,n,a){var i=n.getOffsets(r),o=wt(i,2),s=o[0],l=o[1];if(l.w===0)a.draw(r,s,function(d){d.drawImage(n.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h)});else{var u=this._getScratchCanvas();u.clear(),u.context.drawImage(n.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h),u.context.drawImage(n.canvas,l.x,l.y,l.w,l.h,s.w,0,l.w,l.h);var c=s.w+l.w,f=s.h;a.draw(r,{w:c,h:f},function(d){d.drawImage(u,0,0,c,f,0,0,c,f)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();function mF(t,e){return t.intersection?t.intersection(e):new Set(Zu(t).filter(function(r){return e.has(r)}))}var yF=function(){function t(e,r){Ea(this,t),this.r=e,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return Sa(t,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(r,n){var a=this.globalOptions,i=a.webglTexSize,o=a.createTextureCanvas,s=n.texRows,l=this._cacheScratchCanvas(o),u=new gF(this.r,i,s,l);this.collections.set(r,u)}},{key:"addRenderType",value:function(r,n){var a=n.collection;if(!this.collections.has(a))throw new Error("invalid atlas collection name '".concat(a,"'"));var i=this.collections.get(a),o=Se({type:r,atlasCollection:i},n);this.renderTypes.set(r,o)}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"getAtlasCollection",value:function(r){return this.collections.get(r)}},{key:"_cacheScratchCanvas",value:function(r){var n=-1,a=-1,i=null;return function(o,s,l,u){return u?((!i||s!=n||l!=a)&&(n=s,a=l,i=r(o,s,l)),i):r(o,s,l)}}},{key:"_key",value:function(r,n){return"".concat(r,"-").concat(n)}},{key:"invalidate",value:function(r){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.forceRedraw,o=i===void 0?!1:i,s=a.filterEle,l=s===void 0?function(){return!0}:s,u=a.filterType,c=u===void 0?function(){return!0}:u,f=!1,d=!1,h=pr(r),v;try{for(h.s();!(v=h.n()).done;){var y=v.value;if(l(y)){var w=pr(this.renderTypes.values()),g;try{var p=function(){var x=g.value,E=x.type;if(c(E)){var S=n.collections.get(x.collection),b=x.getKey(y),C=Array.isArray(b)?b:[b];if(o)C.forEach(function(D){return S.markKeyForGC(D)}),d=!0;else{var T=x.getID?x.getID(y):y.id(),P=n._key(E,T),k=n.typeAndIdToKey.get(P);k!==void 0&&!oF(C,k)&&(f=!0,n.typeAndIdToKey.delete(P),k.forEach(function(D){return S.markKeyForGC(D)}))}}};for(w.s();!(g=w.n()).done;)p()}catch(m){w.e(m)}finally{w.f()}}}}catch(m){h.e(m)}finally{h.f()}return d&&(this.gc(),f=!1),f}},{key:"gc",value:function(){var r=pr(this.collections.values()),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.gc()}}catch(i){r.e(i)}finally{r.f()}}},{key:"getOrCreateAtlas",value:function(r,n,a,i){var o=this.renderTypes.get(n),s=this.collections.get(o.collection),l=!1,u=s.draw(i,a,function(d){o.drawClipped?(d.save(),d.beginPath(),d.rect(0,0,a.w,a.h),d.clip(),o.drawElement(d,r,a,!0,!0),d.restore()):o.drawElement(d,r,a,!0,!0),l=!0});if(l){var c=o.getID?o.getID(r):r.id(),f=this._key(n,c);this.typeAndIdToKey.has(f)?this.typeAndIdToKey.get(f).push(i):this.typeAndIdToKey.set(f,[i])}return u}},{key:"getAtlasInfo",value:function(r,n){var a=this,i=this.renderTypes.get(n),o=i.getKey(r),s=Array.isArray(o)?o:[o];return s.map(function(l){var u=i.getBoundingBox(r,l),c=a.getOrCreateAtlas(r,n,u,l),f=c.getOffsets(l),d=wt(f,2),h=d[0],v=d[1];return{atlas:c,tex:h,tex1:h,tex2:v,bb:u}})}},{key:"getDebugInfo",value:function(){var r=[],n=pr(this.collections),a;try{for(n.s();!(a=n.n()).done;){var i=wt(a.value,2),o=i[0],s=i[1],l=s.getCounts(),u=l.keyCount,c=l.atlasCount;r.push({type:o,keyCount:u,atlasCount:c})}}catch(f){n.e(f)}finally{n.f()}return r}}])}(),wF=function(){function t(e){Ea(this,t),this.globalOptions=e,this.atlasSize=e.webglTexSize,this.maxAtlasesPerBatch=e.webglTexPerBatch,this.batchAtlases=[]}return Sa(t,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(r,n){return n})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(r){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(r):!0}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}}])}(),xF=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,bF=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,EF=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,SF=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,fs={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},uc={IGNORE:1,USE_BB:2},dh=0,xw=1,bw=2,hh=3,bi=4,Gl=5,_o=6,Uo=7,CF=function(){function t(e,r,n){Ea(this,t),this.r=e,this.gl=r,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=rF,this.atlasManager=new yF(e,n),this.batchManager=new wF(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(fs.SCREEN),this.pickingProgram=this._createShaderProgram(fs.PICKING),this.vao=this._createVAO()}return Sa(t,[{key:"addAtlasCollection",value:function(r,n){this.atlasManager.addAtlasCollection(r,n)}},{key:"addTextureAtlasRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"addSimpleShapeRenderType",value:function(r,n){this.simpleShapeOptions.set(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.type,i=this.atlasManager;return a?i.invalidate(r,{filterType:function(s){return s===a},forceRedraw:!0}):i.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(r){var n=this.gl,a=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(dh,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(bi," || aVertType == ").concat(Uo,` 
             || aVertType == `).concat(Gl," || aVertType == ").concat(_o,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(xw,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(bw,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(hh,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),i=this.batchManager.getIndexArray(),o=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(i.map(function(u){return"uniform sampler2D uTexture".concat(u,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(xF,`
      `).concat(bF,`
      `).concat(EF,`
      `).concat(SF,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(dh,`) {
          // look up the texel from the texture unit
          `).concat(i.map(function(u){return"if(vAtlasId == ".concat(u,") outColor = texture(uTexture").concat(u,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(hh,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(bi,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(bi," || vVertType == ").concat(Uo,` 
          || vVertType == `).concat(Gl," || vVertType == ").concat(_o,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(bi,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(Uo,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(Uo,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),s=tF(n,a,o);s.aPosition=n.getAttribLocation(s,"aPosition"),s.aIndex=n.getAttribLocation(s,"aIndex"),s.aVertType=n.getAttribLocation(s,"aVertType"),s.aTransform=n.getAttribLocation(s,"aTransform"),s.aAtlasId=n.getAttribLocation(s,"aAtlasId"),s.aTex=n.getAttribLocation(s,"aTex"),s.aPointAPointB=n.getAttribLocation(s,"aPointAPointB"),s.aPointCPointD=n.getAttribLocation(s,"aPointCPointD"),s.aLineWidth=n.getAttribLocation(s,"aLineWidth"),s.aColor=n.getAttribLocation(s,"aColor"),s.aCornerRadius=n.getAttribLocation(s,"aCornerRadius"),s.aBorderColor=n.getAttribLocation(s,"aBorderColor"),s.uPanZoomMatrix=n.getUniformLocation(s,"uPanZoomMatrix"),s.uAtlasSize=n.getUniformLocation(s,"uAtlasSize"),s.uBGColor=n.getUniformLocation(s,"uBGColor"),s.uZoom=n.getUniformLocation(s,"uZoom"),s.uTextures=[];for(var l=0;l<this.batchManager.getMaxAtlasesPerBatch();l++)s.uTextures.push(n.getUniformLocation(s,"uTexture".concat(l)));return s}},{key:"_createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=r.length/2;var n=this.maxInstances,a=this.gl,i=this.program,o=a.createVertexArray();return a.bindVertexArray(o),cF(a,"vec2",i.aPosition,r),this.transformBuffer=fF(a,n,i.aTransform),this.indexBuffer=en(a,n,"vec4",i.aIndex),this.vertTypeBuffer=en(a,n,"int",i.aVertType),this.atlasIdBuffer=en(a,n,"int",i.aAtlasId),this.texBuffer=en(a,n,"vec4",i.aTex),this.pointAPointBBuffer=en(a,n,"vec4",i.aPointAPointB),this.pointCPointDBuffer=en(a,n,"vec4",i.aPointCPointD),this.lineWidthBuffer=en(a,n,"vec2",i.aLineWidth),this.colorBuffer=en(a,n,"vec4",i.aColor),this.cornerRadiusBuffer=en(a,n,"vec4",i.aCornerRadius),this.borderColorBuffer=en(a,n,"vec4",i.aBorderColor),a.bindVertexArray(null),o}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return Kn(n,"Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fs.SCREEN;this.panZoomMatrix=r,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(r,n){return r.visible()?n&&n.isVisible?n.isVisible(r):!0:!1}},{key:"drawTexture",value:function(r,n,a){var i=this.atlasManager,o=this.batchManager,s=i.getRenderTypeOpts(a);if(this._isVisible(r,s)&&!(r.isEdge()&&!this._isValidEdge(r))){if(this.renderTarget.picking&&s.getTexPickingMode){var l=s.getTexPickingMode(r);if(l===uc.IGNORE)return;if(l==uc.USE_BB){this.drawPickingRectangle(r,n,a);return}}var u=i.getAtlasInfo(r,a),c=pr(u),f;try{for(c.s();!(f=c.n()).done;){var d=f.value,h=d.atlas,v=d.tex1,y=d.tex2;o.canAddToCurrentBatch(h)||this.endBatch();for(var w=o.getAtlasIndexForBatch(h),g=0,p=[[v,!0],[y,!1]];g<p.length;g++){var m=wt(p[g],2),x=m[0],E=m[1];if(x.w!=0){var S=this.instanceCount;this.vertTypeBuffer.getView(S)[0]=dh;var b=this.indexBuffer.getView(S);xi(n,b);var C=this.atlasIdBuffer.getView(S);C[0]=w;var T=this.texBuffer.getView(S);T[0]=x.x,T[1]=x.y,T[2]=x.w,T[3]=x.h;var P=this.transformBuffer.getMatrixView(S);this.setTransformMatrix(r,P,s,d,E),this.instanceCount++,E||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(k){c.e(k)}finally{c.f()}}}},{key:"setTransformMatrix",value:function(r,n,a,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=0;if(a.shapeProps&&a.shapeProps.padding&&(s=r.pstyle(a.shapeProps.padding).pfValue),i){var l=i.bb,u=i.tex1,c=i.tex2,f=u.w/(u.w+c.w);o||(f=1-f);var d=this._getAdjustedBB(l,s,o,f);this._applyTransformMatrix(n,d,a,r)}else{var h=a.getBoundingBox(r),v=this._getAdjustedBB(h,s,!0,1);this._applyTransformMatrix(n,v,a,r)}}},{key:"_applyTransformMatrix",value:function(r,n,a,i){var o,s;yw(r);var l=a.getRotation?a.getRotation(i):0;if(l!==0){var u=a.getRotationPoint(i),c=u.x,f=u.y;mu(r,r,[c,f]),ww(r,r,l);var d=a.getRotationOffset(i);o=d.x+(n.xOffset||0),s=d.y+(n.yOffset||0)}else o=n.x1,s=n.y1;mu(r,r,[o,s]),Vv(r,r,[n.w,n.h])}},{key:"_getAdjustedBB",value:function(r,n,a,i){var o=r.x1,s=r.y1,l=r.w,u=r.h,c=r.yOffset;n&&(o-=n,s-=n,l+=2*n,u+=2*n);var f=0,d=l*i;return a&&i<1?l=d:!a&&i<1&&(f=l-d,o+=f,l=d),{x1:o,y1:s,w:l,h:u,xOffset:f,yOffset:c}}},{key:"drawPickingRectangle",value:function(r,n,a){var i=this.atlasManager.getRenderTypeOpts(a),o=this.instanceCount;this.vertTypeBuffer.getView(o)[0]=bi;var s=this.indexBuffer.getView(o);xi(n,s);var l=this.colorBuffer.getView(o);Ma([0,0,0],1,l);var u=this.transformBuffer.getMatrixView(o);this.setTransformMatrix(r,u,i),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(r,n,a){var i=this.simpleShapeOptions.get(a);if(this._isVisible(r,i)){var o=i.shapeProps,s=this._getVertTypeForShape(r,o.shape);if(s===void 0||i.isSimple&&!i.isSimple(r)){this.drawTexture(r,n,a);return}var l=this.instanceCount;if(this.vertTypeBuffer.getView(l)[0]=s,s===Gl||s===_o){var u=i.getBoundingBox(r),c=this._getCornerRadius(r,o.radius,u),f=this.cornerRadiusBuffer.getView(l);f[0]=c,f[1]=c,f[2]=c,f[3]=c,s===_o&&(f[0]=0,f[2]=0)}var d=this.indexBuffer.getView(l);xi(n,d);var h=r.pstyle(o.color).value,v=r.pstyle(o.opacity).value,y=this.colorBuffer.getView(l);Ma(h,v,y);var w=this.lineWidthBuffer.getView(l);if(w[0]=0,w[1]=0,o.border){var g=r.pstyle("border-width").value;if(g>0){var p=r.pstyle("border-color").value,m=r.pstyle("border-opacity").value,x=this.borderColorBuffer.getView(l);Ma(p,m,x);var E=r.pstyle("border-position").value;if(E==="inside")w[0]=0,w[1]=-g;else if(E==="outside")w[0]=g,w[1]=0;else{var S=g/2;w[0]=S,w[1]=-S}}}var b=this.transformBuffer.getMatrixView(l);this.setTransformMatrix(r,b,i),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(r,n){var a=r.pstyle(n).value;switch(a){case"rectangle":return bi;case"ellipse":return Uo;case"roundrectangle":case"round-rectangle":return Gl;case"bottom-round-rectangle":return _o;default:return}}},{key:"_getCornerRadius",value:function(r,n,a){var i=a.w,o=a.h;if(r.pstyle(n).value==="auto")return va(i,o);var s=r.pstyle(n).pfValue,l=i/2,u=o/2;return Math.min(s,u,l)}},{key:"drawEdgeArrow",value:function(r,n,a){if(r.visible()){var i=r._private.rscratch,o,s,l;if(a==="source"?(o=i.arrowStartX,s=i.arrowStartY,l=i.srcArrowAngle):(o=i.arrowEndX,s=i.arrowEndY,l=i.tgtArrowAngle),!(isNaN(o)||o==null||isNaN(s)||s==null||isNaN(l)||l==null)){var u=r.pstyle(a+"-arrow-shape").value;if(u!=="none"){var c=r.pstyle(a+"-arrow-color").value,f=r.pstyle("opacity").value,d=r.pstyle("line-opacity").value,h=f*d,v=r.pstyle("width").pfValue,y=r.pstyle("arrow-scale").value,w=this.r.getArrowWidth(v,y),g=this.instanceCount,p=this.transformBuffer.getMatrixView(g);yw(p),mu(p,p,[o,s]),Vv(p,p,[w,w]),ww(p,p,l),this.vertTypeBuffer.getView(g)[0]=hh;var m=this.indexBuffer.getView(g);xi(n,m);var x=this.colorBuffer.getView(g);Ma(c,h,x),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(r,n){if(r.visible()){var a=this._getEdgePoints(r);if(a){var i=r.pstyle("opacity").value,o=r.pstyle("line-opacity").value,s=r.pstyle("width").pfValue,l=r.pstyle("line-color").value,u=i*o;if(a.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),a.length==4){var c=this.instanceCount;this.vertTypeBuffer.getView(c)[0]=xw;var f=this.indexBuffer.getView(c);xi(n,f);var d=this.colorBuffer.getView(c);Ma(l,u,d);var h=this.lineWidthBuffer.getView(c);h[0]=s;var v=this.pointAPointBBuffer.getView(c);v[0]=a[0],v[1]=a[1],v[2]=a[2],v[3]=a[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var y=0;y<a.length-2;y+=2){var w=this.instanceCount;this.vertTypeBuffer.getView(w)[0]=bw;var g=this.indexBuffer.getView(w);xi(n,g);var p=this.colorBuffer.getView(w);Ma(l,u,p);var m=this.lineWidthBuffer.getView(w);m[0]=s;var x=a[y-2],E=a[y-1],S=a[y],b=a[y+1],C=a[y+2],T=a[y+3],P=a[y+4],k=a[y+5];y==0&&(x=2*S-C+.001,E=2*b-T+.001),y==a.length-4&&(P=2*C-S+.001,k=2*T-b+.001);var D=this.pointAPointBBuffer.getView(w);D[0]=x,D[1]=E,D[2]=S,D[3]=b;var M=this.pointCPointDBuffer.getView(w);M[0]=C,M[1]=T,M[2]=P,M[3]=k,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(r){var n=r._private.rscratch;return!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))}},{key:"_getEdgePoints",value:function(r){var n=r._private.rscratch;if(this._isValidEdge(r)){var a=n.allpts;if(a.length==4)return a;var i=this._getNumSegments(r);return this._getCurveSegmentPoints(a,i)}}},{key:"_getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var a=Array((n+1)*2),i=0;i<=n;i++)if(i==0)a[0]=r[0],a[1]=r[1];else if(i==n)a[i*2]=r[r.length-2],a[i*2+1]=r[r.length-1];else{var o=i/n;this._setCurvePoint(r,o,a,i*2)}return a}},{key:"_setCurvePoint",value:function(r,n,a,i){if(r.length<=2)a[i]=r[0],a[i+1]=r[1];else{for(var o=Array(r.length-2),s=0;s<o.length;s+=2){var l=(1-n)*r[s]+n*r[s+2],u=(1-n)*r[s+1]+n*r[s+3];o[s]=l,o[s+1]=u}return this._setCurvePoint(o,n,a,i)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,a=this.vertexCount,i=this.instanceCount;if(i!==0){var o=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(o),r.bindVertexArray(n);var s=pr(this.buffers),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;u.bufferSubData(i)}}catch(v){s.e(v)}finally{s.f()}for(var c=this.batchManager.getAtlases(),f=0;f<c.length;f++)c[f].bufferIfNeeded(r);for(var d=0;d<c.length;d++)r.activeTexture(r.TEXTURE0+d),r.bindTexture(r.TEXTURE_2D,c[d].texture),r.uniform1i(o.uTextures[d],d);r.uniform1f(o.uZoom,nF(this.r)),r.uniformMatrix3fv(o.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(o.uAtlasSize,this.batchManager.getAtlasSize());var h=Ma(this.bgColor,1);r.uniform4fv(o.uBGColor,h),r.drawArraysInstanced(r.TRIANGLES,0,a,i),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:i,atlasCount:c.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var r=this.atlasManager.getDebugInfo(),n=r.reduce(function(o,s){return o+s.atlasCount},0),a=this.batchDebugInfo,i=a.reduce(function(o,s){return o+s.count},0);return{atlasInfo:r,totalAtlases:n,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:a.length,batchInfo:a,totalInstances:i}}}])}(),UC={};UC.initWebgl=function(t,e){var r=this,n=r.data.contexts[r.WEBGL];t.bgColor=TF(r),t.webglTexSize=Math.min(t.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglTexRowsNodes=Math.min(t.webglTexRowsNodes,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=t.webglDebug,r.webglDebugShowAtlases=t.webglDebugShowAtlases,r.pickingFrameBuffer=dF(n),r.pickingFrameBuffer.needsDraw=!0,r.drawing=new CF(r,n,t);var a=function(f){return function(d){return r.getTextAngle(d,f)}},i=function(f){return function(d){var h=d.pstyle(f);return h&&h.value}},o=function(f){return function(d){return d.pstyle("".concat(f,"-opacity")).value>0}},s=function(f){var d=f.pstyle("text-events").strValue==="yes";return d?uc.USE_BB:uc.IGNORE},l=function(f){var d=f.position(),h=d.x,v=d.y,y=f.outerWidth(),w=f.outerHeight();return{w:y,h:w,x1:h-y/2,y1:v-w/2}};r.drawing.addAtlasCollection("node",{texRows:t.webglTexRowsNodes}),r.drawing.addAtlasCollection("label",{texRows:t.webglTexRows}),r.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement}),r.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:l,isSimple:iF,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),r.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:l,isVisible:o("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),r.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:l,isVisible:o("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),r.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:s,getKey:vh(e.getLabelKey,null),getBoundingBox:ph(e.getLabelBox,null),drawClipped:!0,drawElement:e.drawLabel,getRotation:a(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:i("label")}),r.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:s,getKey:vh(e.getSourceLabelKey,"source"),getBoundingBox:ph(e.getSourceLabelBox,"source"),drawClipped:!0,drawElement:e.drawSourceLabel,getRotation:a("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:i("source-label")}),r.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:s,getKey:vh(e.getTargetLabelKey,"target"),getBoundingBox:ph(e.getTargetLabelBox,"target"),drawClipped:!0,drawElement:e.drawTargetLabel,getRotation:a("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:i("target-label")});var u=rl(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(c,f){var d=!1;f&&f.length>0&&(d|=r.drawing.invalidate(f)),d&&u()}),PF(r)};function TF(t){var e=t.cy.container(),r=e&&e.style&&e.style.backgroundColor||"white";return pS(r)}function HC(t,e){var r=t._private.rscratch;return dr(r,"labelWrapCachedLines",e)||[]}var vh=function(e,r){return function(n){var a=e(n),i=HC(n,r);return i.length>1?i.map(function(o,s){return"".concat(a,"_").concat(s)}):a}},ph=function(e,r){return function(n,a){var i=e(n);if(typeof a=="string"){var o=a.indexOf("_");if(o>0){var s=Number(a.substring(o+1)),l=HC(n,r),u=i.h/l.length,c=u*s,f=i.y1+c;return{x1:i.x1,w:i.w,y1:f,h:u,yOffset:c}}}return i}};function PF(t){{var e=t.render;t.render=function(i){i=i||{};var o=t.cy;t.webgl&&(o.zoom()>LC?(kF(t),e.call(t,i)):(AF(t),GC(t,i,fs.SCREEN)))}}{var r=t.matchCanvasSize;t.matchCanvasSize=function(i){r.call(t,i),t.pickingFrameBuffer.setFramebufferAttachmentSizes(t.canvasWidth,t.canvasHeight),t.pickingFrameBuffer.needsDraw=!0}}t.findNearestElements=function(i,o,s,l){return LF(t,i,o)};{var n=t.invalidateCachedZSortedEles;t.invalidateCachedZSortedEles=function(){n.call(t),t.pickingFrameBuffer.needsDraw=!0}}{var a=t.notify;t.notify=function(i,o){a.call(t,i,o),i==="viewport"||i==="bounds"?t.pickingFrameBuffer.needsDraw=!0:i==="background"&&t.drawing.invalidate(o,{type:"node-body"})}}}function kF(t){var e=t.data.contexts[t.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function AF(t){var e=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.canvasWidth,t.canvasHeight),n.restore()};e(t.data.contexts[t.NODE]),e(t.data.contexts[t.DRAG])}function DF(t){var e=t.canvasWidth,r=t.canvasHeight,n=Rg(t),a=n.pan,i=n.zoom,o=fh();mu(o,o,[a.x,a.y]),Vv(o,o,[i,i]);var s=fh();vF(s,e,r);var l=fh();return hF(l,s,o),l}function jC(t,e){var r=t.canvasWidth,n=t.canvasHeight,a=Rg(t),i=a.pan,o=a.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,r,n),e.translate(i.x,i.y),e.scale(o,o)}function MF(t,e){t.drawSelectionRectangle(e,function(r){return jC(t,r)})}function RF(t){var e=t.data.contexts[t.NODE];e.save(),jC(t,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function IF(t){var e=function(a,i,o){for(var s=a.atlasManager.getAtlasCollection(i),l=t.data.contexts[t.NODE],u=s.atlases,c=0;c<u.length;c++){var f=u[c],d=f.canvas;if(d){var h=d.width,v=d.height,y=h*c,w=d.height*o,g=.4;l.save(),l.scale(g,g),l.drawImage(d,y,w),l.strokeStyle="black",l.rect(y,w,h,v),l.stroke(),l.restore()}}},r=0;e(t.drawing,"node",r++),e(t.drawing,"label",r++)}function NF(t,e,r,n,a){var i,o,s,l,u=Rg(t),c=u.pan,f=u.zoom;{var d=aF(t,c,f,e,r),h=wt(d,2),v=h[0],y=h[1],w=6;i=v-w/2,o=y-w/2,s=w,l=w}if(s===0||l===0)return[];var g=t.data.contexts[t.WEBGL];g.bindFramebuffer(g.FRAMEBUFFER,t.pickingFrameBuffer),t.pickingFrameBuffer.needsDraw&&(g.viewport(0,0,g.canvas.width,g.canvas.height),GC(t,null,fs.PICKING),t.pickingFrameBuffer.needsDraw=!1);var p=s*l,m=new Uint8Array(p*4);g.readPixels(i,o,s,l,g.RGBA,g.UNSIGNED_BYTE,m),g.bindFramebuffer(g.FRAMEBUFFER,null);for(var x=new Set,E=0;E<p;E++){var S=m.slice(E*4,E*4+4),b=sF(S)-1;b>=0&&x.add(b)}return x}function LF(t,e,r){var n=NF(t,e,r),a=t.getCachedZSortedEles(),i,o,s=pr(n),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,c=a[u];if(!i&&c.isNode()&&(i=c),!o&&c.isEdge()&&(o=c),i&&o)break}}catch(f){s.e(f)}finally{s.f()}return[i,o].filter(Boolean)}function gh(t,e,r){var n=t.drawing;e+=1,r.isNode()?(n.drawNode(r,e,"node-underlay"),n.drawNode(r,e,"node-body"),n.drawTexture(r,e,"label"),n.drawNode(r,e,"node-overlay")):(n.drawEdgeLine(r,e),n.drawEdgeArrow(r,e,"source"),n.drawEdgeArrow(r,e,"target"),n.drawTexture(r,e,"label"),n.drawTexture(r,e,"edge-source-label"),n.drawTexture(r,e,"edge-target-label"))}function GC(t,e,r){var n;t.webglDebug&&(n=performance.now());var a=t.drawing,i=0;if(r.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&MF(t,e),t.data.canvasNeedsRedraw[t.NODE]||r.picking){var o=t.data.contexts[t.WEBGL];r.screen?(o.clearColor(0,0,0,0),o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA)):o.disable(o.BLEND),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),o.viewport(0,0,o.canvas.width,o.canvas.height);var s=DF(t),l=t.getCachedZSortedEles();if(i=l.length,a.startFrame(s,r),r.screen){for(var u=0;u<l.nondrag.length;u++)gh(t,u,l.nondrag[u]);for(var c=0;c<l.drag.length;c++)gh(t,c,l.drag[c])}else if(r.picking)for(var f=0;f<l.length;f++)gh(t,f,l[f]);a.endFrame(),r.screen&&t.webglDebugShowAtlases&&(RF(t),IF(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var d=performance.now(),h=!1,v=Math.ceil(d-n),y=a.getDebugInfo(),w=["".concat(i," elements"),"".concat(y.totalInstances," instances"),"".concat(y.batchCount," batches"),"".concat(y.totalAtlases," atlases"),"".concat(y.wrappedCount," wrapped textures"),"".concat(y.simpleCount," simple shapes")].join(", ");if(h)console.log("WebGL (".concat(r.name,") - time ").concat(v,"ms, ").concat(w));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(v,"ms")),console.log("Totals:"),console.log("  ".concat(w)),console.log("Texture Atlases Used:");var g=y.atlasInfo,p=pr(g),m;try{for(p.s();!(m=p.n()).done;){var x=m.value;console.log("  ".concat(x.type,": ").concat(x.keyCount," keys, ").concat(x.atlasCount," atlases"))}}catch(E){p.e(E)}finally{p.f()}console.log("")}}t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,a.gc())}var Pa={};Pa.drawPolygonPath=function(t,e,r,n,a,i){var o=n/2,s=a/2;t.beginPath&&t.beginPath(),t.moveTo(e+o*i[0],r+s*i[1]);for(var l=1;l<i.length/2;l++)t.lineTo(e+o*i[l*2],r+s*i[l*2+1]);t.closePath()};Pa.drawRoundPolygonPath=function(t,e,r,n,a,i,o){o.forEach(function(s){return TC(t,s)}),t.closePath()};Pa.drawRoundRectanglePath=function(t,e,r,n,a,i){var o=n/2,s=a/2,l=i==="auto"?va(n,a):Math.min(i,s,o);t.beginPath&&t.beginPath(),t.moveTo(e,r-s),t.arcTo(e+o,r-s,e+o,r,l),t.arcTo(e+o,r+s,e,r+s,l),t.arcTo(e-o,r+s,e-o,r,l),t.arcTo(e-o,r-s,e,r-s,l),t.lineTo(e,r-s),t.closePath()};Pa.drawBottomRoundRectanglePath=function(t,e,r,n,a,i){var o=n/2,s=a/2,l=i==="auto"?va(n,a):i;t.beginPath&&t.beginPath(),t.moveTo(e,r-s),t.lineTo(e+o,r-s),t.lineTo(e+o,r),t.arcTo(e+o,r+s,e,r+s,l),t.arcTo(e-o,r+s,e-o,r,l),t.lineTo(e-o,r-s),t.lineTo(e,r-s),t.closePath()};Pa.drawCutRectanglePath=function(t,e,r,n,a,i,o){var s=n/2,l=a/2,u=o==="auto"?mg():o;t.beginPath&&t.beginPath(),t.moveTo(e-s+u,r-l),t.lineTo(e+s-u,r-l),t.lineTo(e+s,r-l+u),t.lineTo(e+s,r+l-u),t.lineTo(e+s-u,r+l),t.lineTo(e-s+u,r+l),t.lineTo(e-s,r+l-u),t.lineTo(e-s,r-l+u),t.closePath()};Pa.drawBarrelPath=function(t,e,r,n,a){var i=n/2,o=a/2,s=e-i,l=e+i,u=r-o,c=r+o,f=Tv(n,a),d=f.widthOffset,h=f.heightOffset,v=f.ctrlPtOffsetPct*d;t.beginPath&&t.beginPath(),t.moveTo(s,u+h),t.lineTo(s,c-h),t.quadraticCurveTo(s+v,c,s+d,c),t.lineTo(l-d,c),t.quadraticCurveTo(l-v,c,l,c-h),t.lineTo(l,u+h),t.quadraticCurveTo(l-v,u,l-d,u),t.lineTo(s+d,u),t.quadraticCurveTo(s+v,u,s,u+h),t.closePath()};var Ew=Math.sin(0),Sw=Math.cos(0),_v={},Uv={},qC=Math.PI/40;for(var Ei=0*Math.PI;Ei<2*Math.PI;Ei+=qC)_v[Ei]=Math.sin(Ei),Uv[Ei]=Math.cos(Ei);Pa.drawEllipsePath=function(t,e,r,n,a){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,a/2,0,0,2*Math.PI);else for(var i,o,s=n/2,l=a/2,u=0*Math.PI;u<2*Math.PI;u+=qC)i=e-s*_v[u]*Ew+s*Uv[u]*Sw,o=r+l*Uv[u]*Ew+l*_v[u]*Sw,u===0?t.moveTo(i,o):t.lineTo(i,o);t.closePath()};var ll={};ll.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};ll.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),a=this.findContainerClientCoords(),i=t.full?Math.ceil(n.w):a[2],o=t.full?Math.ceil(n.h):a[3],s=oe(t.maxWidth)||oe(t.maxHeight),l=this.getPixelRatio(),u=1;if(t.scale!==void 0)i*=t.scale,o*=t.scale,u=t.scale;else if(s){var c=1/0,f=1/0;oe(t.maxWidth)&&(c=u*t.maxWidth/i),oe(t.maxHeight)&&(f=u*t.maxHeight/o),u=Math.min(c,f),i*=u,o*=u}s||(i*=l,o*=l,u*=l);var d=document.createElement("canvas");d.width=i,d.height=o,d.style.width=i+"px",d.style.height=o+"px";var h=d.getContext("2d");if(i>0&&o>0){h.clearRect(0,0,i,o),h.globalCompositeOperation="source-over";var v=this.getCachedZSortedEles();if(t.full)h.translate(-n.x1*u,-n.y1*u),h.scale(u,u),this.drawElements(h,v),h.scale(1/u,1/u),h.translate(n.x1*u,n.y1*u);else{var y=e.pan(),w={x:y.x*u,y:y.y*u};u*=e.zoom(),h.translate(w.x,w.y),h.scale(u,u),this.drawElements(h,v),h.scale(1/u,1/u),h.translate(-w.x,-w.y)}t.bg&&(h.globalCompositeOperation="destination-over",h.fillStyle=t.bg,h.rect(0,0,i,o),h.fill())}return d};function BF(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),a=new Uint8Array(n),i=0;i<r.length;i++)a[i]=r.charCodeAt(i);return new Blob([n],{type:e})}function Cw(t){var e=t.indexOf(",");return t.substr(e+1)}function WC(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new mo(function(a,i){try{e.toBlob(function(o){o!=null?a(o):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(o){i(o)}});case"blob":return BF(Cw(n()),r);case"base64":return Cw(n());case"base64uri":default:return n()}}ll.png=function(t){return WC(t,this.bufferCanvasImage(t),"image/png")};ll.jpg=function(t){return WC(t,this.bufferCanvasImage(t),"image/jpeg")};var $C={};$C.nodeShapeImpl=function(t,e,r,n,a,i,o,s){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,a,i);case"polygon":return this.drawPolygonPath(e,r,n,a,i,o);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,a,i,o,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,a,i,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,a,i,o,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,a,i,s);case"barrel":return this.drawBarrelPath(e,r,n,a,i)}};var OF=KC,Re=KC.prototype;Re.CANVAS_LAYERS=3;Re.SELECT_BOX=0;Re.DRAG=1;Re.NODE=2;Re.WEBGL=3;Re.CANVAS_TYPES=["2d","2d","2d","webgl2"];Re.BUFFER_COUNT=3;Re.TEXTURE_BUFFER=0;Re.MOTIONBLUR_BUFFER_NODE=1;Re.MOTIONBLUR_BUFFER_DRAG=2;function KC(t){var e=this,r=e.cy.window(),n=r.document;t.webgl&&(Re.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(Re.CANVAS_LAYERS),contexts:new Array(Re.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Re.CANVAS_LAYERS),bufferCanvases:new Array(Re.BUFFER_COUNT),bufferContexts:new Array(Re.CANVAS_LAYERS)};var a="-webkit-tap-highlight-color",i="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var o=e.data.canvasContainer.style;e.data.canvasContainer.style[a]=i,o.position="relative",o.zIndex="0",o.overflow="hidden";var s=t.cy.container();s.appendChild(e.data.canvasContainer),s.style[a]=i;var l={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};MR()&&(l["-ms-touch-action"]="none",l["touch-action"]="none");for(var u=0;u<Re.CANVAS_LAYERS;u++){var c=e.data.canvases[u]=n.createElement("canvas"),f=Re.CANVAS_TYPES[u];e.data.contexts[u]=c.getContext(f),e.data.contexts[u]||at("Could not create canvas of type "+f),Object.keys(l).forEach(function(ee){c.style[ee]=l[ee]}),c.style.position="absolute",c.setAttribute("data-id","layer"+u),c.style.zIndex=String(Re.CANVAS_LAYERS-u),e.data.canvasContainer.appendChild(c),e.data.canvasNeedsRedraw[u]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[Re.NODE].setAttribute("data-id","layer"+Re.NODE+"-node"),e.data.canvases[Re.SELECT_BOX].setAttribute("data-id","layer"+Re.SELECT_BOX+"-selectbox"),e.data.canvases[Re.DRAG].setAttribute("data-id","layer"+Re.DRAG+"-drag"),e.data.canvases[Re.WEBGL]&&e.data.canvases[Re.WEBGL].setAttribute("data-id","layer"+Re.WEBGL+"-webgl");for(var u=0;u<Re.BUFFER_COUNT;u++)e.data.bufferCanvases[u]=n.createElement("canvas"),e.data.bufferContexts[u]=e.data.bufferCanvases[u].getContext("2d"),e.data.bufferCanvases[u].style.position="absolute",e.data.bufferCanvases[u].setAttribute("data-id","buffer"+u),e.data.bufferCanvases[u].style.zIndex=String(-u-1),e.data.bufferCanvases[u].style.visibility="hidden";e.pathsEnabled=!0;var d=ir(),h=function(_){return{x:(_.x1+_.x2)/2,y:(_.y1+_.y2)/2}},v=function(_){return{x:-_.w/2,y:-_.h/2}},y=function(_){var U=_[0]._private,G=U.oldBackgroundTimestamp===U.backgroundTimestamp;return!G},w=function(_){return _[0]._private.nodeKey},g=function(_){return _[0]._private.labelStyleKey},p=function(_){return _[0]._private.sourceLabelStyleKey},m=function(_){return _[0]._private.targetLabelStyleKey},x=function(_,U,G,Q,ie){return e.drawElement(_,U,G,!1,!1,ie)},E=function(_,U,G,Q,ie){return e.drawElementText(_,U,G,Q,"main",ie)},S=function(_,U,G,Q,ie){return e.drawElementText(_,U,G,Q,"source",ie)},b=function(_,U,G,Q,ie){return e.drawElementText(_,U,G,Q,"target",ie)},C=function(_){return _.boundingBox(),_[0]._private.bodyBounds},T=function(_){return _.boundingBox(),_[0]._private.labelBounds.main||d},P=function(_){return _.boundingBox(),_[0]._private.labelBounds.source||d},k=function(_){return _.boundingBox(),_[0]._private.labelBounds.target||d},D=function(_,U){return U},M=function(_){return h(C(_))},I=function(_,U,G){var Q=_?_+"-":"";return{x:U.x+G.pstyle(Q+"text-margin-x").pfValue,y:U.y+G.pstyle(Q+"text-margin-y").pfValue}},B=function(_,U,G){var Q=_[0]._private.rscratch;return{x:Q[U],y:Q[G]}},L=function(_){return I("",B(_,"labelX","labelY"),_)},N=function(_){return I("source",B(_,"sourceLabelX","sourceLabelY"),_)},R=function(_){return I("target",B(_,"targetLabelX","targetLabelY"),_)},F=function(_){return v(C(_))},z=function(_){return v(P(_))},O=function(_){return v(k(_))},V=function(_){var U=T(_),G=v(T(_));if(_.isNode()){switch(_.pstyle("text-halign").value){case"left":G.x=-U.w-(U.leftPad||0);break;case"right":G.x=-(U.rightPad||0);break}switch(_.pstyle("text-valign").value){case"top":G.y=-U.h-(U.topPad||0);break;case"bottom":G.y=-(U.botPad||0);break}}return G},W=e.data.eleTxrCache=new Yo(e,{getKey:w,doesEleInvalidateKey:y,drawElement:x,getBoundingBox:C,getRotationPoint:M,getRotationOffset:F,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),Y=e.data.lblTxrCache=new Yo(e,{getKey:g,drawElement:E,getBoundingBox:T,getRotationPoint:L,getRotationOffset:V,isVisible:D}),$=e.data.slbTxrCache=new Yo(e,{getKey:p,drawElement:S,getBoundingBox:P,getRotationPoint:N,getRotationOffset:z,isVisible:D}),X=e.data.tlbTxrCache=new Yo(e,{getKey:m,drawElement:b,getBoundingBox:k,getRotationPoint:R,getRotationOffset:O,isVisible:D}),te=e.data.lyrTxrCache=new BC(e);e.onUpdateEleCalcs(function(_,U){W.invalidateElements(U),Y.invalidateElements(U),$.invalidateElements(U),X.invalidateElements(U),te.invalidateElements(U);for(var G=0;G<U.length;G++){var Q=U[G]._private;Q.oldBackgroundTimestamp=Q.backgroundTimestamp}});var se=function(_){for(var U=0;U<_.length;U++)te.enqueueElementRefinement(_[U].ele)};W.onDequeue(se),Y.onDequeue(se),$.onDequeue(se),X.onDequeue(se),t.webgl&&e.initWebgl(t,{getStyleKey:w,getLabelKey:g,getSourceLabelKey:p,getTargetLabelKey:m,drawElement:x,drawLabel:E,drawSourceLabel:S,drawTargetLabel:b,getElementBox:C,getLabelBox:T,getSourceLabelBox:P,getTargetLabelBox:k,getElementRotationPoint:M,getElementRotationOffset:F,getLabelRotationPoint:L,getSourceLabelRotationPoint:N,getTargetLabelRotationPoint:R,getLabelRotationOffset:V,getSourceLabelRotationOffset:z,getTargetLabelRotationOffset:O})}Re.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[Re.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[Re.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[Re.SELECT_BOX]=e;break;case"gc":r.data.gc=!0;break}};var FF=typeof Path2D<"u";Re.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};Re.usePaths=function(){return FF&&this.pathsEnabled};Re.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};Re.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};Re.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":kt(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var n=this.cy.window(),a=n.document;r=a.createElement("canvas"),r.width=t,r.height=e}return r};[OC,fn,Ln,Mg,di,Ta,lr,UC,Pa,ll,$C].forEach(function(t){Se(Re,t)});var zF=[{name:"null",impl:EC},{name:"base",impl:IC},{name:"canvas",impl:OF}],VF=[{type:"layout",extensions:cO},{type:"renderer",extensions:zF}],YC={},XC={};function ZC(t,e,r){var n=r,a=function(C){We("Can not register `"+e+"` for `"+t+"` since `"+C+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(_s.prototype[e])return a(e);_s.prototype[e]=r}else if(t==="collection"){if(_t.prototype[e])return a(e);_t.prototype[e]=r}else if(t==="layout"){for(var i=function(C){this.options=C,r.call(this,C),_e(this._private)||(this._private={}),this._private.cy=C.cy,this._private.listeners=[],this.createEmitter()},o=i.prototype=Object.create(r.prototype),s=[],l=0;l<s.length;l++){var u=s[l];o[u]=o[u]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var c=r.prototype.stop;o.stop=function(){var b=this.options;if(b&&b.animate){var C=this.animations;if(C)for(var T=0;T<C.length;T++)C[T].stop()}return c?c.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var f=function(C){return C._private.cy},d={addEventFields:function(C,T){T.layout=C,T.cy=f(C),T.target=C},bubble:function(){return!0},parent:function(C){return f(C)}};Se(o,{createEmitter:function(){return this._private.emitter=new qc(d,this),this},emitter:function(){return this._private.emitter},on:function(C,T){return this.emitter().on(C,T),this},one:function(C,T){return this.emitter().one(C,T),this},once:function(C,T){return this.emitter().one(C,T),this},removeListener:function(C,T){return this.emitter().removeListener(C,T),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(C,T){return this.emitter().emit(C,T),this}}),qe.eventAliasesOn(o),n=i}else if(t==="renderer"&&e!=="null"&&e!=="base"){var h=QC("renderer","base"),v=h.prototype,y=r,w=r.prototype,g=function(){h.apply(this,arguments),y.apply(this,arguments)},p=g.prototype;for(var m in v){var x=v[m],E=w[m]!=null;if(E)return a(m);p[m]=x}for(var S in w)p[S]=w[S];v.clientFunctions.forEach(function(b){p[b]=p[b]||function(){at("Renderer does not implement `renderer."+b+"()` on its prototype")}}),n=g}else if(t==="__proto__"||t==="constructor"||t==="prototype")return at(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return gS({map:YC,keys:[t,e],value:n})}function QC(t,e){return mS({map:YC,keys:[t,e]})}function _F(t,e,r,n,a){return gS({map:XC,keys:[t,e,r,n],value:a})}function UF(t,e,r,n){return mS({map:XC,keys:[t,e,r,n]})}var Hv=function(){if(arguments.length===2)return QC.apply(null,arguments);if(arguments.length===3)return ZC.apply(null,arguments);if(arguments.length===4)return UF.apply(null,arguments);if(arguments.length===5)return _F.apply(null,arguments);at("Invalid extension access syntax")};_s.prototype.extension=Hv;VF.forEach(function(t){t.extensions.forEach(function(e){ZC(t.type,e.name,e.impl)})});var cc=function(){if(!(this instanceof cc))return new cc;this.length=0},ii=cc.prototype;ii.instanceString=function(){return"stylesheet"};ii.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};ii.css=function(t,e){var r=this.length-1;if(we(t))this[r].properties.push({name:t,value:e});else if(_e(t))for(var n=t,a=Object.keys(n),i=0;i<a.length;i++){var o=a[i],s=n[o];if(s!=null){var l=Nt.properties[o]||Nt.properties[Bc(o)];if(l!=null){var u=l.name,c=s;this[r].properties.push({name:u,value:c})}}}return this};ii.style=ii.css;ii.generateStyle=function(t){var e=new Nt(t);return this.appendToStyle(e)};ii.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,a=r.properties;t.selector(n);for(var i=0;i<a.length;i++){var o=a[i];t.css(o.name,o.value)}}return t};var HF="3.33.1",oi=function(e){if(e===void 0&&(e={}),_e(e))return new _s(e);if(we(e))return Hv.apply(Hv,arguments)};oi.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(oi),t.apply(null,e),this};oi.warnings=function(t){return CS(t)};oi.version=HF;oi.stylesheet=oi.Stylesheet=cc;const Ra=(t,e)=>new Date(t.getTime()+Math.random()*(e.getTime()-t.getTime())).toISOString().split("T")[0],Ot=(t,e)=>{const r=[],n=6+Math.floor(Math.random()*5);if(e.toLowerCase().includes("mofa")||e.toLowerCase().includes("ministry of foreign affairs")||e.toLowerCase().includes("foreign secretary")||e.toLowerCase().includes("asad majeed"))return[{id:"MOFA-DOC-001",title:"LETTER TO FOREIGN SECRETARY - 124th NMC MEETING // OFFICIAL",type:"MEMO",date:Ra(new Date(2025,11,1),new Date),classification:"OFFICIAL // FOR OFFICIAL USE ONLY",tags:["NMC","Coordination"],summary:"Letter addressed to Foreign Secretary regarding 124th National Monitoring Committee (NMC) meeting scheduled from 5 January 2026. Coordination required with all ministries for agenda preparation and participation confirmation.",content:`SUBJECT: 124th NMC MEETING
DATE: December 2025

1. EXECUTIVE SUMMARY
Letter addressed to FS regarding 124th NMC to be held from 5 January 2026.

2. KEY REQUIREMENTS
- All ministry participation required
- Agenda preparation coordination
- Inter-ministerial briefings

3. REFERENCE
 Letter addressed to FS regarding 124th NMC to be held from 5 January 2026.pdf`},{id:"MOFA-DOC-002",title:"COMMITTEE DIRECTIVE - INDONESIA PRESIDENT VISIT // CONFIDENTIAL",type:"BRIEF",date:Ra(new Date(2025,10,1),new Date),classification:"CONFIDENTIAL // NOFORN",tags:["Indonesia","State Visit"],summary:"Committee directive for President of Indonesia's state visit to Pakistan on 8-9 December 2025. Detailed protocol arrangements, security coordination, bilateral meeting agendas, and MoU signing ceremonies.",content:`SUBJECT: INDONESIA PRESIDENT VISIT
DATE: December 8-9, 2025

1. PROTOCOL ARRANGEMENTS
Presidential-level security and protocol required.

2. BILATERAL AGENDA
- Trade agreements
- Defense cooperation
- Energy sector MoUs

3. REFERENCE
 Committee on the Visit of the President of Indonesia to Pakistan on 8_9 December 2025.pdf`},{id:"MOFA-DOC-003",title:"OFFICE MEMORANDUM - IRAN PRESIDENT VISIT MoU // SECRET",type:"MEMO",date:Ra(new Date(2025,9,1),new Date),classification:"SECRET // BILATERAL",tags:["Iran","MoU Implementation"],summary:"O.M. dated 03.10.2025 to all Secretaries regarding implementation of MoUs and Agreements signed during the visit of President of Iran. Multiple bilateral cooperation agreements across energy, trade, and security sectors.",content:`SUBJECT: IRAN MoU IMPLEMENTATION
DATE: 03.10.2025

1. IMPLEMENTATION DIRECTIVE
All Secretaries briefed on Iran MoU implementation.

2. SECTORS COVERED
- Energy cooperation
- Trade expansion
- Security frameworks

3. REFERENCE
 O.M. dated 03.10.2025 to Secretaries (MoU signed during Iran President visit).pdf`},{id:"MOFA-DOC-004",title:"PAK-RUSSIA IGC - 10th SESSION SIGNED MINUTES // CONFIDENTIAL",type:"REPORT",date:Ra(new Date(2025,10,1),new Date),classification:"CONFIDENTIAL // BILATERAL",tags:["Russia","IGC"],summary:"Signed Minutes of 10th Pakistan-Russia Inter-Governmental Commission meeting. Covers defense cooperation, energy sector collaboration, trade expansion, and technical assistance programs.",content:`SUBJECT: PAK-RUSSIA IGC 10th SESSION

1. DEFENSE COOPERATION
Enhanced military-technical cooperation agreements.

2. ENERGY COLLABORATION
Pipeline projects and energy security frameworks.

3. REFERENCE
 Signed Minutes of 10th Pak_Russia IGC_compressed.pdf`},{id:"MOFA-DOC-005",title:"AGREEMENT - TRANSFER OF SENTENCED PERSONS // OFFICIAL",type:"BRIEF",date:Ra(new Date(2025,10,20),new Date),classification:"OFFICIAL // LEGAL AFFAIRS",tags:["Legal","Prisoner Transfer"],summary:"Final checked draft of Agreement on Transfer of Sentenced Persons. Bilateral prisoner exchange framework for humanitarian considerations. Legal Affairs Division coordinating with Ministry of Interior.",content:`SUBJECT: PRISONER TRANSFER AGREEMENT

1. HUMANITARIAN FRAMEWORK
Bilateral prisoner exchange for humanitarian considerations.

2. LEGAL COORDINATION
Legal Affairs Division coordinating with Interior Ministry.

3. REFERENCE
 Agreement Transfer of Sentenced Persons_FINAL CHECKED 28.11.25.docx`},{id:"MOFA-DOC-006",title:"HUNGARY IMPLEMENTATION - O.M. DATED 17/04/2025 // OFFICIAL",type:"MEMO",date:Ra(new Date(2025,3,17),new Date),classification:"OFFICIAL",tags:["Hungary","Implementation"],summary:"Office Memorandum on implementation of Hungary cooperation agreements. Technical education programs, scholarship exchanges, and cultural cooperation initiatives.",content:`SUBJECT: HUNGARY COOPERATION
DATE: 17/04/2025

1. EDUCATION PROGRAMS
Technical education and scholarship exchanges.

2. CULTURAL COOPERATION
Cultural exchange initiatives and programs.

3. REFERENCE
 O.M dated 17_04_2025_Hungary Implementation.pdf`}];const a={PERSON:[{title:"SURVEILLANCE LOG: SECTOR 4",type:"LOG",tags:["Surveillance","Movement"]},{title:"INTERCEPTED GSM CALL #9921",type:"TRANSCRIPT",tags:["Sigint","Voice"]},{title:"TRAVEL PATTERN ANALYSIS Q4",type:"REPORT",tags:["Travel","Pattern"]},{title:"ASSET FINANCIAL LINKAGES",type:"BRIEF",tags:["Finance","Audit"]},{title:"HUMINT FIELD REPORT: CONTACT",type:"MEMO",tags:["Humint","Field"]}],ORG:[{title:"FUNDING STREAM ANALYSIS",type:"REPORT",tags:["Finance","Laundering"]},{title:"RECRUITMENT NETWORK MAP",type:"BRIEF",tags:["HR","Network"]},{title:"MEETING MINUTES: SHURA COUNCIL",type:"MEMO",tags:["Leadership","Strategy"]},{title:"PROCUREMENT LOGISTICS",type:"LOG",tags:["Supply Chain","Arms"]},{title:"FRONT COMPANY AUDIT",type:"REPORT",tags:["Finance","Cover"]}],LOC:[{title:"SATELLITE IMAGERY ANALYSIS",type:"REPORT",tags:["Imint","Geo"]},{title:"PERIMETER SECURITY LAYOUT",type:"BLUEPRINT",tags:["Infra","Security"]},{title:"POWER CONSUMPTION PATTERNS",type:"LOG",tags:["Utility","Signature"]},{title:"LOCAL POPULATION SENTIMENT",type:"BRIEF",tags:["Humint","Social"]},{title:"ACCESS ROUTE VULNERABILITIES",type:"MEMO",tags:["Tactical","Entry"]}],FINANCE:[{title:"SWIFT TRANSACTION LOGS",type:"LOG",tags:["Bank","Transfer"]},{title:"SHELL COMPANY REGISTRATION",type:"MEMO",tags:["Legal","Cover"]},{title:"CURRENCY EXCHANGE PATTERNS",type:"REPORT",tags:["Forex","Laundering"]},{title:"CRYPTOCURRENCY WALLET DUMP",type:"LOG",tags:["Crypto","Tech"]},{title:"AUDIT TRAIL: ACCOUNT 8812",type:"BRIEF",tags:["Audit","Trace"]}],COMMS:[{title:"SIGNAL FREQUENCY ANALYSIS",type:"REPORT",tags:["Sigint","Tech"]},{title:"DECRYPTED MESSAGE BUFFER",type:"TRANSCRIPT",tags:["Crypto","Content"]},{title:"NETWORK TOPOLOGY MAP",type:"BLUEPRINT",tags:["Infra","Comms"]},{title:"CALL DURATION STATISTICS",type:"LOG",tags:["Meta","Analysis"]},{title:"DEVICE IMEI TRACKING",type:"MEMO",tags:["Hardware","Track"]}],WEAPON:[{title:"BALLISTIC ANALYSIS REPORT",type:"REPORT",tags:["Forensics","Ballistics"]},{title:"SUPPLY CHAIN TRACE",type:"LOG",tags:["Logistics","Origin"]},{title:"DEPLOYMENT SCHEMATIC",type:"BLUEPRINT",tags:["Tactical","Deploy"]}]},i=a[t]||a.PERSON;for(let o=0;o<n;o++){const s=i[Math.floor(Math.random()*i.length)];r.push({id:`DOC-${Math.floor(Math.random()*1e4)}`,title:`${s.title} // ${["CONFIDENTIAL","SECRET","TOP SECRET"][Math.floor(Math.random()*3)]}`,type:s.type,date:Ra(new Date(2024,0,1),new Date),classification:"NOFORN",tags:s.tags,summary:`Document contains critical intelligence regarding ${e}. Analysis indicates high probability of correlation with ongoing operations. Key focus on ${s.tags.join(" and ")}. Recommended action: Continued monitoring.`,content:`FULL DECRYPTED CONTENT:

SUBJECT: ${s.title}
DATE: ${new Date().toISOString()}

1. EXECUTIVE SUMMARY
Intercepted data reveals significant activity related to ${e}. Multiple data points suggest coordinated efforts.

2. KEY FINDINGS
- Primary vector established via ${s.tags[0]}.
- Secondary correlation link identified.
- Amplitude of activity exceeds baseline by 45%.

3. RAW DATA
[REDACTED]... [REDACTED]...`})}return r},yu=[{data:{id:"T-1001",label:"Lt Gen Abdul Rehman Khan",type:"PERSON",role:"Commander, 10 Corps",threat:95,description:"Primary target. High-ranking officer with confirmed links to non-state actors. Oversees cross-border infiltrations in sector 4.",details:{"Service Number":"PA-45211",Unit:"10 Corps (Rawalpindi)","Last Sigint":"2 mins ago",Clearance:"Top Secret (Pak)",Family:"3 children (2 in London)"},dossier:Ot("PERSON","Lt Gen Abdul Rehman Khan")}},{data:{id:"ORG-MOFA-001",label:"Ministry of Foreign Affairs (MOFA)",type:"ORG",role:"Federal Ministry - Foreign Relations",threat:48,description:"Pakistan's Ministry of Foreign Affairs responsible for diplomatic relations, international agreements, and bilateral cooperation. Currently handling high-level visits from Indonesia, Iran, and Russia.",details:{Headquarters:"Constitution Avenue, Islamabad","Foreign Secretary":"Dr. Asad Majeed Khan","Active Delegations":"Indonesia, Iran, Russia, Hungary","Last Major Activity":"Indonesia President Visit (Dec 8-9, 2025)","Upcoming Event":"124th NMC Meeting (Jan 5, 2026)","Current Agreements":"UNIDROIT, Prisoner Transfer, Pak-Russia IGC",Classification:"Official Use Only"},dossier:Ot("ORG","Ministry of Foreign Affairs (MOFA)")}},{data:{id:"MOFA-FS-001",label:"Dr. Asad Majeed Khan",type:"PERSON",role:"Foreign Secretary of Pakistan",threat:35,description:"Career diplomat serving as Foreign Secretary. Previously Pakistan's Ambassador to USA (2019-2022). Currently overseeing critical bilateral visits including Indonesia President's visit and 124th NMC coordination.",details:{Designation:"Foreign Secretary",Service:"Pakistan Foreign Service","Previous Posting":"Ambassador to United States","Current Focus":"Indonesia Visit, NMC Meeting, Iran MoU Implementation","Last Activity":"124th NMC Letter (Dec 2025)",Clearance:"Top Secret - Diplomatic"},dossier:Ot("PERSON","Dr. Asad Majeed Khan")}},{data:{id:"MOFA-JS-002",label:"Joint Secretary (East Asia)",type:"PERSON",role:"Joint Secretary - East Asia Division",threat:30,description:"Managing Indonesia President's visit and bilateral cooperation. Coordinating with PM Office on high-level diplomatic engagements.",details:{Designation:"Joint Secretary",Division:"East Asia & Pacific","Current Project":"Indonesia President Visit (Dec 8-9, 2025)",Coordination:"PM Office, Protocol Division","Last Activity":"Visit Directive (Nov 2025)",Clearance:"Secret - Diplomatic"},dossier:Ot("PERSON","Joint Secretary (East Asia)")}},{data:{id:"MOFA-JS-003",label:"Joint Secretary (Middle East)",type:"PERSON",role:"Joint Secretary - Middle East Division",threat:32,description:"Overseeing Iran MoU implementation and agreements signed during Iranian President's visit. Coordinating with all ministries on implementation.",details:{Designation:"Joint Secretary",Division:"Middle East","Current Project":"Iran President Visit MoU Implementation","OM Reference":"O.M. dated 03.10.2025","Last Activity":"Coordination with Secretaries (Oct 2025)",Clearance:"Secret - Diplomatic"},dossier:Ot("PERSON","Joint Secretary (Middle East)")}},{data:{id:"MOFA-JS-001",label:"Joint Secretary (Europe)",type:"PERSON",role:"Joint Secretary - Europe Division",threat:28,description:"Handles European affairs including Hungary implementation and UNIDROIT convention matters. Coordinates with Russia on IGC meetings.",details:{Designation:"Joint Secretary",Division:"Europe","Current Projects":"Hungary Implementation, Pak-Russia IGC","Last Meeting":"10th Pak-Russia IGC Session",Clearance:"Secret - Diplomatic"},dossier:Ot("PERSON","Joint Secretary (Europe)")}},{data:{id:"LOC-MOFA-HQ",label:"MOFA Headquarters - Islamabad",type:"LOC",role:"Diplomatic HQ",threat:25,description:"Main headquarters building on Constitution Avenue. Houses all divisions including Political, Economic, UN Affairs, and regional desks.",details:{Address:"Constitution Avenue, Red Zone, Islamabad","Security Level":"High - Armed Guards, Multi-layer Clearance","Key Divisions":"Political, Economic, Legal, Protocol","Meeting Rooms":"15+ (including 3 secure rooms)","Last Surveillance":"Ongoing"},dossier:Ot("LOC","MOFA Headquarters - Islamabad")}},{data:{id:"EVENT-INDO-001",label:"Indonesia President Visit",type:"ORG",role:"State Visit Event",threat:42,description:"High-level state visit by President of Indonesia to Pakistan on December 8-9, 2025. Multiple bilateral agreements and MoUs to be signed. Protocol Division coordinating security arrangements.",details:{Date:"December 8-9, 2025",Status:"Confirmed - Protocol Active","Delegation Size":"45+ officials","Security Level":"Presidential - Category A",Agreements:"Trade, Defense, Energy MoUs",Venue:"Aiwan-e-Sadr, PM House"},dossier:Ot("ORG","Indonesia President Visit")}},{data:{id:"FINANCE-IRAN-001",label:"Iran MoU Implementation",type:"FINANCE",role:"Bilateral Agreement",threat:38,description:"Implementation of MoUs and Agreements signed during Iranian President's visit. Multi-ministry coordination required for energy, trade, and security cooperation frameworks.",details:{Reference:"O.M. dated 03.10.2025","Ministries Involved":"15+ Federal Ministries",Sectors:"Energy, Trade, Defense, Agriculture","Implementation Timeline":"6 months",Coordination:"All Secretaries briefed",Status:"Active Implementation Phase"},dossier:Ot("FINANCE","Iran MoU Implementation")}},{data:{id:"COMMS-NMC-001",label:"124th NMC Meeting",type:"COMMS",role:"National Monitoring Committee",threat:35,description:"124th National Monitoring Committee meeting scheduled from January 5, 2026. Inter-ministerial coordination platform for policy implementation and monitoring.",details:{"Meeting Date":"January 5, 2026",Participants:"All Federal Secretaries",Agenda:"Policy Implementation Review",Venue:"Cabinet Division, Islamabad",Classification:"Official Use Only",Coordination:"Foreign Secretary leading"},dossier:Ot("COMMS","124th NMC Meeting")}},{data:{id:"P-002",label:"Maj Gen Ahmed Jabbar",type:"PERSON",role:"DG Analysis, ISI",threat:88,description:"Director General of Analysis at ISI. Responsible for strategic planning of covert operations in the Kashmir valley. Intercepts suggest recent travel to forward operating bases.",details:{Unit:"ISI Directorate S",Clearance:"TS/SCI (Pak)","Last Seen":"Islamabad H-8"},dossier:Ot("PERSON","Maj Gen Ahmed Jabbar")}},{data:{id:"P-003",label:"Brig Salman Butt",type:"PERSON",role:"Sector Commander",threat:82,description:"Sector Commander for Kotli sector. Directly supervises launch pads for infiltration. Reports directly to Lt Gen Khan. Known hardliner.",details:{Sector:"Kotli",Command:"3rd Bde",Status:"Active"},dossier:Ot("PERSON","Brig Salman Butt")}},{data:{id:"O-001",label:"ISI Directorate S",type:"ORG",role:"Covert Ops",threat:90,description:"The secretive covert operations wing of the ISI. Focused on supporting non-state actors in neighboring regions. Primary source of funding and logistics.",details:{HQ:"Islamabad",Focus:"External Ops",Budget:"Classified"},dossier:Ot("ORG","ISI Directorate S")}},{data:{id:"O-002",label:"Lashkar-e-Taiba",type:"ORG",role:"Proxy Group",threat:95,description:"Proscribed militant organization operating out of Muridke. Maintains training camps in Muzaffarabad. Heavily funded by front charities.",details:{Status:"Proscribed",Leader:"Hafiz Saeed",Strength:"Est. 2500"},dossier:Ot("ORG","Lashkar-e-Taiba")}},{data:{id:"L-001",label:"Rawalpindi GHQ",type:"LOC",role:"Military HQ",threat:30,description:"General Headquarters of the Pakistan Army. Nerve center for all military operations. Highly secured facility with dual-layer perimeter.",details:{Coordinates:"33.59 N, 73.04 E","Secure Comms":"Active",Surveillance:"High"},dossier:Ot("LOC","Rawalpindi GHQ")}},{data:{id:"F-001",label:"Dubai Hawala",type:"FINANCE",role:"Laundering",threat:70,description:"Hawala network operating out of Deira, Dubai using gold traders as fronts. Primary channel for moving illicit funds to operational commanders.",details:{Hub:"Deira",Volume:"$4M/mo",Front:"Al-Jadeed Jewelers"},dossier:Ot("FINANCE","Dubai Hawala")}}],jv=[{data:{id:"e1",source:"T-1001",target:"P-002",label:"COMMANDS"}},{data:{id:"e2",source:"T-1001",target:"P-003",label:"COMMANDS"}},{data:{id:"e3",source:"P-002",target:"O-001",label:"DIRECTS"}},{data:{id:"e4",source:"O-001",target:"O-002",label:"HANDLES"}},{data:{id:"e5",source:"T-1001",target:"L-001",label:"STATIONED_AT"}},{data:{id:"e6",source:"T-1001",target:"F-001",label:"FUNDS"}},{data:{id:"e7",source:"MOFA-FS-001",target:"ORG-MOFA-001",label:"HEADS"}},{data:{id:"e8",source:"MOFA-JS-001",target:"ORG-MOFA-001",label:"WORKS_AT"}},{data:{id:"e9",source:"MOFA-JS-002",target:"ORG-MOFA-001",label:"WORKS_AT"}},{data:{id:"e10",source:"MOFA-JS-003",target:"ORG-MOFA-001",label:"WORKS_AT"}},{data:{id:"e11",source:"ORG-MOFA-001",target:"LOC-MOFA-HQ",label:"OPERATES_FROM"}},{data:{id:"e12",source:"MOFA-JS-002",target:"EVENT-INDO-001",label:"COORDINATES"}},{data:{id:"e13",source:"MOFA-JS-003",target:"FINANCE-IRAN-001",label:"IMPLEMENTS"}},{data:{id:"e14",source:"MOFA-FS-001",target:"COMMS-NMC-001",label:"CHAIRS"}},{data:{id:"e15",source:"ORG-MOFA-001",target:"T-1001",label:"COORDINATES_WITH"}},{data:{id:"e16",source:"ORG-MOFA-001",target:"O-001",label:"INTELLIGENCE_LIAISON"}}],Tw=["Ahmed","Bilal","Hamza","Yusuf","Ibrahim","Tariq","Zaid","Omar"],Pw=["Khan","Malik","Shah","Bhatti","Raja","Aziz","Mir","Dar"],ql=["Muzaffarabad","Neelum Valley","Bhimber","Sialkot","Lahore","Karachi"],kw=["Al-Khidmat Trust","Falcon Trading","Green Crescent","Kashmir Relief Fund"],jF=t=>{const e=t.toLowerCase().trim();if(!e)return{nodes:yu,edges:jv};const r={abdul:["T-1001","P-002","P-003","O-001","O-002","L-001","F-001"],military:["T-1001","P-002","P-003","O-001","O-002","L-001","F-001"],isi:["P-002","O-001","O-002","T-1001"],mofa:["ORG-MOFA-001","MOFA-FS-001","MOFA-JS-001","MOFA-JS-002","MOFA-JS-003","LOC-MOFA-HQ","EVENT-INDO-001","FINANCE-IRAN-001","COMMS-NMC-001"],"foreign affairs":["ORG-MOFA-001","MOFA-FS-001","MOFA-JS-001","MOFA-JS-002","MOFA-JS-003"],"asad majeed":["MOFA-FS-001","ORG-MOFA-001","COMMS-NMC-001"],indonesia:["MOFA-JS-002","EVENT-INDO-001","ORG-MOFA-001"],iran:["MOFA-JS-003","FINANCE-IRAN-001","ORG-MOFA-001"],russia:["MOFA-JS-001","ORG-MOFA-001"],nmc:["COMMS-NMC-001","MOFA-FS-001","ORG-MOFA-001"]};let n=[];for(const[o,s]of Object.entries(r))e.includes(o)&&(n=[...new Set([...n,...s])]);n.length===0&&(n=yu.filter(o=>{var s,l;return o.data.label.toLowerCase().includes(e)||((s=o.data.description)==null?void 0:s.toLowerCase().includes(e))||((l=o.data.role)==null?void 0:l.toLowerCase().includes(e))}).map(o=>o.data.id));const a=yu.filter(o=>n.includes(o.data.id)),i=jv.filter(o=>n.includes(o.data.source)&&n.includes(o.data.target));return{nodes:a,edges:i,searchTerm:e,matchCount:a.length}},GF=t=>{const e=[],r=[],n=Math.floor(Math.random()*3)+1;for(let a=0;a<n;a++){const i=`N-${Math.floor(Math.random()*1e5)}`,o=["PERSON","FINANCE","COMMS","LOC","ORG"],s=o[Math.floor(Math.random()*o.length)];let l="",u="",c="",f={};switch(s){case"PERSON":l=`${Tw[Math.floor(Math.random()*Tw.length)]} ${Pw[Math.floor(Math.random()*Pw.length)]}`,u=Math.random()>.5?"Field Operative":"Courier",c=`Suspected ${u.toLowerCase()} linked to the target network. Frequent travel to border regions detected.`,f={Origin:ql[Math.floor(Math.random()*ql.length)],Status:"Under Surveillance"};break;case"LOC":l=`Safe House ${String.fromCharCode(65+Math.floor(Math.random()*5))}`,u="Hideout",c="Residential compound used for temporary lodging of operatives. High footfall during night hours.",f={Region:ql[Math.floor(Math.random()*ql.length)],Owner:"Unknown"};break;case"FINANCE":l=`Account #${Math.floor(Math.random()*1e4)}`,u="Transaction",c="Suspicious financial transfer flagged by monitoring algorithms. Consistent with funding patterns.",f={Bank:"Habib Bank",Amount:`$${Math.floor(Math.random()*50)}k`};break;case"ORG":l=kw[Math.floor(Math.random()*kw.length)],u="Front",c="NGO or commercial entity suspected of diverting funds to militants.",f={Reg:"Punjab",Activity:"Suspicious"};break;case"COMMS":l=`Signal ${Math.floor(Math.random()*999)}`,u="Intercept",c="Encrypted communication burst intercepted from target location.",f={Type:"GSM",Duration:"45s"};break}e.push({data:{id:i,label:l,type:s,role:u,threat:Math.floor(Math.random()*60)+20,description:c,details:{...f,Discovered:new Date().toLocaleTimeString(),Confidence:["Low","Medium","High"][Math.floor(Math.random()*3)]},dossier:Ot(s,l)}}),r.push({data:{id:`${t}-${i}`,source:t,target:i,label:["CONTACTED","VISITED","FUNDED","LINKED"][Math.floor(Math.random()*4)]}})}return{nodes:e,edges:r}},Si={PERSON:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iMTEiIGZpbGw9IiMzMzgxNTUiIHN0cm9rZT0iI2VmNDQ0NCIgc3Ryb2tlLXdpZHRoPSIyLjUiLz4KICAgIDxwYXRoIGQ9Ik0yMCAyMXYtMmE0IDQgMCAwIDAtNC00SDhhNCA0IDAgMCAwLTQgNHYyIiBmaWxsPSJub25lIiBzdHJva2U9IiNlZjQ0NDQiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CiAgICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjciIHI9IjQiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2VmNDQ0NCIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgPC9zdmc+",ORG:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHJlY3QgeD0iMiIgeT0iMiIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiByeD0iNCIgZmlsbD0iIzMzODE1NSIgc3Ryb2tlPSIjZjk3MzE2IiBzdHJva2Utd2lkdGg9IjMiLz4KICAgIDxwYXRoIGQ9Ik03IDE2VjhoMnY4IiBzdHJva2U9IiNmOTczMTYiIHN0cm9rZS13aWR0aD0iMi41IiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KICAgIDxwYXRoIGQ9Ik0xNSAxNlY4aDJ2OCIgc3Ryb2tlPSIjZjk3MzE2IiBzdHJva2Utd2lkdGg9IjIuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CiAgICA8cGF0aCBkPSJNMTEgMTZWNGgydjgiIHN0cm9rZT0iI2Y5NzMxNiIgc3Ryb2tlLXdpZHRoPSIyLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgogICAgPHBhdGggZD0iTTIgMTZoMjAiIHN0cm9rZT0iI2Y5NzMxNiIgc3Ryb2tlLXdpZHRoPSIxLjUiLz4KICA8L3N2Zz4=",LOC:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHJlY3QgeD0iMiIgeT0iMiIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiByeD0iNCIgZmlsbD0iIzMzODE1NSIgc3Ryb2tlPSIjM2I4MmY2IiBzdHJva2Utd2lkdGg9IjIuNSIvPgogICAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iNiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjM2I4MmY2IiBzdHJva2Utd2lkdGg9IjIiLz4KICAgIDxwYXRoIGQ9Ik0xMiAydjIwIiBzdHJva2U9IiMzYjgyZjYiIHN0cm9rZS13aWR0aD0iMS41Ii8+CiAgICA8cGF0aCBkPSJNMiAxMmgyMCIgc3Ryb2tlPSIjM2I4MmY2IiBzdHJva2Utd2lkdGg9IjEuNSIvPgogIDwvc3ZnPg==",FINANCE:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHJlY3QgeD0iMTIiIHk9IjIiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgdHJhbnNmb3JtPSJyb3RhdGUoNDUgMTIgMikiIGZpbGw9IiMzMzgxNTUiIHN0cm9rZT0iIzEwYjk4MSIgc3Ryb2tlLXdpZHRoPSIyLjUiLz4KICAgIDxwYXRoIGQ9Ik0xMiA2djEyIiBzdHJva2U9IiMxMGI5ODEiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CiAgICA8cGF0aCBkPSJNNiAxMmgxMiIgc3Ryb2tlPSIjMTBiOTgxIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgogIDwvc3ZnPg==",COMMS:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTEyIDJsMTAgMThIMnoiIGZpbGw9IiMzMzgxNTUiIHN0cm9rZT0iIzhiNWNmNiIgc3Ryb2tlLXdpZHRoPSIyLjUiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KICAgIDxwYXRoIGQ9Ik0xMiAxNmEyIDIgMCAxIDAgMCA0IDIgMiAwIDAgMCAwLTQiIGZpbGw9IiM4YjVjZjYiLz4KICAgIDxwYXRoIGQ9Ik0xMiA2djYiIHN0cm9rZT0iIzhiNWNmNiIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KICA8L3N2Zz4=",WEAPON:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iMTEiIGZpbGw9IiMzMzgxNTUiIHN0cm9rZT0iI2RjMjYyNiIgc3Ryb2tlLXdpZHRoPSIyLjUiLz4KICAgIDxwYXRoIGQ9Ik0xMiA0djQiIHN0cm9rZT0iI2RjMjYyNiIgc3Ryb2tlLXdpZHRoPSIyLjUiLz4KICAgIDxwYXRoIGQ9Ik0xMiAxNnY0IiBzdHJva2U9IiNkYzI2MjYiIHN0cm9rZS13aWR0aD0iMi41Ii8+CiAgICA8cGF0aCBkPSJNNCAxMmg0IiBzdHJva2U9IiNkYzI2MjYiIHN0cm9rZS13aWR0aD0iMi41Ii8+CiAgICA8cGF0aCBkPSJTE2IDEyaDQiIHN0cm9rZT0iI2RjMjYyNiIgc3Ryb2tlLXdpZHRoPSIyLjUiLz4KICAgIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjYiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RjMjYyNiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgPC9zdmc+"},qF=({onNodeSelect:t,searchResults:e})=>{const r=ae.useRef(null),n=ae.useRef(null);return ae.useEffect(()=>{if(!r.current)return;const a=e?e.nodes:yu,i=e?e.edges:jv,o=oi({container:r.current,elements:[...a,...i],style:[{selector:"node",style:{label:"data(label)",color:"#cbd5e1","font-family":"JetBrains Mono, monospace","font-size":"10px","font-weight":"600","text-transform":"uppercase","text-valign":"bottom","text-margin-y":12,"text-background-color":"#020617","text-background-opacity":.9,"text-background-padding":"4px","text-background-shape":"roundrectangle",width:64,height:64,"background-fit":"cover","background-opacity":0,"border-width":2,"border-color":"#6366f1","border-opacity":.3,"overlay-opacity":0,"transition-property":"border-width, border-color, width, height","transition-duration":"0.3s"}},{selector:'node[type="PERSON"]',style:{"background-image":Si.PERSON}},{selector:'node[type="ORG"]',style:{"background-image":Si.ORG}},{selector:'node[type="LOC"]',style:{"background-image":Si.LOC}},{selector:'node[type="FINANCE"]',style:{"background-image":Si.FINANCE}},{selector:'node[type="COMMS"]',style:{"background-image":Si.COMMS}},{selector:'node[type="WEAPON"]',style:{"background-image":Si.WEAPON}},{selector:"node:active",style:{"border-width":3,"border-color":"#22d3ee","border-opacity":.8}},{selector:":selected",style:{"border-width":3,"border-color":"#06b6d4","border-opacity":1,width:76,height:76,color:"#f1f5f9","font-weight":"700","text-background-color":"#6366f1","text-background-opacity":.95,"shadow-blur":30,"shadow-color":"#06b6d4","shadow-opacity":.6,"shadow-offset-x":0,"shadow-offset-y":0,"transition-property":"width, height, border-width, font-size","transition-duration":"0.3s"}},{selector:"edge",style:{width:2,"line-color":"#06b6d4","line-opacity":.4,"target-arrow-color":"#06b6d4","target-arrow-shape":"vee","arrow-scale":1.2,"curve-style":"bezier",label:"data(label)","font-size":"10px","font-family":"JetBrains Mono, monospace","font-weight":"600",color:"#22d3ee","text-rotation":"autorotate","text-background-color":"#020617","text-background-opacity":.9,"text-background-padding":"3px","text-margin-y":-14,"text-transform":"uppercase","transition-property":"line-color, width","transition-duration":"0.3s"}},{selector:"edge:selected",style:{width:3,"line-color":"#22d3ee","line-opacity":.8,"target-arrow-color":"#22d3ee"}}],layout:{name:"grid"}});n.current=o,o.layout({name:"cose",animate:!0,animationDuration:1200,fit:!0,padding:60,randomize:!0,nodeRepulsion:12e5,idealEdgeLength:200,componentSpacing:80}).run(),o.on("tap","node",l=>{const u=l.target;t(u.data())}),o.on("tap",l=>{l.target===o&&t(null)});const s=l=>{const u=l,{nodeId:c}=u.detail;if(o.getElementById(c).nonempty()){const{nodes:d,edges:h}=GF(c);o.add([...d,...h]),o.layout({name:"cose",animate:!0,animationDuration:600,fit:!1,nodeRepulsion:12e5,idealEdgeLength:140,padding:30}).run()}};return window.addEventListener("graph:expand",s),()=>{o.destroy(),window.removeEventListener("graph:expand",s)}},[e]),j.jsx("div",{ref:r,className:"w-full h-full tactical-grid-dense"})},WF=({items:t})=>j.jsxs("div",{className:"space-y-4",children:[j.jsxs("div",{className:"flex items-center gap-2 text-red-500 mb-4 border-b border-red-500/30 pb-2",children:[j.jsx(qP,{className:"w-4 h-4"}),j.jsx("h3",{className:"text-sm font-bold font-mono tracking-wider",children:"INTERCEPTED INTEL"}),j.jsxs("span",{className:"text-[10px] bg-red-500/10 px-2 py-0.5 rounded border border-red-500/20 animate-pulse",children:[t.length," FILES"]})]}),j.jsx("div",{className:"space-y-3",children:t.map(e=>j.jsx($F,{item:e},e.id))})]}),$F=({item:t})=>{const[e,r]=ae.useState(!1),[n,a]=ae.useState(!1),[i,o]=ae.useState(!1),s=u=>{u.stopPropagation(),!e&&(a(!0),setTimeout(()=>{a(!1),r(!0),o(!0)},2e3))},l=()=>{switch(t.type){case"REPORT":return j.jsx(qm,{className:"w-4 h-4"});case"LOG":return j.jsx(jP,{className:"w-4 h-4"});case"BLUEPRINT":return j.jsx(HP,{className:"w-4 h-4"});case"TRANSCRIPT":return j.jsx(UP,{className:"w-4 h-4"});default:return j.jsx(qm,{className:"w-4 h-4"})}};return j.jsxs("div",{className:`
      border rounded-lg transition-all duration-300
      ${e?"border-emerald-500/30 bg-emerald-950/10":"border-cyan-500/30 bg-navy-900"}
      hover:border-cyan-400/50
    `,children:[j.jsxs("div",{className:"p-3 cursor-pointer flex items-start gap-3",onClick:()=>e&&o(!i),children:[j.jsx("div",{className:`mt-1 ${e?"text-emerald-400":"text-cyan-500"}`,children:l()}),j.jsxs("div",{className:"flex-1 min-w-0",children:[j.jsxs("div",{className:"flex justify-between items-start",children:[j.jsx("h4",{className:"text-slate-200 font-mono text-xs font-bold truncate pr-2 uppercase",children:t.title}),j.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[j.jsx("span",{className:"text-[10px] font-mono text-slate-500",children:t.date}),!e&&j.jsx("button",{onClick:s,disabled:n,className:`
                                text-[10px] font-bold px-2 py-1 rounded border transition-all flex items-center gap-1
                                ${n?"bg-cyan-500/20 border-cyan-500 text-cyan-400 cursor-wait":"bg-transparent border-cyan-500 text-cyan-500 hover:bg-cyan-500 hover:text-navy-950"}
                            `,children:n?j.jsxs(j.Fragment,{children:[j.jsx(GP,{className:"w-3 h-3 animate-spin"})," DECRYPTING"]}):"DECRYPT"}),e&&j.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-emerald-500 font-bold border border-emerald-500/30 px-2 py-1 rounded bg-emerald-500/10",children:[j.jsx(KP,{className:"w-3 h-3"})," DECRYPTED"]})]})]}),j.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[j.jsx("span",{className:`text-[10px] px-1.5 rounded border ${e?"border-emerald-500/20 text-emerald-400 bg-emerald-500/10":"border-cyan-500/20 text-cyan-400 bg-cyan-500/10"}`,children:t.type}),t.tags.map(u=>j.jsx("span",{className:"text-[10px] text-slate-500 border border-slate-700 px-1.5 rounded bg-slate-800/50",children:u},u))]})]})]}),j.jsx(ou,{children:i&&e&&j.jsx(Va.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden bg-black/20 border-t border-emerald-500/20",children:j.jsxs("div",{className:"p-3",children:[j.jsxs("div",{className:"text-[10px] text-emerald-500 font-mono mb-2 flex items-center gap-2",children:[j.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),"DECRYPTED CONTENT // ",t.classification]}),j.jsxs("div",{className:"text-xs text-slate-300 font-mono leading-relaxed p-3 bg-emerald-950/20 rounded border border-emerald-500/10 border-l-2 border-l-emerald-500",children:[j.jsx("p",{className:"mb-2 font-bold text-emerald-400/80",children:"SUMMARY:"}),t.summary,j.jsxs("div",{className:"mt-3 pt-3 border-t border-emerald-500/20",children:[j.jsx("p",{className:"font-bold text-emerald-400/80 mb-1",children:"RAW SNIPPET:"}),j.jsx("pre",{className:"text-[10px] whitespace-pre-wrap text-emerald-400/60 font-mono",children:t.content})]})]}),j.jsx("button",{className:"w-full mt-2 text-[10px] text-center text-emerald-500/50 hover:text-emerald-400 py-1 transition-colors",children:"DOWNLOAD FULL FILE (ENCRYPTED)"})]})})})]})},KF=({node:t,onClose:e})=>{const r=()=>{const n=new CustomEvent("graph:expand",{detail:{nodeId:t.id}});window.dispatchEvent(n)};return j.jsxs(Va.div,{initial:{x:400,opacity:0},animate:{x:0,opacity:1},exit:{x:400,opacity:0},transition:{type:"spring",damping:20},className:"absolute right-0 top-16 bottom-0 w-96 glass-strong shadow-tactical-lg z-20 flex flex-col overflow-hidden",children:[j.jsxs("div",{className:"p-6 border-b border-indigo-500/20 flex justify-between items-start bg-gradient-to-br from-navy-900/50 to-navy-850/50",children:[j.jsxs("div",{className:"flex-1",children:[j.jsxs("div",{className:"inline-flex items-center gap-2 text-[10px] mono-tactical text-white mb-3 classification-badge rounded-sm",children:[j.jsx($P,{className:"w-3 h-3"}),j.jsx("span",{children:"TOP SECRET // NOFORN"})]}),j.jsx("h2",{className:"text-xl font-display font-bold text-slate-100 leading-tight mb-2",children:t.label}),j.jsxs("div",{className:"mt-3 flex gap-2",children:[j.jsx("span",{className:"px-2.5 py-1 rounded-md text-[10px] mono-tactical font-bold bg-indigo-500/20 text-indigo-300 border border-indigo-500/30 shadow-glow-sm",children:t.type}),t.role&&j.jsx("span",{className:"px-2.5 py-1 rounded-md text-[10px] mono-tactical font-semibold bg-slate-800/50 text-slate-300 border border-slate-600/50",children:t.role})]})]}),j.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-300 transition-colors p-2 hover:bg-slate-800/30 rounded-lg",children:j.jsx(XP,{className:"w-5 h-5"})})]}),j.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[t.threat&&j.jsxs("div",{className:"tactical-card rounded-lg p-5",children:[j.jsx("div",{className:"text-[10px] mono-tactical text-slate-400 mb-3 uppercase tracking-wider font-semibold",children:"Threat Probability"}),j.jsxs("div",{className:"flex items-end gap-3 mb-3",children:[j.jsxs("span",{className:`text-4xl font-black mono-tactical data-metric ${t.threat>75?"text-red-400":"text-orange-400"}`,children:[t.threat,"%"]}),j.jsx("span",{className:"text-xs text-slate-500 mb-2 mono-tactical font-bold",children:"CONFIRMED"})]}),j.jsxs("div",{className:"relative w-full bg-navy-900 h-2 rounded-full overflow-hidden shadow-inner border border-navy-700",children:[j.jsx("div",{className:`h-full transition-all duration-1000 ${t.threat>75?"bg-gradient-to-r from-red-500 to-red-400":"bg-gradient-to-r from-orange-500 to-orange-400"} shadow-glow-md`,style:{width:`${t.threat}%`}}),j.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-shimmer"})]})]}),j.jsxs("div",{className:"tactical-card rounded-lg p-5",children:[j.jsxs("h3",{className:"text-sm font-bold mono-tactical text-tactical-cyan mb-4 flex items-center gap-2 uppercase tracking-wide",children:[j.jsx(_P,{className:"w-4 h-4"}),"INTELLIGENCE SUMMARY"]}),j.jsx("p",{className:"text-sm text-slate-300 leading-relaxed font-sans",children:t.description||"No specific intelligence summary available for this entity. Cross-reference with SIGINT database required."})]}),t.details&&j.jsxs("div",{className:"tactical-card rounded-lg p-5",children:[j.jsxs("h3",{className:"text-sm font-bold mono-tactical text-tactical-cyan mb-4 flex items-center gap-2 uppercase tracking-wide",children:[j.jsx(VP,{className:"w-4 h-4"}),"KEY ATTRIBUTES"]}),j.jsx("div",{className:"grid grid-cols-1 gap-3",children:Object.entries(t.details).map(([n,a])=>j.jsxs("div",{className:"flex justify-between items-center py-2.5 px-3 bg-navy-900/30 rounded border border-navy-700/30 hover:border-indigo-500/30 transition-colors",children:[j.jsx("span",{className:"text-xs text-slate-400 mono-tactical uppercase tracking-wide font-semibold",children:n}),j.jsx("span",{className:"text-sm text-slate-200 mono-tactical font-bold data-metric",children:a})]},n))})]}),t.dossier&&t.dossier.length>0&&j.jsx(WF,{items:t.dossier}),j.jsxs("div",{className:"pt-4 border-t border-indigo-500/20",children:[j.jsx("h3",{className:"text-sm font-bold mono-tactical text-slate-300 mb-4 uppercase tracking-wide",children:"AVAILABLE ACTIONS"}),j.jsx("div",{className:"space-y-3",children:j.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-indigo-600 to-indigo-500 hover:from-indigo-500 hover:to-indigo-400 text-white py-2.5 rounded-lg text-sm font-bold mono-tactical uppercase tracking-wide transition-all shadow-glow-sm hover:shadow-glow-md transform hover:scale-[1.02]",children:[j.jsx(WP,{className:"w-4 h-4"}),"Expand Correlations"]})})]})]})]})};function YF(){const[t,e]=ae.useState("START"),[r,n]=ae.useState(null),[a,i]=ae.useState(""),[o,s]=ae.useState(0),[l,u]=ae.useState(null),c=f=>{if(f.preventDefault(),!a.trim())return;n(null),e("LOADING");const d=jF(a);let h=0;const v=setInterval(()=>{h+=Math.random()*15,h>100&&(h=100,clearInterval(v),setTimeout(()=>{u(d),e("GRAPH")},500)),s(h)},200)};return j.jsxs("div",{className:"h-screen w-screen overflow-hidden flex flex-col relative tactical-grid scanline-overlay",children:[j.jsxs("nav",{className:`z-50 glass-strong shadow-tactical-lg flex items-center justify-between px-6 transition-all duration-500 corner-ornament ${t==="START"?"h-0 opacity-0 overflow-hidden":"h-16 opacity-100"}`,children:[j.jsxs("div",{className:"flex items-center gap-4",children:[j.jsx($m,{className:"text-indigo-500 w-8 h-8 drop-shadow-glow-md"}),j.jsxs("div",{className:"font-display font-bold text-xl tracking-wider",children:[j.jsx("span",{className:"heading-tactical",children:"GARUD"}),j.jsx("span",{className:"text-indigo-400 text-xs align-top ml-1 font-mono",children:"INTEL"})]})]}),j.jsx("form",{onSubmit:c,className:"flex-1 max-w-xl mx-12",children:j.jsxs("div",{className:"relative group",children:[j.jsx(Wm,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 group-focus-within:text-indigo-400 transition-colors"}),j.jsx("input",{type:"text",value:a,onChange:f=>i(f.target.value),className:"w-full premium-input rounded-md py-2 pl-10 pr-16 text-sm mono-tactical text-slate-300",placeholder:"SEARCH ENTITY / ID...",onKeyDown:f=>{f.key==="Enter"&&c(f)}}),j.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 px-2 py-1 text-xs bg-indigo-600 hover:bg-indigo-500 text-white rounded transition-colors font-mono font-bold",children:"GO"})]})}),j.jsxs("div",{className:"flex items-center gap-6 text-slate-400",children:[j.jsxs("div",{className:"flex items-center gap-2 text-xs mono-tactical font-semibold text-red-400 border border-red-500/30 bg-red-950/30 px-3 py-1.5 rounded backdrop-blur-sm",children:[j.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 pulse-ring"}),"LIVE FEED"]}),j.jsx(zP,{className:"w-5 h-5 hover:text-indigo-400 cursor-pointer transition-colors"}),j.jsx(YP,{className:"w-5 h-5 hover:text-indigo-400 cursor-pointer transition-colors"})]})]}),j.jsxs("main",{className:"flex-1 relative",children:[j.jsx(ou,{children:t==="START"&&j.jsx(Va.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,y:-50},className:"absolute inset-0 flex flex-col items-center justify-center z-40 bg-navy-950",children:j.jsxs(Va.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-2xl px-6",children:[j.jsxs("div",{className:"flex flex-col items-center mb-12",children:[j.jsx($m,{className:"w-24 h-24 text-indigo-500 mb-6 drop-shadow-glow-lg animate-pulse-slow"}),j.jsx("h1",{className:"text-6xl font-display font-black tracking-tight mb-3 text-center",children:j.jsx("span",{className:"heading-tactical",children:"PROJECT GARUD"})}),j.jsx("p",{className:"mono-tactical text-tactical-cyan text-sm font-medium tracking-[0.3em] mb-3",children:"STRATEGIC INTELLIGENCE PLATFORM"}),j.jsx("div",{className:"flex justify-center",children:j.jsx("div",{className:"px-3 py-1 classification-badge rounded text-white",children:"TOP SECRET // SI / TK // NOFORN"})}),j.jsxs("div",{className:"mt-6 space-y-2",children:[j.jsxs("div",{className:"flex items-center gap-3 text-xs mono-tactical text-emerald-400",children:[j.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),j.jsx("span",{className:"animate-pulse",children:"ACCESS LEVEL: CLASSIFIED"})]}),j.jsxs("div",{className:"flex items-center gap-3 text-xs mono-tactical text-tactical-cyan",children:[j.jsx("div",{className:"w-2 h-2 rounded-full bg-tactical-cyan animate-pulse"}),j.jsx("span",{className:"animate-pulse",style:{animationDelay:"0.2s"},children:"ENCRYPTION: AES-256"})]}),j.jsxs("div",{className:"flex items-center gap-3 text-xs mono-tactical text-indigo-400",children:[j.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-400 animate-pulse"}),j.jsx("span",{className:"animate-pulse",style:{animationDelay:"0.4s"},children:"NETWORK: SECURE"})]})]})]}),j.jsx("form",{onSubmit:c,className:"relative w-full",children:j.jsxs("div",{className:"relative group glow-border rounded-lg",children:[j.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none z-10",children:j.jsx(Wm,{className:"h-6 w-6 text-slate-500 group-focus-within:text-tactical-cyan transition-colors"})}),j.jsx("input",{type:"text",className:"block w-full pl-12 pr-24 py-4 glass-panel rounded-lg text-lg mono-tactical text-slate-200 placeholder-slate-500 focus:ring-2 focus:ring-indigo-500/30 focus:border-indigo-500/50 outline-none transition-all shadow-tactical-lg",placeholder:"Enter target name, ID, or keyword...",value:a,onChange:f=>i(f.target.value),autoFocus:!0}),j.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center z-10",children:j.jsx("span",{className:"text-tactical-cyan mono-tactical text-xs border border-tactical-cyan/30 bg-tactical-cyan/10 rounded px-2 py-1 font-semibold",children:"RETURN "})})]})}),j.jsxs("div",{className:"mt-8 flex justify-center gap-8 text-sm mono-tactical",children:[j.jsxs("span",{className:"text-slate-500",children:["SYSTEM: ",j.jsx("span",{className:"text-emerald-400 font-semibold",children:"ONLINE"})]}),j.jsxs("span",{className:"text-slate-500",children:["DB: ",j.jsx("span",{className:"text-emerald-400 font-semibold",children:"CONNECTED"})]}),j.jsxs("span",{className:"text-slate-500",children:["NODES: ",j.jsx("span",{className:"gradient-text-cyan font-semibold",children:"14.2M"})]})]})]})})}),j.jsx(ou,{children:t==="LOADING"&&j.jsx(Va.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-50 flex flex-col items-center justify-center glass",children:j.jsxs("div",{className:"w-96 tactical-card rounded-lg p-6",children:[j.jsxs("div",{className:"flex justify-between text-xs mono-tactical text-tactical-cyan mb-3",children:[j.jsx("span",{className:"font-semibold",children:"INITIATING SEARCH PROTOCOL..."}),j.jsxs("span",{className:"data-metric font-bold",children:[Math.round(o),"%"]})]}),j.jsx("div",{className:"h-2 bg-navy-800 rounded-full overflow-hidden shadow-inner",children:j.jsx(Va.div,{className:"h-full bg-gradient-to-r from-indigo-500 to-tactical-cyan shadow-glow-md",style:{width:`${o}%`}})}),j.jsxs("div",{className:"mt-4 space-y-1.5",children:[o>20&&j.jsxs("div",{className:"text-xs mono-tactical text-slate-400 flex items-center gap-2",children:[j.jsx("span",{className:"w-1 h-1 rounded-full bg-indigo-400 animate-pulse"}),'Scanning databases for "',a,'"...']}),o>50&&j.jsxs("div",{className:"text-xs mono-tactical text-slate-400 flex items-center gap-2",children:[j.jsx("span",{className:"w-1 h-1 rounded-full bg-indigo-400 animate-pulse"}),"Correlating entities..."]}),o>80&&j.jsxs("div",{className:"text-xs mono-tactical text-slate-400 flex items-center gap-2",children:[j.jsx("span",{className:"w-1 h-1 rounded-full bg-indigo-400 animate-pulse"}),"Building filtered topology..."]})]})]})})}),t==="GRAPH"&&j.jsx(Va.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 bg-navy-950",children:j.jsx(qF,{onNodeSelect:n,searchResults:l})})]}),j.jsx(ou,{children:r&&j.jsx(KF,{node:r,onClose:()=>n(null)})})]})}mh.createRoot(document.getElementById("root")).render(j.jsx(Kv.StrictMode,{children:j.jsx(YF,{})}));
